<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
  <channel>
    <title>org-page</title>
    <link>http://tsubasawp.github.io/</link>
    <description>static site generator</description>
    <pubDate>Tue, 03 May 2016 08:23:52 CST</pubDate>
    <lastBuildDate>Tue, 03 May 2016 08:23:52 CST</lastBuildDate>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>Org-page static site generator (https://github.com/kelvinh/org-page)</generator>
    <item>
      <title>Hello World</title>
      <link>http://tsubasawp.github.io/blog/2016/01/16/hello-world/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>Hello World</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. First Blog From Org-Page</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> First Blog From Org-Page</h2>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/01/16/hello-world/</guid>
    </item>
    <item>
      <title>PPPUC++ Reading Note</title>
      <link>http://tsubasawp.github.io/blog/2016/01/26/pppuc++-reading-note/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>PPPUC++ Reading Note</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline6">1. CH. 17  Memory, Address</a>
<ul>
<li><a href="#orgheadline1">1.1. åˆå§‹åŒ–:</a></li>
<li><a href="#orgheadline2">1.2. ç©ºæŒ‡é’ˆ:</a></li>
<li><a href="#orgheadline3">1.3. Free-Store:</a></li>
<li><a href="#orgheadline4">1.4. ææ„å‡½æ•°:</a></li>
<li><a href="#orgheadline5">1.5. æŒ‡é’ˆå’Œå¼•ç”¨:</a></li>
</ul>
</li>
<li><a href="#orgheadline13">2. CH. 18 Vector and Array</a>
<ul>
<li><a href="#orgheadline7">2.1. Copying</a></li>
<li><a href="#orgheadline8">2.2. Moving</a></li>
<li><a href="#orgheadline9">2.3. explicit</a></li>
<li><a href="#orgheadline10">2.4. Get &amp; Set</a></li>
<li><a href="#orgheadline11">2.5. Array</a></li>
<li><a href="#orgheadline12">2.6. Excrise</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6"><span class="section-number-2">1</span> CH. 17  Memory, Address</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">

<pre class="src src-c++">int main()
{
  char a = 'a';
  char b = 'b';
  void *pv = &amp;a;
  int *pa = (int*)pv;
  std:: cout &lt;&lt;*pa&lt;&lt;std::endl;
  *pa = 65535;
  std:: cout &lt;&lt;(char*)&amp;a&lt;&lt;" "&lt;&lt;(char*)&amp;b&lt;&lt;std::endl;
  std:: cout &lt;&lt;a&lt;&lt;" "&lt;&lt;b&lt;&lt;std::endl;
  return 0;
}

ï¿½ï¿½ bï¿½ï¿½
ï¿½ b
</pre>
</div>

<p>
å®æµ‹å †ä¸Šåˆ†é…çš„å†…å­˜å¹¶æ²¡æœ‰æº¢å‡º
</p>

<p>
int* å’Œ char* ä¸èƒ½ç›´æ¥äº’ç›¸èµ‹å€¼çš„åŸå› : ç´¢å¼•æ•°ç»„æ—¶åœ°å€è·¨è¶Šé•¿åº¦
</p>
</div>

<div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> åˆå§‹åŒ–:</h3>
<div class="outline-text-3" id="text-1-1">
<p>
ä¸ºäº†é¿å…è¯¯ç”¨æœªåˆå§‹åŒ–çš„å˜é‡, å°½é‡ä¿è¯å˜é‡åœ¨è¢«å£°æ˜çš„åŒæ—¶åˆå§‹åŒ–.
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> ç©ºæŒ‡é’ˆ:</h3>
<div class="outline-text-3" id="text-1-2">
<p>
c++11 å¼•å…¥äº†nullptr, æ—¨åœ¨äºè§£å†³nullçš„äºŒä¹‰æ€§é—®é¢˜
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.3</span> Free-Store:</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Free-Storeç”±Store Managerç®¡ç†
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">1.4</span> ææ„å‡½æ•°:</h3>
<div class="outline-text-3" id="text-1-4">
<p>
å ç”¨Free-Storeçš„ç±»éƒ½éœ€è¦ææ„å‡½æ•°
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">1.5</span> æŒ‡é’ˆå’Œå¼•ç”¨:</h3>
<div class="outline-text-3" id="text-1-5">
<p>
ä¼ å€¼å’Œä¼ æŒ‡é’ˆ: æŒ‡é’ˆå…è®¸nullptr, å¯èƒ½éœ€è¦é¢å¤–å†™é˜²å¾¡ä»£ç .
</p>
</div>
</div>
</div>


<div id="outline-container-orgheadline13" class="outline-2">
<h2 id="orgheadline13"><span class="section-number-2">2</span> CH. 18 Vector and Array</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>initializer<sub>list</sub></li>
<li>copy constructor</li>
<li>copy assignment</li>
</ul>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">2.1</span> Copying</h3>
</div>



<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">2.2</span> Moving</h3>
<div class="outline-text-3" id="text-2-2">
<p>
&amp;&amp; ?
</p>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">2.3</span> explicit</h3>
</div>


<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">2.4</span> Get &amp; Set</h3>
<div class="outline-text-3" id="text-2-4">
<p>
ç´¢å¼•é é‡è½½[]è¿ç®—ç¬¦å®ç°, å¹¶è¿”å›reference. 
</p>
<ul class="org-ul">
<li>è‹¥è¿”å›å€¼åˆ™åªèƒ½getæ— æ³•set(å¯ç”¨ä½œconstç‰ˆæœ¬), è¿”å›æŒ‡é’ˆåˆ™ä¹¦å†™èµ·æ¥æ¯”è¾ƒåˆ«æ‰­.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3">2.5</span> Array</h3>
<div class="outline-text-3" id="text-2-5">
<p>
arrayçš„é—®é¢˜: ç¼–è¯‘å™¨éš¾ä»¥åšåˆ°è¾¹ç•Œæ£€æŸ¥
pointer arithmetic
</p>
</div>
</div>


<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">2.6</span> Excrise</h3>
<div class="outline-text-3" id="text-2-6">
<p>
<i>/
/</i>  main.cpp
<i>/  PPPUC
/</i>
<i>/  Created by Tsubasa on 1/30/16.
/</i>  Copyright (c) 2016 tsu. All rights reserved.
//
</p>

<p>
#include &lt;iostream&gt;
using namespace std;
</p>

<p>
class Vector
{
  int sz;
  double * elem;
public:
  Vector(int s): sz{s}, elem{new double[s]}
  {
    for(int i = 0; i &lt; sz; i++) elem[i] = 0;
  }
</p>

<p>
Vector(initializer<sub>list</sub>&lt;double&gt; lst): sz{(int)lst.size()},elem{new double[lst.size()]}
{
  copy(lst.begin(),lst.end(),elem);
}
</p>

<p>
Vector(const Vector&amp;);
</p>

<p>
Vector&amp; operator=(const Vector&amp;);
</p>

<p>
  ~Vector(){delete[] elem;}
  void Set(int, double);
  void Print();
};
</p>

<p>
void Vector::Set(int index, double value)
{
  if (index &gt;= sz) return;
  elem[index] = value;
}
</p>

<p>
void Vector::Print()
{
  for (int i = 0; i &lt; sz; i++)
    {
      cout&lt;&lt;(elem[i])&lt;&lt;endl;
    }
}
</p>

<p>
Vector::Vector(const Vector&amp; arg)
  :sz(arg.sz),elem(new double[arg.sz])
{
  copy(arg.elem,arg.elem+arg.sz,elem);
}
</p>

<p>
Vector&amp; Vector::operator=(const Vector&amp; arg)
{
  double *d = new double[arg.sz];
  copy(arg.elem,arg.elem+arg.sz,d);
  delete[] elem;
  elem = d;
  sz = arg.sz;
  return *this;
}
</p>

<p>
// exc 1
char <b>strup(const char</b> a)
{
  int sz = 0;
  while ( a[sz] != 0 )  sz++;
</p>

<p>
char * res = new char[sz+1];
for(int i = 0; i &lt;= sz; i++) res[i] = *a+i;
</p>

<p>
  return res;
}
</p>

<p>
// exc 2
</p>


<p>
int main(int argc, const char * argv[]) {
</p>

<p>
  return 0;
}
</p>
</div>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/01/26/pppuc++-reading-note/</guid>
    </item>
    <item>
      <title>SICP-CH1-æ„é€ è¿‡ç¨‹æŠ½è±¡</title>
      <link>http://tsubasawp.github.io/blog/2016/03/09/sicp-ch1-æ„é€ è¿‡ç¨‹æŠ½è±¡/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>SICP-CH1-æ„é€ è¿‡ç¨‹æŠ½è±¡</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline79">1. æ„é€ è¿‡ç¨‹æŠ½è±¡</a>
<ul>
<li><a href="#orgheadline8">1.1. ç¨‹åºè®¾è®¡çš„åŸºæœ¬å…ƒç´ </a>
<ul>
<li><a href="#orgheadline1">1.1.1. è¡¨è¾¾å¼</a></li>
<li><a href="#orgheadline2">1.1.2. å‘½åå’Œç¯å¢ƒ</a></li>
<li><a href="#orgheadline3">1.1.3. ç»„åˆå¼æ±‚å€¼</a></li>
<li><a href="#orgheadline4">1.1.4. å¤åˆè¿‡ç¨‹</a></li>
<li><a href="#orgheadline5">1.1.5. è¿‡ç¨‹åº”ç”¨çš„ä»£æ¢æ¨¡å‹</a></li>
<li><a href="#orgheadline6">1.1.6. æ¡ä»¶è¡¨è¾¾å¼å’Œè°“è¯</a></li>
<li><a href="#orgheadline7">1.1.7. [ä¹ é¢˜]</a></li>
</ul>
</li>
<li><a href="#orgheadline10">1.2. å®ä¾‹:é‡‡ç”¨ç‰›é¡¿æ³•æ±‚å¹³æ–¹æ ¹</a>
<ul>
<li><a href="#orgheadline9">1.2.1. [ä¹ é¢˜]</a></li>
</ul>
</li>
<li><a href="#orgheadline13">1.3. è¿‡ç¨‹ä½œä¸ºé»‘ç®±æŠ½è±¡</a>
<ul>
<li><a href="#orgheadline11">1.3.1. å±€éƒ¨å</a></li>
<li><a href="#orgheadline12">1.3.2. å†…éƒ¨å®šä¹‰å’Œå—ç»“æ„</a></li>
</ul>
</li>
<li><a href="#orgheadline47">1.4. è¿‡ç¨‹ä¸å®ƒä»¬æ‰€äº§ç”Ÿçš„è®¡ç®—</a>
<ul>
<li><a href="#orgheadline14">1.4.1. çº¿æ€§çš„é€’å½’å’Œè¿­ä»£</a></li>
<li><a href="#orgheadline17">1.4.2. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline18">1.4.3. æ ‘å½¢é€’å½’</a></li>
<li><a href="#orgheadline22">1.4.4. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline23">1.4.5. å¢é•¿çš„é˜¶</a></li>
<li><a href="#orgheadline26">1.4.6. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline27">1.4.7. æ±‚å¹‚</a></li>
<li><a href="#orgheadline32">1.4.8. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline33">1.4.9. æœ€å¤§å…¬çº¦æ•°</a></li>
<li><a href="#orgheadline35">1.4.10. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline36">1.4.11. ç´ æ•°æ£€æµ‹</a></li>
<li><a href="#orgheadline37">1.4.12. æ¦‚ç‡æ–¹æ³•</a></li>
<li><a href="#orgheadline46">1.4.13. [ä¹ é¢˜]</a></li>
</ul>
</li>
<li><a href="#orgheadline78">1.5. ç”¨é«˜é˜¶å‡½æ•°åšæŠ½è±¡</a>
<ul>
<li><a href="#orgheadline48">1.5.1. è¿‡ç¨‹ä½œä¸ºå‚æ•°</a></li>
<li><a href="#orgheadline53">1.5.2. [ç»ƒä¹ ]</a></li>
<li><a href="#orgheadline54">1.5.3. ç”¨lambdaæ„é€ è¿‡ç¨‹</a></li>
<li><a href="#orgheadline55">1.5.4. ç”¨letåˆ›å»ºå±€éƒ¨å˜é‡</a></li>
<li><a href="#orgheadline57">1.5.5. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline60">1.5.6. è¿‡ç¨‹ä½œä¸ºä¸€èˆ¬æ€§çš„æ–¹æ³•</a></li>
<li><a href="#orgheadline66">1.5.7. [ä¹ é¢˜]</a></li>
<li><a href="#orgheadline69">1.5.8. è¿‡ç¨‹ä½œä¸ºè¿”å›å€¼</a></li>
<li><a href="#orgheadline77">1.5.9. [ä¹ é¢˜]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
sicpçªç»ˆäºå›æ¥äº†&#x2026;
</p>

<p>
[å‰è¨€]
é¦–å…ˆæ€»ç»“ä¸€ä¸‹å‰è¨€å§. è¿™æœ¬ä¹¦çš„ç›®æ ‡æ˜¯æ•™æˆä¸€ç§é€šç”¨çš„æ–¹æ³•å­¦æ€æƒ³, ä¸ä»…é™äºè®¡ç®—æœºç¨‹åºè®¾è®¡.
é‡‡ç”¨scheme(lispçš„ä¸€ç§æ–¹è¨€)æ•™æˆè¿™é—¨è¯¾,æ˜¯å› ä¸ºå®ƒé›†powerfulä¸beautifuläºä¸€èº«.
</p>

<p>
ps:ç¬¬ä¸€å¥è¯è¯´è¿™æœ¬ä¹¦æ˜¯MITè®¡ç®—æœºç§‘å­¦çš„å…¥é—¨æ•™æ&#x2026;çœ‹åˆ°è¿™ä¸ªæˆ‘å°±è·ªä¸‹äº†. 
</p>

<div id="outline-container-orgheadline79" class="outline-2">
<h2 id="orgheadline79"><span class="section-number-2">1</span> æ„é€ è¿‡ç¨‹æŠ½è±¡</h2>
<div class="outline-text-2" id="text-1">
<p>
è®¡ç®—è¿‡ç¨‹: å­˜åœ¨äºè®¡ç®—æœºé‡Œçš„ä¸€ç±»æŠ½è±¡äº‹ç‰©,è¿™äº›è¿‡ç¨‹ä¼šå»æ“ä½œä¸€äº›ç§°ä¸º <code>æ•°æ®</code> çš„æŠ½è±¡äº‹ç‰©. äººä»¬åˆ›å»ºå‡ºä¸€äº›ç§°ä¸º <code>ç¨‹åº</code> çš„è§„åˆ™æ¨¡å¼, ä»¥æŒ‡å¯¼è¿™ç±»è¿‡ç¨‹çš„è¿›è¡Œ.
</p>

<p>
è®¡ç®—è¿‡ç¨‹çš„lispæè¿°æœ¬èº«å¯ä»¥ä½œä¸ºlispçš„æ•°æ®æ¥è¡¨ç¤ºå’Œæ“ä½œ. è¿™ç§çµæ´»æ€§ä½¿lispç§°ä¸ºæ¢ç´¢è¯­è¨€ç‰¹å¾çš„æœ€æ–¹ä¾¿çš„è¯­è¨€ä¹‹ä¸€.
</p>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">1.1</span> ç¨‹åºè®¾è®¡çš„åŸºæœ¬å…ƒç´ </h3>
<div class="outline-text-3" id="text-1-1">
<p>
ä¸€ä¸ªpowerfulçš„è¯­è¨€, é™¤äº†èƒ½å¤Ÿæ‰§è¡Œä»»åŠ¡, æ›´åº”è¯¥èƒ½å¸®åŠ©ç¨‹åºçŒ¿ç»„ç»‡è‡ªå·±çš„æ€æƒ³.
</p>

<ul class="org-ul">
<li>åŸºæœ¬è¡¨è¾¾å½¢å¼</li>
<li>ç»„åˆçš„æ–¹æ³•</li>
<li>æŠ½è±¡çš„æ–¹æ³•</li>
</ul>

<p>
åœ¨ç¨‹åºè®¾è®¡ä¸­,æˆ‘ä»¬éœ€è¦å¤„ç†ä¸¤ç±»è¦ç´ :è¿‡ç¨‹å’Œæ•°æ®. æœ¬ç« æŠŠé‡ç‚¹æ”¾åœ¨è¿‡ç¨‹ä¸Š.
</p>
</div>

<div id="outline-container-orgheadline1" class="outline-4">
<h4 id="orgheadline1"><span class="section-number-4">1.1.1</span> è¡¨è¾¾å¼</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
æœ€ç®€å•çš„è¡¨è¾¾å¼: 42, è¡¨ç¤ºåŸºæœ¬è¿‡ç¨‹çš„è¡¨è¾¾å¼: ( + 42 42 ). '+'ç§°ä¸º <code>è¿ç®—ç¬¦</code>, æ•°å­—æ˜¯ <code>è¿ç®—å¯¹è±¡</code>, æ±‚å€¼è¿‡ç¨‹å°±æ˜¯å°†è¿ç®—ç¬¦æ‰€åˆ»ç”»çš„è¿ç®—è¿‡ç¨‹åº”ç”¨äºè¿ç®—å¯¹è±¡.
</p>

<p>
lispæŠŠè¿ç®—ç¬¦æ”¾åœ¨å·¦è¾¹, ç§°ä¸º <code>å‰ç¼€è¡¨ç¤º</code>. å‰ç¼€è¡¨ç¤ºçš„ä¼˜ç‚¹æ˜¯:
</p>
<ul class="org-ul">
<li>å¯ä»¥å¸¦æœ‰ä»»æ„ä¸ªå®å‚è€Œæ²¡æœ‰æ­§ä¹‰</li>
<li>å¯ä»¥ç›´æ¥æ‰©å……, å…è®¸å‡ºç°ç»„åˆå¼åµŒå¥—, å¦‚(+ ( * 3 5 ) ( - 10 6))</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-4">
<h4 id="orgheadline2"><span class="section-number-4">1.1.2</span> å‘½åå’Œç¯å¢ƒ</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
ç¨‹åºè®¾è®¡è¯­è¨€éœ€è¦æä¾›ä¸€ç§[é€šè¿‡åå­—å»ä½¿ç”¨è®¡ç®—å¯¹è±¡]çš„æ–¹å¼.
</p>

<p>
åœ¨schemeä¸­, å‘½åé€šè¿‡defineæ¥è¿›è¡Œ.
</p>
<pre class="example">
(define size 2)
</pre>
<p>
æˆ‘ä»¬å¯ä»¥æŠŠå€¼2ä¸ç¬¦å·sizeå…³è”, åˆèƒ½å¤Ÿæå–å‡ºè¿™ä¸ªå€¼, è¿™è¯´æ˜è§£é‡Šå™¨æœ‰å­˜å‚¨èƒ½åŠ›,ä»¥ç»´æŠ¤åå­—-å€¼å¯¹å¶çš„è½¨è¿¹, è¿™ç§å­˜å‚¨ç§°ä¸º <code>ç¯å¢ƒ</code>.
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-4">
<h4 id="orgheadline3"><span class="section-number-4">1.1.3</span> ç»„åˆå¼æ±‚å€¼</h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
æ±‚å€¼ä¸€ä¸ªç»„åˆå¼çš„æ­¥éª¤æ˜¯:
</p>
<ul class="org-ul">
<li>1) æ±‚å€¼è¯¥ç»„åˆå¼çš„å„ä¸ªå­è¡¨è¾¾å¼</li>
<li>2) å°†ä½œä¸ºæœ€å·¦å­è¡¨è¾¾å¼çš„å€¼çš„è¿‡ç¨‹åº”ç”¨äºç›¸åº”çš„å®é™…å‚æ•°.</li>
</ul>

<p>
æ²¡é”™å°±æ˜¯é€’å½’. é€’å½’æ˜¯ä¸€ç§å¤„ç†å±‚æ¬¡ç»“æ„çš„å¼ºæœ‰åŠ›çš„æŠ€æœ¯. è¿™ç§è®¡ç®—è¿‡ç¨‹ç§°ä¸º <code>æ ‘å½¢ç§¯ç´¯</code>.
</p>

<p>
åœ¨æ±‚å€¼è¿‡ç¨‹ä¸­, <code>ç¯å¢ƒ</code> ç”¨äºç¡®å®šè¡¨è¾¾å¼ä¸­å„ä¸ªç¬¦å·çš„æ„ä¹‰, å®ƒä¸ºæ±‚å€¼è¿‡ç¨‹æä¾›äº†ä¸€ç§ä¸Šä¸‹æ–‡.
</p>

<p>
ä¾‹å¤–: å¯¹è¡¨è¾¾å¼ (define x 1) æ±‚å€¼ä¸æ˜¯æŠŠdefineè¿ç”¨äºä¸¤ä¸ªå‚æ•°, å› ä¸ºdefineçš„ä½œç”¨æ˜¯å…³è”xå’Œ1, ä¹Ÿå°±æ˜¯è¯´(define x 1)ä¸æ˜¯ä¸€ä¸ªç»„åˆå¼. è¿™ç§ä¾‹å¤–ç§°ä¸º <code>ç‰¹æ®Šå½¢å¼</code> .
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-4">
<h4 id="orgheadline4"><span class="section-number-4">1.1.4</span> å¤åˆè¿‡ç¨‹</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
ä¸Šè¿°çš„æŸäº›å…ƒç´ ä¹Ÿä¼šå‡ºç°åœ¨å…¶å®ƒè¯­è¨€ä¸­:
</p>
<ul class="org-ul">
<li>æ•°å’Œç®—æœ¯è¿ç®—æ˜¯åŸºæœ¬çš„æ•°æ®å’Œè¿‡ç¨‹</li>
<li>ç»„åˆå¼çš„åµŒå¥—æä¾›äº†ä¸€ç§ç»„ç»‡èµ·å¤šä¸ªæ“ä½œçš„æ–¹æ³•</li>
<li>å®šä¹‰æ˜¯ä¸€ç§å—é™çš„æŠ½è±¡æ‰‹æ®µ, å®ƒä¸ºåå­—å…³è”å“åº”çš„å€¼.</li>
</ul>

<p>
ä¸‹é¢æ¥è®²å¨åŠ›æ›´å¼ºå¤§çš„ <code>è¿‡ç¨‹å®šä¹‰</code>
</p>
<pre class="example">
(define (square x) (* x x ))
</pre>
<p>
ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªå¤åˆè¿‡ç¨‹square, å®šä¹‰å¥½ä¹‹åå¯ä»¥è¿™æ ·ä½¿ç”¨
</p>
<pre class="example">
(square 21)
</pre>
<p>
æœ‰ç‚¹åƒå®šä¹‰å‡½æ•°. æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æŠŠsquareä½œä¸ºåŸºæœ¬æ„å»ºå»å®šä¹‰å…¶å®ƒè¿‡ç¨‹
</p>
<pre class="example">
(define (sum-of-squares x y) ( + (square x) (square Y)))
</pre>

<p>
å¤åˆè¿‡ç¨‹çš„ä½¿ç”¨æ–¹å¼ä¸åŸºæœ¬è¿‡ç¨‹å®Œå…¨ä¸€è‡´.
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-4">
<h4 id="orgheadline5"><span class="section-number-4">1.1.5</span> è¿‡ç¨‹åº”ç”¨çš„ä»£æ¢æ¨¡å‹</h4>
<div class="outline-text-4" id="text-1-1-5">
<p>
å¯¹å¸¦æœ‰å¤åˆè¿‡ç¨‹çš„ç»„åˆå¼æ±‚å€¼, è§£é‡Šå™¨ä¼šå…ˆ"å±•å¼€"å¤åˆè¿‡ç¨‹, æŠŠé—®é¢˜è§„çº¦ä¸ºå¯¹å¦ä¸€ä¸ªç»„åˆå¼æ±‚å€¼. 
</p>
<pre class="example">
(square 21) -&gt; (* 21 21)
</pre>
<p>
è¿™ç§è®¡ç®—è¿‡ç¨‹ç§°ä¸ºè¿‡ç¨‹åº”ç”¨çš„ <code>ä»£æ¢æ¨¡å‹</code>
</p>

<p>
<code>åº”ç”¨åº</code>: å…ˆæ±‚å€¼å‚æ•°è€Œååº”ç”¨çš„æ±‚å€¼æ¨¡å‹
</p>

<p>
<code>æ­£åˆ™åº</code>: å®Œå…¨å±•å¼€è€Œåè§„çº¦çš„æ±‚å€¼æ¨¡å‹
</p>

<p>
lispé‡‡ç”¨åº”ç”¨åºæ±‚å€¼, éƒ¨åˆ†åŸå› åœ¨äºè¿™æ ·å¯ä»¥é¿å…å¯¹äºè¡¨è¾¾å¼çš„é‡å¤æ±‚å€¼, é‡ç‚¹æ˜¯åœ¨è¶…å‡ºå¯ä»¥é‡‡ç”¨æ›¿æ¢æ–¹å¼æ¨¡æ‹Ÿçš„è¿‡ç¨‹èŒƒå›´ä¹‹å, æ­£åˆ™åºçš„å¤„ç†å°†å˜å¾—å¤æ‚çš„å¤š.
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-4">
<h4 id="orgheadline6"><span class="section-number-4">1.1.6</span> æ¡ä»¶è¡¨è¾¾å¼å’Œè°“è¯</h4>
<div class="outline-text-4" id="text-1-1-6">
<p>
    æ¡ä»¶è¡¨è¾¾å¼
ä¾æ®ä¸åŒæƒ…å†µé‡‡å–ä¸åŒåŠ¨ä½œçš„ç»“æ„å«åš <code>åˆ†æƒ…å†µåˆ†æ</code>
<code>cond</code>
</p>
<pre class="example">
(cond ((&gt; x 0 )x) ((= x 0) 0) ((&lt; x 0) (-x)))
(cond ((&lt; x 0) (-x) (else x)))
</pre>
<p>
elseæ˜¯ä¸€ä¸ªç‰¹æ®Šç¬¦å·,å¯ä»¥ç”¨åœ¨condæœ€åä¸€ä¸ªä½ç½®,å¦‚æœcondæ‰€æœ‰åˆ†æ”¯éƒ½è¢«è·³è¿‡,å°±ä¼šè¿”å›elseçš„å€¼
<code>if</code>
</p>
<pre class="example">
(if (&lt; x 0) (-x) x)
</pre>
<p>
ifæ˜¯condçš„ä¸€ç§å—é™å½¢å¼, é€‚ç”¨äºåªæœ‰ä¸¤ç§æƒ…å†µçš„åˆ†æ.
è°“è¯: <code>&lt; &gt; and or not</code> &#x2026;
æ³¨æ„andå’Œoréƒ½æ˜¯ç‰¹æ®Šå½¢å¼,å®ƒä»¬çš„å­è¡¨è¾¾å¼ä¸ä¸€å®šæ±‚å€¼. notåˆ™æ˜¯ä¸€ä¸ªæ™®é€šè¿‡ç¨‹.
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-4">
<h4 id="orgheadline7"><span class="section-number-4">1.1.7</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-1-7">
<ul class="org-ul">
<li>1.1 .æ±‚å€¼(é€‰åšä¸€éƒ¨åˆ†)</li>
</ul>
<p>
(define a 3) -&gt; a
(define b ( + a 1)) -&gt; b
(= a b) -&gt; #f
</p>

<ul class="org-ul">
<li>1.2 å°†ä¸‹é¢è¡¨è¾¾å¼å˜æ¢ä¸ºå‰ç¼€å½¢å¼:</li>
</ul>
<p>
(5+4+(2-(3-(6+5/4))))/(3*(6-2)(2-7))
</p>

<pre class="example">
(/ (+ 5 4 (- 2 (- 3 ( + 6 (/ 5 4))))) (* 3 (- 6 2) ( - 2 7)))
</pre>

<ul class="org-ul">
<li>1.3 å®šä¹‰ä¸€ä¸ªè¿‡ç¨‹, å®ƒä»¥ä¸‰ä¸ªæ•°ä¸ºå‚æ•°, è¿”å›å…¶ä¸­è¾ƒå¤§çš„ä¸¤ä¸ªæ•°ä¹‹å’Œ</li>
</ul>
<pre class="example">
(define (min x y z) 
      (cond (((&lt; x y) and (&lt; x z))  x)
  (((&lt; y x) and (&lt; y z))  y)
  (else z)))
(define (sum2 x y z) (- (+ x y z) (min x y z )))
</pre>

<ul class="org-ul">
<li>1.4 ä»”ç»†è€ƒå¯Ÿä¸Šé¢ç»™å‡ºçš„å…è®¸è¿ç®—ç¬¦ä¸ºå¤åˆè¡¨è¾¾å¼çš„ç»„åˆå¼çš„æ±‚å€¼æ¨¡å‹, æ ¹æ®å¯¹è¿™ä¸€æ¨¡å‹çš„è®¤çŸ¥æè¿°ä¸‹é¢è¿‡ç¨‹çš„è¡Œä¸º:</li>
</ul>
<pre class="example">
(define (a-plus-abs-b a b) ((if (&gt; b 0)  + -) a b))
</pre>
<ul class="org-ul">
<li>å¯¹å­è¡¨è¾¾å¼(&gt; b 0)æ±‚å€¼, å¾—ç»“æœr1</li>
<li>å¯¹å­è¡¨è¾¾å¼(if (r1) + -)æ±‚å€¼, å¾—åˆ°ç»“æœr2, r2æ˜¯è¿ç®—è¿‡ç¨‹.</li>
<li>å¯¹(r2 a b)æ±‚å€¼</li>

<li>1.5 Benå‘æ˜äº†ä¸€ç§æ£€æµ‹æ–¹æ³•,èƒ½å¤Ÿç¡®å®šè§£é‡Šå™¨ä»¥æ­£åˆ™åºæ±‚å€¼, è¿˜æ˜¯ä»¥åº”ç”¨åºæ±‚å€¼. ä»–å®šä¹‰äº†ä¸‹é¢ä¸¤ä¸ªè¿‡ç¨‹:</li>
</ul>
<pre class="example">
(define (p) (p))
(define (test x y) (if ( = x 0) 0 y))
(test 0 (p))
</pre>
<p>
ç”¨åº”ç”¨åºå’Œæ­£åˆ™åºè§£é‡Šå™¨è¿è¡Œå®ƒä»¬, æœ€ç»ˆä¼šå‘ç”Ÿä»€ä¹ˆ?
</p>
<ul class="org-ul">
<li>åº”ç”¨åº: 0</li>
<li>æ­£åˆ™åº: æ— é™å¾ªç¯. å› ä¸ºæ— è®º(= x 0)çš„ç»“æœå¦‚ä½•, yéƒ½ä¼šè¢«æ±‚å€¼.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">1.2</span> å®ä¾‹:é‡‡ç”¨ç‰›é¡¿æ³•æ±‚å¹³æ–¹æ ¹</h3>
<div class="outline-text-3" id="text-1-2">
<p>
ä¸Šé¢ä»‹ç»çš„è¿‡ç¨‹éƒ½å¾ˆåƒå¸¸è§„æ•°å­¦å‡½æ•°, ç„¶è€Œæ•°å­¦å’Œè®¡ç®—æœºè¿‡ç¨‹æœ‰ä¸€äº›åŒºåˆ«:
</p>
<ul class="org-ul">
<li>æ•°å­¦å…³å¿ƒè¯´æ˜æ€§çš„æè¿°(æ˜¯ä»€ä¹ˆ)</li>
<li>è®¡ç®—æœºå…³å¿ƒè¡ŒåŠ¨æ€§çš„æè¿°(æ€ä¹ˆåš)</li>
</ul>

<p>
ä¸€ä¸ªæ±‚å¹³æ–¹æ ¹çš„æ•°å­¦æè¿°æ˜¯: squrt(x) = y, y&gt;=0 &amp;&amp; y<sup>2</sup>=x. æˆ‘ä»¬æ— æ³•æŠŠå®ƒç›´è¯‘æˆè®¡ç®—æœºå‡½æ•°.
è®¡ç®—æœºæ±‚å¹³æ–¹æ ¹çš„å¸¸ç”¨æ–¹æ³•æ˜¯:
<code>ç‰›é¡¿é€æ­¥é€¼è¿‘æ³•</code> : å…ˆçŒœæµ‹ä¸€ä¸ªå€¼a, å¹¶è®¡ç®—b = x/a, æ¯”è¾ƒaå’Œbæ˜¯å¦è¶³å¤Ÿç›¸ä¼¼, å¦‚æœä¸æ»¡è¶³æ¡ä»¶åˆ™æ‰§è¡Œä¸€äº›æ“ä½œå¾—åˆ°æ›´å¥½çš„çŒœæµ‹a2, å¾ªç¯å¾€å¤ç›´åˆ°æ±‚å‡ºå¹³æ–¹æ ¹.
</p>

<p>
åŸºæœ¬ç­–ç•¥:
</p>
<pre class="example">
(define (sqrt-iter guess x)
  (if (good-enough guess x)
      guess
      (sqrt-iter (improve guess x) x)))
</pre>

<p>
å¡«å……ç»†èŠ‚:
</p>
<pre class="example">
(define (improve guess x)
  (average guess (/ x guess)))

(define (average x y) (/ (+ x y) 2))

(define (good-enough guess x)
        (&lt; (abs (- (square guess) x)) 0.001))
</pre>

<p>
å¯åŠ¨:
</p>
<pre class="example">
(define (squrt x) (sqrt-iter 1.0 x))    
</pre>
</div>

<div id="outline-container-orgheadline9" class="outline-4">
<h4 id="orgheadline9"><span class="section-number-4">1.2.1</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-2-1">
<ul class="org-ul">
<li>1.6 å¯å¦é€šè¿‡condå®šä¹‰ä¸€ä¸ªå¸¸è§„è¿‡ç¨‹æ¥ä»£æ›¿ifå‘¢? Evaå°è¯•å†™äº†ä»¥ä¸‹ç¨‹åº,</li>
</ul>
<p>
é—®: å¦‚æœç”¨è¿™ä¸ªnew-ifæ¥å®ç°æ±‚å¹³æ–¹æ ¹ç¨‹åºsqrt-iter,ä¼šæœ‰ä»€ä¹ˆé—®é¢˜
</p>
<pre class="example">
(define (new-if predicate then-clause else-clause)
        (cond (predicate then-clause)
              (else else-clause)))
</pre>
<p>
ç­”: é—®é¢˜åœ¨äºcondçš„æ‰€æœ‰åˆ†æ”¯éƒ½ä¼šè¢«æ±‚å€¼. 
sqrt-iteræ˜¯é€’å½’,ifæ»¡è¶³æ¡ä»¶æ—¶ä¸å¯¹else-clauseæ±‚å€¼, ä»è€Œå¯ä»¥åœæ­¢é€’å½’è°ƒç”¨.
è€Œnew-ifç”±äºæ‰€æœ‰åˆ†æ”¯éƒ½ä¼šæ— æ¡ä»¶æ±‚å€¼, æ‰€ä»¥å®ƒåº”ç”¨äºé€’å½’å‡½æ•°æ—¶æ ¹æœ¬åœä¸ä¸‹æ¥.
</p>

<ul class="org-ul">
<li>1.7 ä¸Šé¢good-enoughçš„å®ç°å¯¹äºå¾ˆå°æˆ–å¾ˆå¤§çš„æ•°æ¥è¯´ä¸å¤ªå¥½, è¯·ç»™å‡ºè¯æ˜.</li>
</ul>
<p>
å¦‚æœä½¿ç”¨ç›‘æµ‹çŒœæµ‹å€¼æ”¹å˜æ¯”ç‡çš„æ–¹å¼, å¯¹äºå¤§æ•°æˆ–å°æ•°æ¥è¯´å¯ä»¥å·¥ä½œå—?
</p>
<ul class="org-ul">
<li>å¯¹äºå°äº0.001(good-enoughçš„ä¸´ç•Œå€¼)çš„å°æ•°,good-enoughæ— æ³•è¿›è¡Œæ­£ç¡®çš„åˆ¤æ–­.</li>
</ul>
<p>
å¯¹äºå¤§æ•°æ¥è¯´, ç”±äºç²¾åº¦ä¸è¶³ä»¥è¡¨ç¤ºguesså’Œxä¹‹é—´çš„å·®(good-enoughå‡ ä¹æ°¸è¿œä¸ºfalse), ç¨‹åºé™·å…¥æ­»å¾ªç¯.
</p>
<ul class="org-ul">
<li>æ”¹å˜æ¯”ç‡çš„ç®—æ³•å¯¹å¤§æ•°å’Œå°æ•°éƒ½å¯ä»¥å·¥ä½œ.</li>
</ul>
<pre class="example">
(define (good-enough old-guess new-guess)
        (&lt; (/ (abs (- old-guess new-guess)) old-guess) 0.01))
</pre>

<ul class="org-ul">
<li>1.8 ç”¨ç‰›é¡¿æ³•æ±‚ç«‹æ–¹æ ¹</li>
</ul>
<p>
å¦‚æœyæ˜¯xç«‹æ–¹æ ¹çš„ä¸€ä¸ªè¿‘ä¼¼å€¼,é‚£ä¹ˆä¸‹é¢å…¬å¼å¯ä»¥ç»™å‡ºä¸€ä¸ªæ›´å¥½çš„è¿‘ä¼¼å€¼: (x/y<sup>2</sup> +2*y)/3
</p>
<pre class="example">
(define (cube-iter guess x)
  (if (good-enough-cube guess x)
      guess
      (cube-iter (improve-cube guess x) x)))

(define (good-enough-cube guess x)
        (&lt; (abs (- (* guess guess  guess) x)) 0.001))

(define (improve-cube y x)
    (/ (+ (/ x (* y y)) (* 2 y)) 3))

(define (cube x) (cube-iter 1 x))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">1.3</span> è¿‡ç¨‹ä½œä¸ºé»‘ç®±æŠ½è±¡</h3>
<div class="outline-text-3" id="text-1-3">
<p>
<code>è¿‡ç¨‹æŠ½è±¡</code> ä¸€ä¸ªè¿‡ç¨‹çš„å®šä¹‰åº”å½“èƒ½éšè—èµ·ä¸€äº›ç»†èŠ‚,ä½¿å¾—è¿‡ç¨‹çš„ä½¿ç”¨è€…å¯ä»¥ç›´æ¥å¤ç”¨è€Œä¸å¿…å…³å¿ƒå®ç°ç»†èŠ‚.
</p>
</div>

<div id="outline-container-orgheadline11" class="outline-4">
<h4 id="orgheadline11"><span class="section-number-4">1.3.1</span> å±€éƒ¨å</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
è¿‡ç¨‹çš„æ„ä¹‰åº”è¯¥ä¸ä¾èµ–äºå…¶ä½œè€…ä¸ºå½¢å¼å‚æ•°æ‰€é€‰å®šçš„åå­—.
</p>

<p>
ä¸€ä¸ªè¿‡ç¨‹çš„å®šä¹‰ <code>çº¦æŸ</code> äº†å®ƒæ‰€æœ‰å½¢å¼å‚æ•°,å½¢å‚çš„å…·ä½“åå­—å®Œå…¨æ²¡æœ‰å…³ç³», è¿™æ ·çš„åå­—ç§°ä¸º <code>çº¦æŸå˜é‡</code> .
ç›¸åå¦‚æœä¸€ä¸ªå˜é‡ä¸æ˜¯è¢«çº¦æŸçš„, å®ƒå°±æ˜¯ <code>è‡ªç”±çš„</code>. 
</p>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-4">
<h4 id="orgheadline12"><span class="section-number-4">1.3.2</span> å†…éƒ¨å®šä¹‰å’Œå—ç»“æ„</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
å¹³æ–¹æ ¹ç¨‹åºæœ‰ä¸ªé—®é¢˜, å®ƒç”±è®¸å¤šåˆ†ç¦»çš„è¿‡ç¨‹ç»„æˆ, è€Œå®é™…ç”¨æˆ·åªå…³å¿ƒsqrtè¿™ä¸€ä¸ªè¿‡ç¨‹, å…¶å®ƒè¿‡ç¨‹ä¸å¿…æš´éœ²ç»™ç”¨æˆ·.
(è¦è¿è¡Œè¿™ä¸ªç¨‹åºä¹Ÿå¾ˆè›‹ç–¼å•Š&#x2026;)
</p>

<p>
æ‰€ä»¥,æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›éº»çƒ¦çš„å­è¿‡ç¨‹å±€éƒ¨åŒ–, æŠŠå®ƒä»¬éšè—åˆ°sqrté‡Œé¢.
</p>

<pre class="example">
(define (sqrt x)
   (define (good-enough ...))
   (define (improve-guess ...))
   (if (good-enough ...) ...)) ;;æ‡’å¾—æ•²äº†,è‡ªè¡Œè„‘è¡¥å§...
</pre>

<p>
è¿™ç§åµŒå¥—çš„å®šä¹‰ç§°ä¸º <code>å—ç»“æ„</code>. å®ƒæ˜¯æœ€ç®€å•çš„åå­—åŒ…è£…é—®é¢˜çš„ä¸€ç§æ­£ç¡®è§£å†³æ–¹å¼. (è®²é“ç†è¿™è¯çœŸçš„æ˜¯ç»•&#x2026;
</p>

<p>
å¦å¤–, é‡‡ç”¨è¿™ç§ç»“æ„é™¤äº†å¯ä»¥æŠŠè¾…åŠ©è¿‡ç¨‹éšè—ä¹‹å¤–, è¿˜å¯ä»¥åˆ©ç”¨ <code>è¯æ³•ä½œç”¨åŸŸ</code> æ¥ç®€åŒ–è¾…åŠ©è¿‡ç¨‹çš„å½¢å‚.
å¯¹è¿™ä¸ªä¾‹å­æ¥è¯´,å¯ä»¥çœç•¥æ‰è®¸å¤šx.
</p>

<p>
[å°å†å²] å—ç»“æ„çš„æ€æƒ³æ¥è‡ªç¨‹åºè®¾è®¡è¯­è¨€Algol 60.
</p>
</div>
</div>
</div>



<div id="outline-container-orgheadline47" class="outline-3">
<h3 id="orgheadline47"><span class="section-number-3">1.4</span> è¿‡ç¨‹ä¸å®ƒä»¬æ‰€äº§ç”Ÿçš„è®¡ç®—</h3>
<div class="outline-text-3" id="text-1-4">
<p>
èƒ½å¤Ÿçœ‹æ¸…æ‰€è€ƒè™‘çš„åŠ¨ä½œçš„åæœçš„èƒ½åŠ›, æ˜¯éå¸¸é‡è¦çš„. åªæœ‰åœ¨æ­¤ä¹‹å, äººä»¬æ‰èƒ½ <code>åå‘æ¨ç†</code>
</p>
</div>

<div id="outline-container-orgheadline14" class="outline-4">
<h4 id="orgheadline14"><span class="section-number-4">1.4.1</span> çº¿æ€§çš„é€’å½’å’Œè¿­ä»£</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
ä¸¤ç§è®¡ç®—è¿‡ç¨‹:
<code>çº¿æ€§é€’å½’è¿‡ç¨‹</code> åœ¨è¿™ç§è®¡ç®—è¿‡ç¨‹é‡Œ,ä»£æ¢æ¨¡å‹å±•ç¤ºå‡ºä¸€ç§å…ˆå±•å¼€åæ”¶ç¼©çš„å½¢çŠ¶,æœ€å¤§é•¿åº¦æ­£æ¯”äºn.
è§£é‡Šå™¨ä¸ºé€’å½’è¿‡ç¨‹ç»´æŠ¤ä¸€éƒ¨åˆ†çŠ¶æ€ä¿¡æ¯.é€’å½’è¿‡ç¨‹æ‰€æ¶ˆè€—çš„å†…å­˜ä¸næˆæ­£æ¯”.
æ³¨æ„[é€’å½’è®¡ç®—è¿‡ç¨‹]ä¸[é€’å½’è¿‡ç¨‹]æ˜¯ä¸¤ä¸ªæ¦‚å¿µ.
<code>è¿­ä»£è®¡ç®—è¿‡ç¨‹</code> å¯ä»¥ç”¨å›ºå®šæ•°ç›®çš„çŠ¶æ€æè¿°çš„è®¡ç®—è¿‡ç¨‹. ä¸é€’å½’ä¸åŒçš„æ˜¯, è¿­ä»£è®¡ç®—è¿‡ç¨‹ä¸­ä¸ä¼šå‡ºç°å¢é•¿æˆ–æ”¶ç¼©.
è¿­ä»£è¿‡ç¨‹çš„æ‰€æœ‰çŠ¶æ€ä¿¡æ¯éƒ½ä¿å­˜åœ¨ç¨‹åºéå†æ˜‚ç«‹.è¿­ä»£è¿‡ç¨‹æ‰€æ¶ˆè€—çš„å†…å­˜æ˜¯å›ºå®šçš„.
</p>

<p>
æŸäº›è¯­è¨€(Pascal,C..)å¯¹é€’å½’è¿‡ç¨‹çš„è§£é‡Š,æ¶ˆè€—çš„å†…å­˜æ€»æ˜¯ä¸næˆæ­£æ¯”, å³ä½¿æ‰€æè¿°çš„è®¡ç®—è¿‡ç¨‹æ˜¯è¿­ä»£çš„.
è¦æè¿°è¿­ä»£è¿‡ç¨‹, å¿…é¡»å€ŸåŠ©äº"å¾ªç¯ç»“æ„".è€Œschemeåˆ™æ²¡æœ‰è¿™ä¸ªç¼ºé™·.
<code>å°¾é€’å½’</code> æ€»æ˜¯èƒ½åœ¨å¸¸é‡çš„ç©ºé—´ä¸­æ‰§è¡Œè¿­ä»£å‹è®¡ç®—è¿‡ç¨‹.
</p>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-4">
<h4 id="orgheadline17"><span class="section-number-4">1.4.2</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-4-2">
</div><ol class="org-ol"><li><a id="orgheadline15"></a>1.9 ç”¨ä»£æ¢æ¨¡å‹å±•ç¤ºä¸‹é¢ä¸¤ä¸ªè¿‡ç¨‹åœ¨æ±‚å€¼(+ 4 5)æ—¶æ‰€äº§ç”Ÿçš„è®¡ç®—è¿‡ç¨‹. å®ƒä»¬æ˜¯é€’å½’æˆ–è€…è¿­ä»£å—?<br  /><div class="outline-text-5" id="text-1-4-2-1">
<pre class="example">
(define (+ a b) (if (= a 0) b (inc (+ (dec a) b))))
</pre>
<p>
è®¡ç®—è¿‡ç¨‹(çº¯æ‰‹æ‰“):
</p>
<pre class="example">
(+ 4 5)
(inc (+ 3 5))
(inc (inc (+ 2 5)))
(inc (inc (inc (+ 1 5))))
(inc (inc (inc (inc (+ 0 5)))))
(inc (inc (inc (inc 5))))
(inc (inc (inc 6)))
(inc (inc 7))
(inc 8)
9
</pre>
<p>
å®ƒæ˜¯é€’å½’è®¡ç®—è¿‡ç¨‹
</p>

<pre class="example">
(define (+ a b) (if (= a 0) b (+ (dec a) (inc b))))
</pre>
<p>
è®¡ç®—è¿‡ç¨‹:
</p>
<pre class="example">
(+ 4 5)
(+ 3 7)
(+ 2 7)
(+ 1 8)
(+ 0 9)
9
</pre>
<p>
å®ƒæ˜¯è¿­ä»£è®¡ç®—è¿‡ç¨‹
</p>
</div></li>

<li><a id="orgheadline16"></a>ä¸‹é¢æ˜¯ä¸€ä¸ªç§°ä¸ºackermannå‡½æ•°çš„æ•°å­¦å‡½æ•°<br  /><div class="outline-text-5" id="text-1-4-2-2">
<p>
(define (A x y)
  (cond ((= y 0) 0)
        ((= x 0) (* 2 y))
  ((= y 1) 2)
  (else (A (- x 1) (A x (- y 1))))))
</p>

<p>
ä¸‹é¢å„è¡¨è¾¾å¼çš„å€¼æ˜¯ä»€ä¹ˆ(äººè‚‰ç®—å•Š!)
</p>
<ul class="org-ul">
<li>(A 1 10) 1024</li>
<li>(A 2 4) 65536</li>
</ul>
<p>
(a 1 (a 2 3)).. (a 1 (a 1 (a 1 (a 2 1)))),(a 1 (a 1 (a 1 2))),
(a 1 (a 1 (a 0 (a 1 1)))),(a 1(a 1 (* 2 2))),(a 1(a 1 4)),(a 1 16),2<sup>16</sup>
</p>
<ul class="org-ul">
<li>(A 3 3) 65536</li>
</ul>
<p>
(a 2 (a 3 2)),(a 2(a 2(a 3 1))),(a 2 (a 2 2)),(a 2 4),65536
</p>


<p>
ä¸‹é¢è¿‡ç¨‹çš„æ•°å­¦å®šä¹‰æ˜¯?
</p>
<ul class="org-ul">
<li>(define (f n) (A 0 n)) : f = 2*n</li>
<li>(define (g n) (A 1 n)) : g = 2<sup>n</sup></li>
<li>(define (h n) (A 2 n)) : h = 2^(2<sup>(2&#x2026;)</sup></li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline18" class="outline-4">
<h4 id="orgheadline18"><span class="section-number-4">1.4.3</span> æ ‘å½¢é€’å½’</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>
å¦ä¸€ç§å¸¸è§çš„ä¾‹å­ğŸŒ°,æ¯”å¦‚è²æ³¢é‚£åˆ‡æ•°åˆ—.
</p>

<p>
æœ´ç´ çš„æ ‘å½¢é€’å½’:
</p>
<pre class="example">
(define (fib n)
 (cond ((= n 0) 0)
  ((= n 1) 1)
  (else (+ (fib (- n 1)) (fib ( - n 2))))))
</pre>
<p>
ä¼˜åŒ–çš„è¿­ä»£ç‰ˆæœ¬:
</p>
<pre class="example">
(define (fib-it a b count)
(cond ((= count 0) b)
  (else (fib-it (+ a b) a (- count 1)))))
(define (fib2 n) (fib-it 1 0 n))
</pre>
</div>
</div>


<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22"><span class="section-number-4">1.4.4</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-4-4">
</div><ol class="org-ol"><li><a id="orgheadline19"></a>å‡½æ•°fç”±å¦‚ä¸‹è§„åˆ™å®šä¹‰: å¦‚æœn&lt;3, é‚£ä¹ˆf(n)=n, å¦‚æœn&gt;=3, é‚£ä¹ˆf(n)=f(n-1)+2f(n-1)+3f(n-3).åˆ†åˆ«å®ç°é€’å½’å’Œè¿­ä»£ç‰ˆæœ¬.<br  /><div class="outline-text-5" id="text-1-4-4-1">
<pre class="example">
;;é€’å½’
(define (f11 n)
  (cond ((&lt; n 3) n)
  (else (+ (f11 (- n 1))
     (* 2 (f11 (- n 2)))
     (* 3 (f11 (- n 3)))))))
;; è¿­ä»£
(define (f11-it a b c n)
  (cond ((&lt; n 3) a)
  (else (f11-it (+ a (* 2 b) (* 3 c)) a b (- n 1)))))
(define (f112 n) (f11-it 2 1 0 n))
</pre>
</div></li>

<li><a id="orgheadline20"></a>å†™ä¸€ä¸ªè¿‡ç¨‹,é‡‡ç”¨é€’å½’è®¡ç®—å‡ºå¸•æ–¯å¡ä¸‰è§’å½¢<br  /><div class="outline-text-5" id="text-1-4-4-2">
<pre class="example">
(define (psc n k)
  (cond ((&gt; k n) 0)
      ((= n 0) 1)
  ((= k 0) 1)
  (else (+ (psc (- n 1) (- k 1))  (psc (- n 1) k)))))
</pre>
</div></li>

<li><a id="orgheadline21"></a>1.13<br  /><div class="outline-text-5" id="text-1-4-4-3">
<p>
æ’ç‰ˆæ¸£è¡¨ç¤ºè¿™é“é¢˜å¥½ä¸æƒ³æ•²å•Š&#x2026;æŒ‰ç…§é¢˜ç›®æç¤ºç”¨æ•°å­¦å½’çº³æ³•è¯æ˜ç­‰å¼æ¯”è¾ƒå®¹æ˜“,è¯æ˜æ¥è¿‘æ•´æ•°ç¨å¾®éœ€è¦ä¸€ç‚¹æƒ³è±¡åŠ›&#x2026;
</p>

<p>
ä¹ é¢˜è§£å¦‚ä¸‹, å„è·¯å­¦éœ¸å‡ºæ²¡:
<a href="http://sicp.readthedocs.org/en/latest/chp1/13.html">http://sicp.readthedocs.org/en/latest/chp1/13.html</a>
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline23" class="outline-4">
<h4 id="orgheadline23"><span class="section-number-4">1.4.5</span> å¢é•¿çš„é˜¶</h4>
<div class="outline-text-4" id="text-1-4-5">
<p>
<code>å¢é•¿çš„é˜¶</code> ç”¨ä»¥æè¿°è®¡ç®—è¿‡ç¨‹æ¶ˆè€—è®¡ç®—èµ„æºçš„é€Ÿç‡.
</p>
<ul class="org-ul">
<li>O(n): è§„æ¨¡å¢åŠ ä¸€å€, èµ„æºå¢åŠ ä¸€å€</li>
<li>O(n<sup>2</sup>): è§„æ¨¡å¢åŠ 1, èµ„æºå¢åŠ å¸¸æ•°å€. æ¯”å¦‚æ ‘å½¢é€’å½’å ç”¨ç©ºé—´æ˜¯(Ï•<sup>n</sup>)</li>
<li>O(lg n):è§„æ¨¡å¢åŠ ä¸€å€, èµ„æºå¢åŠ ä¸€ä¸ªå¸¸æ•°.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline26" class="outline-4">
<h4 id="orgheadline26"><span class="section-number-4">1.4.6</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-4-6">
</div><ol class="org-ol"><li><a id="orgheadline24"></a>1.14 ç”»å‡º1.2.2èŠ‚è¿‡ç¨‹(count-change 11)çš„è®¡ç®—è¿‡ç¨‹. å½“ç°é‡‘é‡å¢åŠ æ—¶,è¿™ä¸€è¿‡ç¨‹ç©ºé—´å’Œæ­¥æ•°å¢é•¿çš„é˜¶å„æ˜¯ä»€ä¹ˆ?<br  /><div class="outline-text-5" id="text-1-4-6-1">
<p>
è®¡ç®—è¿‡ç¨‹åœ¨çº¸ä¸Šç”»äº†ä¸€é&#x2026;æ‡’å¾—æ¬ä¸Šæ¥äº†, ç›´æ¥å‚è€ƒä¹ é¢˜è§£é‡Œçš„å›¾å§
åé¢ä¸¤ä¸ªä¼°ç®—æ²¡æœ‰æ‰¾åˆ°æ ‡å‡†ç­”æ¡ˆ,å…ˆæŠŠè‡ªå·±çš„æ€è·¯å†™åœ¨è¿™é‡Œ.
</p>

<p>
è®¾ç°é‡‘é‡ä¸ºn,å¸ç§æ•°ä¸ºm,åˆ™
</p>
<ul class="org-ul">
<li>æ­¥æ•°å¢é•¿çš„é˜¶:</li>
</ul>
<p>
è¿™ä¸ªè®¡ç®—è¿‡ç¨‹å—åˆ°å¸ç§é™åˆ¶, æ‰€ä»¥ä¸èƒ½ç®€å•çš„ç”¨äºŒå‰æ ‘å¤æ‚åº¦æ¥ä¼°ç®—.
æ ¹æ®è®¡ç®—è¿‡ç¨‹cc, å½“næ¯”è¾ƒå°æ—¶(æ¯”å¦‚å°äº50), å¤æ‚åº¦ä¸ºO(n).
å½“næ¯”è¾ƒå¤§çš„æ—¶å€™, å¤æ‚åº¦æ­£æ¯”äºnèƒ½å¤Ÿè¢«æœ€å¤§å¸ç§(è¿™é‡Œæ˜¯50)æ•´é™¤çš„æ¬¡æ•°.
o(f(n))=(1+2+3+&#x2026;n/50)*n = ((1+n/50)*(n/50)/2)*n = o(n<sup>2</sup>).
</p>

<ul class="org-ul">
<li>ç©ºé—´å¢é•¿çš„é˜¶: O(n+m).æ ‘çš„æœ€å¤§æ·±åº¦ç”±nå†³å®š, æœ€æ·±å­æ ‘æ€»æ˜¯å…¨éƒ¨ç”±1å…ƒé’±å‡‘æˆnçš„æƒ…å†µ.</li>
</ul>
</div></li>

<li><a id="orgheadline25"></a>1.15 é¢˜ç›®ç•¥.<br  /><div class="outline-text-5" id="text-1-4-6-2">
<p>
[åæ§½:åŸæ¥å¯ä»¥è¿™æ ·å®ç°sin,é•¿å§¿åŠ¿äº†]
</p>

<p>
å¦‚æœè§£é‡Šå™¨çš„ä»£æ¢æ¨¡å‹æ˜¯æ˜¯ <code>åº”ç”¨åº</code> ,åˆ™è¿™ä¸ªé—®é¢˜æ˜¯çº¿æ€§è¿­ä»£:
</p>
<ul class="org-ul">
<li>på°†è¢«ä½¿ç”¨å¤šå°‘æ¬¡?  5æ¬¡.</li>
<li>ç©ºé—´å¢é•¿çš„é˜¶: n/(3<sup>k</sup>) = 0.1, k=log<sub>3</sub> (10*n), æ‰€ä»¥æ˜¯O(lg n)</li>
<li>æ­¥æ•°å¢é•¿çš„é˜¶: O(lg n)</li>
</ul>
<p>
å¦‚æœè§£é‡Šå™¨æ˜¯ <code>æ­£åˆ™åº</code> ,åˆ™è¿™ä¸ªé—®é¢˜æ˜¯æ ‘å½¢è¿­ä»£:
</p>
<ul class="org-ul">
<li>på°†è¢«ä½¿ç”¨å¤šå°‘æ¬¡?  1 + 4 + 4<sup>2</sup> + 4<sup>3</sup> + 4<sup>4</sup></li>
<li>å¢é•¿çš„é˜¶: O(4<sup>n</sup>)</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline27" class="outline-4">
<h4 id="orgheadline27"><span class="section-number-4">1.4.7</span> æ±‚å¹‚</h4>
<div class="outline-text-4" id="text-1-4-7">
<p>
å¿«é€Ÿæ±‚å¹‚æ³•fast-expt:
</p>
<pre class="example">
b^n = (b^(n/2))^2 ;;è‹¥næ˜¯å¶æ•°
b^n = b * b^(n-1) ;;è‹¥næ˜¯å¥‡æ•°
</pre>
</div>
</div>

<div id="outline-container-orgheadline32" class="outline-4">
<h4 id="orgheadline32"><span class="section-number-4">1.4.8</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-4-8">
</div><ol class="org-ol"><li><a id="orgheadline28"></a>1.16 ç”¨fast-exptçš„æ€è·¯å®šä¹‰ä¸€ä¸ªè¿‡ç¨‹, å®ƒæŒ‰ç…§è¿­ä»£çš„æ–¹å¼äº§ç”Ÿå‡ºæ±‚å¹‚çš„è®¡ç®—è¿‡ç¨‹.<br  /><div class="outline-text-5" id="text-1-4-8-1">
<pre class="example">
(define (expt-iter b n a)
  (cond ((= n 0) a)
  ((even? n) (expt-iter  (* b b)  (/ n 2)  a))
  (else (expt-iter  b (- n 1) (* b a)))))
</pre>
</div></li>

<li><a id="orgheadline29"></a>1.17 ç”¨fast-exptçš„æ€è·¯å®ç°ä¸€ä¸ªåå¤ä½¿ç”¨åŠ æ³•è®¡ç®—ä¹˜ç§¯çš„è¿‡ç¨‹.<br  /><div class="outline-text-5" id="text-1-4-8-2">
<pre class="example">
(define (fast-mul a n)
  (cond ((= n 0) 0)
  ((= n 1) a)
  ((even? n) (fast-mul (+ a a) (/ n 2)))
  (else (+ a (fast-mul a (- n 1))))))
</pre>
</div></li>

<li><a id="orgheadline30"></a>1.18 æ±‚ä¸¤ä¸ªæ•´æ•°çš„ä¹˜ç§¯<br  /><div class="outline-text-5" id="text-1-4-8-3">
<pre class="example">
(define (mul-iter b n a)
  (cond ((= n 0) a)
  ((even? n) (mul-iter (+ b b) (/ n 2) a))
  (else (mul-iter b (- n 1) (+ a b)))))
</pre>
</div></li>


<li><a id="orgheadline31"></a>1.19 ç”¨å¯¹æ•°æ­¥æ•°è®¡ç®—è²æ³¢é‚£åˆ‡æ•°åˆ—<br  /><div class="outline-text-5" id="text-1-4-8-4">
<p>
è¿™é“é¢˜ç›®æ˜¯å‰é¢æ±‚å¹‚è¿‡ç¨‹çš„æ¨å¹¿. 
</p>

<pre class="example">
(define (fib n)
  (fib-iter 1 0 0 1 n))

(define (fib-iter a b p q count)
  (cond ((= count 0) b)
  ((even? count)
   (fib-iter a
       b
       (+ (* p p) (* q q))
       (+ (* 2 p q) (* q q))
       (/ count 2)))
   (else (fib-iter (+ (* b q) (* a q) (* a p))
       (+ (* b p) (* a q))
       p
       q
       (- count 1)))))
</pre>
</div></li></ol>
</div>

<div id="outline-container-orgheadline33" class="outline-4">
<h4 id="orgheadline33"><span class="section-number-4">1.4.9</span> æœ€å¤§å…¬çº¦æ•°</h4>
<div class="outline-text-4" id="text-1-4-9">
<p>
GCD(a,b)=GCD(b,r), ræ˜¯aé™¤ä»¥bçš„ä½™æ•°.
</p>
<pre class="example">
(define (gcd a b)
  (cond ((= b 0) a)
  (else (gcd b (remainder a b)))))
</pre>
</div>
</div>
<div id="outline-container-orgheadline35" class="outline-4">
<h4 id="orgheadline35"><span class="section-number-4">1.4.10</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-4-10">
</div><ol class="org-ol"><li><a id="orgheadline34"></a>1.20 è§£é‡Šå™¨æ˜¯åº”ç”¨åºå’Œæ­£åˆ™åºæ—¶,ä¸Šè¿°ç®—æ³•æ±‚(206 40)çš„è®¡ç®—è¿‡ç¨‹åˆ†åˆ«æ˜¯æ€æ ·çš„,remanderåˆ†åˆ«è°ƒç”¨å¤šå°‘æ¬¡<br  /><div class="outline-text-5" id="text-1-4-10-1">
<ul class="org-ul">
<li>åº”ç”¨åº</li>
</ul>
<pre class="example">
(gcd 206 40)
(gcd 40 6)
(gcd 6 4)
(gcd 4 2)
(gcd 2 0)
2
</pre>
<p>
ä¸€å…±4æ¬¡remander
</p>

<ul class="org-ul">
<li>æ­£åˆ™åº</li>
</ul>
<pre class="example">
(gcd 206 40)
cond ...
(gcd 40 (re 206 40)) ;;b=6
cond ...  ;; +1
(gcd (re 206 40) (re 40 (re 206 40))) ;;b=4
cond ...  ;; +2
(gcd (re 40 (re 206 40)) (re (re 206 40) (re 40 (re 206 40)))) ;;b=2
cond ...  ;; +4
(gcd .......) ;; b=0
cond ...  ;; + 7
a = (re (re 206 40) (re 40 (re 206 40) = (re 6 4) = 2 ;; +4
</pre>
<p>
ä¸€å…±18æ¬¡remander
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36"><span class="section-number-4">1.4.11</span> ç´ æ•°æ£€æµ‹</h4>
<div class="outline-text-4" id="text-1-4-11">
<p>
(ç»ˆäºå­¦ä¼šæ‰“å…¬å¼äº†â—‹|ï¿£|_)
</p>

<p>
æœ¬èŠ‚æè¿°ä¸¤ç§æ£€æŸ¥æ•´æ•°næ˜¯å¦ä¸ºç´ æ•°çš„æ–¹æ³•,ç¬¬ä¸€ä¸ªå…·æœ‰O(\(\sqrt{n}\))çš„å¢é•¿é˜¶,
ç¬¬äºŒä¸ªå…·æœ‰O(log n)çš„å¢é•¿é˜¶.
</p>

<ul class="org-ul">
<li>å¯»æ‰¾å› å­:ç”¨ä»2å¼€å§‹çš„è¿ç»­æ•´æ•°å¼€å§‹ä¾æ¬¡æ£€æŸ¥å®ƒä»¬æ˜¯å¦èƒ½æ•´é™¤n.å¦‚æœnä¸æ˜¯ç´ æ•°,å¿…ç„¶æœ‰å°äºæˆ–ç­‰äº \(\sqrt{n}\) çš„å› å­,ç”±æ­¤å¯çŸ¥è¿™ä¸ªç®—æ³•æ‹¥æœ‰O(\(\sqrt{n}\))çš„å¢é•¿é˜¶.</li>
<li>è´¹é©¬æ£€æŸ¥:O(log n)çš„æ£€æŸ¥åŸºäºæ•°è®ºä¸­è‘—åçš„è´¹é©¬å°å®šç†(æ•°è®ºå…¨å¿˜å…‰äº†&#x2026;æ¡‘ä¸èµ·)</li>
</ul>

<p>
<code>è´¹é©¬å°å®šç†</code>: å¦‚æœnæ˜¯ä¸€ä¸ªç´ æ•°,aæ˜¯å°äºnçš„ä»»æ„æ­£æ•´æ•°,é‚£ä¹ˆaçš„næ¬¡æ–¹ä¸aæ¨¡nåŒä½™.
è€Œå¦‚æœ= ä¸æ˜¯ç´ æ•° =,åˆ™å¤§éƒ¨åˆ†a&lt;néƒ½å°†æ»¡è¶³ä¸Šé¢çš„å…³ç³»,è¿™å°±å¼•å‡ºäº†æ£€æŸ¥ç´ æ•°çš„ç®—æ³•: å¦‚æœå‘ç°ä¸æ»¡è¶³å…³ç³»çš„aé‚£ä¹ˆnè‚¯å®šä¸æ˜¯ç´ æ•°.
</p>

<p>
<code>è´¹é©¬æ£€æŸ¥</code>: é‡‡ç”¨è®¸å¤šéšæœºçš„aæ¥æ£€æŸ¥,é€šè¿‡çš„æ£€æŸ¥è¶Šå¤šåˆ™næ˜¯ç´ æ•°çš„æ¦‚ç‡è¶Šå¤§.
</p>

<p>
é¦–å…ˆå®šä¹‰ä¸€ä¸ªO(log n)çš„è¿­ä»£è¿‡ç¨‹è®¡ç®— \(a^n\) å¯¹må–æ¨¡çš„ç»“æœ(a&lt;n,a&lt;m)
</p>
<pre class="example">
(define (expmod bas exp m)
  (cond ((= exp 0 ) 1)
  ((even? exp)
   (remainder (square (expmod bas (/ exp 2) m)) m))
  (else
   ;;  $(a*a^{n/2}*a^{n/2})%n = (a%n)*(a^{n/2}%n)^2 = a*(a^{n/2}%n)^2
   (remainder (* bas (expmod bas (- exp 1) m)) m))))
</pre>

<p>
å…¶ä¸­å…³äºè¿ç»­æ±‚å¹³æ–¹çš„æ¨å¯¼å¦‚ä¸‹:
</p>

<p>
\(\gcd((a^{n/2}a^{n/2}),n)=\gcd(a^{n/2},n)\gcd(a^{n/2},n)=\gcd(a^{n/2},n)^2\)
</p>

<p>
\(\gcd((a*a^{n/2}a^{n/2}),n)=\gcd(a,n)\gcd(a^{n/2},n)^2=a*\gcd(a^{n/2},n)\)
</p>

<p>
ç„¶åéšæœº1å’Œn-1ä¹‹é—´çš„æ•´æ•°è¿›è¡Œæµ‹è¯•:
</p>
<pre class="example">
(define (fermat-test n)
  (define (try-it a)
    (= (expmod a n n) a))
  (try-it (+ 1 (random (- n 1)))))

(define (fast-prime? n times)
  (cond ((= times 0) true)
  ((fermat-test n) (fast-prime? n (- times 1)))
  (else false)))
</pre>
</div>
</div>

<div id="outline-container-orgheadline37" class="outline-4">
<h4 id="orgheadline37"><span class="section-number-4">1.4.12</span> æ¦‚ç‡æ–¹æ³•</h4>
<div class="outline-text-4" id="text-1-4-12">
<p>
è´¹é©¬æ£€æŸ¥çš„ç»“æœåªæœ‰æ¦‚ç‡ä¸Šçš„æ­£ç¡®æ€§..ä½†èƒ½å¤Ÿè¯æ˜å­˜åœ¨ä½¿å‡ºé”™æ¦‚ç‡ä»»æ„å°çš„ç®—æ³•.
</p>
</div>
</div>

<div id="outline-container-orgheadline46" class="outline-4">
<h4 id="orgheadline46"><span class="section-number-4">1.4.13</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-4-13">
</div><ol class="org-ol"><li><a id="orgheadline38"></a>ä½¿ç”¨smallest-divisorè¿‡ç¨‹æ‰¾å‡ºä¸‹é¢å„æ•°çš„æœ€å°å› å­:199,1999,19999<br  /><div class="outline-text-5" id="text-1-4-13-1">
<p>
é¦–å…ˆè®¾è®¡äº†ä¸€ä¸ª(æœ‰ç‚¹æŒ«)çš„ç®—æ³•,ä»2åˆ°néå†,å¯»æ‰¾ç¬¬ä¸€ä¸ªèƒ½å¤Ÿæ•´é™¤nçš„ç´ æ•°.(èƒ½å¤Ÿæƒ³åˆ°çš„ä¼˜åŒ–ç‰ˆç®—æ³•åªæœ‰ç´ æ•°è¡¨äº†orz.
</p>
<pre class="example">
(define (divisor-test a n)
  (cond ((= n 1) 1)
  ((= n 0) 0)
  ((and (fast-prime? a 10) (= (remainder n a) 0)) a)
  (else (divisor-test (+ a 1) n))))

(define (smallest-divisor n) (divisor-test 2 n))è®¡ç®—ç»“æœæ˜¯199:199,1999:1999,19999:7.
</pre>
</div></li>

<li><a id="orgheadline39"></a>è§‚å¯ŸæŸ¥æ‰¾ç´ æ•°çš„æ—¶é—´.é¢˜ç›®ç•¥&#x2026;<br  /><div class="outline-text-5" id="text-1-4-13-2">
<pre class="example">
(define (search-for-prime n)
  (cond ((prime? n) 
  (display n))
  (else (cond ((even? n)
         (search-for-prime (+ n 1)))
        (else 
         (search-for-prime (+ n 2)))))))

(define (start-search-prime n start-time)
  (search-for-prime n)
  (newline)
  (display (- (real-time-clock) start-time)))

(define (time-for-search-prime n)
  (start-search-prime n (real-time-clock)))
</pre>
<p>
ä¸€å¼€å§‹ä½¿ç”¨é¢˜ç›®ç»™çš„(runtime)è®¡ç®—æ—¶é’Ÿå‘¨æœŸ,ç»“æœæ— è®ºåé¢åŠ å¤šå°‘ä¸ªé›¶,ç»“æœå‡ ä¹éƒ½åœ¨1e-2å·¦å³.
åæ¥å¾—çŸ¥ç°åœ¨çš„MIT-schemeçš„runtimeæŒ‰ç§’è®¡æ—¶,æ¢æˆä»¥tickè®¡æ—¶çš„real-time-clockå°±å¯¹äº†.
</p>

<p>
æµ‹è¯•ç»“æœæ˜¯:
</p>
<ul class="org-ul">
<li>1000:1 (ç»“æœæ˜¯1009,6æ¬¡æµ‹è¯•,å¹³å‡0.17msæ¯æ¬¡)</li>
<li>10000:1 (5,0.25)</li>
<li>100000:1 (3,0.33)</li>
<li>1000000:2 (3,0.67)</li>
<li>10000000:8 (10,0.8)</li>
<li>100000000:15 (5,3)</li>
<li>1000000000:37 (5,7.4)</li>
<li>10000000000:169 (10,16.9)</li>
</ul>
<p>
1000000ä»¥ä¸‹çš„æµ‹è¯•ç»“æœå·®åˆ«å¾ˆå°, 1000000ä»¥ä¸Šå·®å¼‚æ˜¯2.xå€, å¯è§æµ‹è¯•ç»“æœä¸é¢„æœŸçš„$/sqrt{n}$ä¸ç¬¦.
</p>
</div></li>

<li><a id="orgheadline40"></a>ä¿®æ”¹æœ¬èŠ‚å¼€å§‹çš„smallest-divisorè¿‡ç¨‹,ä½¿å…¶æ­¥æ•°å‡åŠ,å¹¶æ£€éªŒç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ<br  /><div class="outline-text-5" id="text-1-4-13-3">
<pre class="example">
(define (smallest-divisor-fast n)
  (let  ((t (real-time-clock)))
    (display (find-divisor-fast n 2))
    (- (real-time-clock) t)))

(define (find-divisor-fast n test)
  (cond ((&gt; (square test) n) n)
  ((divides? n test) test)
  (else (find-divisor-fast n (next test)))))

(define (next n)
  (cond ((even? n) (+ n 1))
  (else (+ n 2))))
</pre>

<p>
ä¸ºäº†ä½¿å·®åˆ«æ¯”è¾ƒæ˜¾è‘—,æŒ‘é€‰2ä¸ªç›¸å·®10å€å·¦å³çš„ç´ æ•°è¿›è¡Œæµ‹è¯•:1009,10009
</p>
<ul class="org-ul">
<li>(smallest-divisor-fast (* 1009 10009))  ==&gt; 1</li>
<li>(smallest-divisor (* 1009 10009))       ==&gt; 2</li>
<li>(smallest-divisor-fast (* 10009 10009)) ==&gt; 9</li>
<li>(smallest-divisor (* 10009 10009))      ==&gt; 14</li>
<li>(smallest-divisor-fast (* 20029 20029)) ==&gt; 16</li>
<li>(smallest-divisor-sqre (* 20029 20029)) ==&gt; 26</li>
</ul>
<p>
å¯è§fastç‰ˆæœ¬é€Ÿåº¦æ¯”åŸæœ‰ç‰ˆæœ¬å¿«,ä½†ä¸¤ä¸ªç®—æ³•é€Ÿåº¦æ¯”å€¼æ¯”2å°.
</p>

<p>
åˆæ­¥æ¨æµ‹,å½“ç®—æ³•å¤æ‚åº¦ä½ä¸”å‚æ•°æ¯”è¾ƒå°æ—¶,è¿™ä¸ªç®—æ³•æœ¬èº«çš„è€—æ—¶åœ¨ä¸€ä¸ªè¿‡ç¨‹çš„æ‰§è¡Œè¿‡ç¨‹ä¸­å æ¯”éå¸¸ä½.
è€Œæ‰§è¡Œè¿‡ç¨‹æ‰€éœ€çš„å¤§é‡é€’å½’è°ƒç”¨,å˜é‡ç»‘å®šç­‰æ“ä½œæ¶ˆè€—æ‰ç»å¤§éƒ¨åˆ†CPUèµ„æº,å¯¼è‡´æˆ‘ä»¬å¾—åˆ°çš„ç»“æœä¸å‡†ç¡®.
è€Œå½“å‚æ•°å¢å¤§æ—¶,ç®—æ³•æœ¬èº«å ç”¨çš„èµ„æºæ¯”ä¾‹å˜å¤§,ä½¿å¾—ç»“æœä¸æˆ‘ä»¬çš„é¢„æµ‹è¶Šæ¥è¶Šæ¥è¿‘.
</p>

<p>
æ‰€ä»¥ä¼°ç®—ç®—æ³•å¤æ‚åº¦å¹¶ä¸èƒ½å®Œå…¨é¢„æµ‹è¿‡ç¨‹çš„å®é™…æ‰§è¡Œæ—¶é—´.
</p>
</div></li>

<li><a id="orgheadline41"></a>ä½¿ç”¨fast-prime?ä»£æ›¿prime?å®ç°ç¬¬äºŒé¢˜.å¹¶æ£€éªŒç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ.<br  /><div class="outline-text-5" id="text-1-4-13-4">
<p>
æŠŠä¸Šä¸Šé“é¢˜ç›®ä»£ç ä¸­çš„prime?æ¢æˆfast-primeå°±å¯ä»¥äº†.
</p>
<pre class="example">
(define (search-for-prime n)
  (cond ((fast-prime? n 50) 
  (display n))
  (else 
   (cond ((even? n)
    (search-for-prime (+ n 1)))
         (else 
    (search-for-prime (+ n 2)))))))
</pre>
<p>
æµ‹è¯•ç»“æœ:
</p>
<ul class="org-ul">
<li>1000:2</li>
<li>10000:2</li>
<li>100000:3</li>
<li>10000000:4</li>
<li>1000000000000:8</li>
</ul>
<p>
å·®è·æ¯”é¢„æœŸå°çš„å¤š,ä½†å‚æ•°è¶Šå¤§å·®åˆ«è¶Šæ˜æ˜¾.è§£é‡Šè§ä¸Šä¸€é¢˜.
</p>

<p>
[Mark] å­¦ä¹ å®Œåé¢çš„å†…å®¹å¯èƒ½ä¼šåœ¨è§£é‡Šå™¨å±‚é¢ä¸Šå¯¹è¿™ä¸ªé—®é¢˜æœ‰æ–°çš„è§è§£,åˆ°æ—¶å€™å†è¡¥å……å§.
</p>
</div></li>

<li><a id="orgheadline42"></a>åˆ†æAlyssaçš„æ–¹æ³•æ˜¯å¦å®ç”¨<br  /><div class="outline-text-5" id="text-1-4-13-5">
<p>
Alyssaçš„æ–¹æ³•ç†è®ºä¸Šæ¯”æœ¬èŠ‚çš„ç®—æ³•æ­¥æ•°åªæœ‰1æ­¥,ä½†å®¹æ˜“æº¢å‡º.
æœ¬èŠ‚çš„æ–¹æ³•è™½ç„¶æ­¥æ•°å¤šäº†ä¸€äº›, ä½†å®ƒä¸ä¼šçœŸæ­£è¿›è¡Œå·¨å¤§çš„ä¹˜å¹‚è¿ç®—, æ‰€ä»¥æœ¬èŠ‚çš„æ–¹æ³•æ›´åŠ å®ç”¨.
</p>
</div></li>

<li><a id="orgheadline43"></a>åˆ†æfast-prime?ä¸­çš„expmodä½¿ç”¨æ˜¾ç¤ºä¹˜æ³•ä¸ºä½•ä¼šæŠŠO(log n)çš„ç®—æ³•å˜æˆO(n)çš„.<br  /><div class="outline-text-5" id="text-1-4-13-6">
<p>
ä¸‹é¢æŠŠ(expmod base (/ exp 2) m)ç®€å†™ä¸º <code>ep(n)</code>
</p>

<p>
ä½¿ç”¨ä¹˜æ³•:
</p>
<pre class="example">
ep(n)
(* ep(n/2) ep(n/2))
(* (* ep(n/4) ep(n/4)) (* ep(n/4) ep(n/4)))
(* (* (* ep(n/8) ep(n/8)) (* ep(n/8) ep(n/8))) (* (* ep(n/8) ep(n/8)) (* ep(n/8) ep(n/8))))
...
</pre>
<p>
å±•å¼€åå¯å¾—è¿›è¡Œexpmodè¿ç®—çš„æ¬¡æ•°æ˜¯ \(2^{log_2{n}}=n\) æ¬¡
</p>

<p>
ä½¿ç”¨square:
</p>
<pre class="example">
ep(n)
(square ep(n/2))
(square (square ep(n/4)))
...
</pre>
<p>
\(log_2{n}\) æ¬¡
</p>
</div></li>

<li><a id="orgheadline44"></a>è¯æ˜æ³¨è„š47ä¸­åˆ—å‡ºçš„Carmichaelæ•°ç¡®å®èƒ½éª—è¿‡è´¹é©¬æ£€æŸ¥.<br  /><div class="outline-text-5" id="text-1-4-13-7">
<p>
é¦–å…ˆå†™ä¸€ä¸ªè¿‡ç¨‹,æ£€éªŒ <b>æ‰€æœ‰</b> å°äºnçš„a,çœ‹ \(a^{n}\) æ˜¯å¦ä¸aæ¨¡nåŒä½™.
</p>
<pre class="example">
(check-prime? 561) =&gt; #t
(check-prime? 1105) =&gt; #t
(check-prime? 1729) =&gt; #t
(check-prime? 2465) =&gt; #t
(check-prime? 2821) =&gt; #t
(check-prime? 6601) =&gt; #t
</pre>
</div></li>

<li><a id="orgheadline45"></a>Miller-Rabinæ£€æŸ¥<br  /><div class="outline-text-5" id="text-1-4-13-8">
<p>
æŠŠå‰é¢fast-primeè¿‡ç¨‹ä¸­çš„fermat-testæ›¿æ¢ä¸ºmiller-test
</p>
<pre class="example">
(define (miller-test n)
  (define (try-it a)
    (= (expmod a (- n 1) n) 1))
  (try-it (+ 1 (random (- n 1)))))

(define (fast-prime? n times)
  (cond ((= n 1) true)
  ((= times 0) true)
  ((miller-test n) (fast-prime? n (- times 1)))
  (else false)))
</pre>
<p>
ä½¿ç”¨å‰é¢çš„carmichaelæ•°æµ‹è¯•,ç»“æœéƒ½ä¸º#f
</p>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline78" class="outline-3">
<h3 id="orgheadline78"><span class="section-number-3">1.5</span> ç”¨é«˜é˜¶å‡½æ•°åšæŠ½è±¡</h3>
<div class="outline-text-3" id="text-1-5">
<p>
åœ¨ä½œç”¨ä¸Š,è¿‡ç¨‹ä¹Ÿæ˜¯ä¸€ç±»æŠ½è±¡,å®ƒä»¬æè¿°äº†ä¸€äº›å¯¹äºæ•°çš„å¤åˆæ“ä½œ,ä½†ä¸ä¾èµ–ç‰¹å®šçš„æ•°,ç”šè‡³ä¸åªç”¨æ•°ä½œä¸ºå‚æ•°.
</p>

<p>
<code>é«˜é˜¶è¿‡ç¨‹</code> æ˜¯èƒ½æ“ä½œè¿‡ç¨‹çš„è¿‡ç¨‹, å®ƒèƒ½ä»¥è¿‡ç¨‹ä½œä¸ºå‚æ•°,æˆ–è€…ä»¥è¿‡ç¨‹ä½œä¸ºè¿”å›å€¼.
</p>

<p>
è¿™ä¹Ÿæ˜¯lispçš„ä¸€ä¸ªå‰å®³ä¹‹å¤„.
</p>
</div>

<div id="outline-container-orgheadline48" class="outline-4">
<h4 id="orgheadline48"><span class="section-number-4">1.5.1</span> è¿‡ç¨‹ä½œä¸ºå‚æ•°</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
æ•™æğŸŒ°:
</p>
<pre class="example">
(define (sum term a next b)
  (if (&gt; a b)
      0
      (+ (term a) (sum term (next a) next b))))

(define (cub n) (* n n n))
(define (add n) (+ n 1))
(define (sum-cube a b) (sum cub a add b))
</pre>
<p>
ä½¿ç”¨å…¶å®ƒé«˜çº§è¯­è¨€å®ç°è¿™ç§è¿‡ç¨‹ä½œä¸ºå‚æ•°çš„è¿‡ç¨‹æ—¶,ç»å¯¹ä¸ä¼šè¿™ä¹ˆç®€æ´.
</p>
</div>
</div>

<div id="outline-container-orgheadline53" class="outline-4">
<h4 id="orgheadline53"><span class="section-number-4">1.5.2</span> [ç»ƒä¹ ]</h4>
<div class="outline-text-4" id="text-1-5-2">
</div><ol class="org-ol"><li><a id="orgheadline49"></a>ä¸Šé¢çš„sumè¿‡ç¨‹äº§ç”Ÿä¸€ä¸ªçº¿æ€§é€’å½’, ä½¿ç”¨è¿­ä»£æ–¹å¼é‡å†™è¯¥è¿‡ç¨‹.<br  /><div class="outline-text-5" id="text-1-5-2-1">
<pre class="example">
(define (sum term a next b)
  (define (iter n result)
    (if (&gt; n b) 
  result
  (iter (next n) (+ result (term n)))))
  (iter a 0))
</pre>
</div></li>

<li><a id="orgheadline50"></a>å†™ä¸€ä¸ªproductè¿‡ç¨‹,è¿”å›åœ¨ç»™å®šèŒƒå›´ä¸­å„ç‚¹çš„æŸä¸ªå‡½æ•°å€¼å¾—ä¹˜ç§¯.è¯·è¯´æ˜å¦‚ä½•ç”¨productå®šä¹‰faactorial.<br  /><div class="outline-text-5" id="text-1-5-2-2">
<pre class="example">
;; é€’å½’
(define (product a b term)
 (if (&gt; a b)
       1
       (* (term a) (product (+ a 1) b term))))

;; è¿­ä»£
(define (product-iter a b next)
  (define (iter n result)
    (if (&gt; n b) 
  result
  (iter (+ n 1) (* result (term n)))))
  (iter a 0))

;; åˆ†å­
(define (term-numer a)
  (cond ((odd? a) (+ a 1))
  (else (+ a 2))))
;; åˆ†æ¯
(define (term-deno a)
  (cond ((even? a) (+ a 1))
  (else (+ a 2))))

;; pi/4
(define (quarter-pi n)
  (/ (product 1 n term-numer) (product 1 n term-deno)))
</pre>
</div></li>

<li><a id="orgheadline51"></a>è¯·è¯´æ˜sumå’Œproductéƒ½æ˜¯ç§°ä¸ºaccumulateçš„æ›´ä¸€èˆ¬æ¦‚å¿µçš„ç‰¹æ®Šæƒ…å†µ.ä½¿ç”¨accumulateå®šä¹‰å‡ºsumå’Œproduct.<br  /><div class="outline-text-5" id="text-1-5-2-3">
<pre class="example">
(define (accumulate combinder null-value term a next b)
  (if (&gt; a b) null-value
      (combinder (term a) (accumulate combinder null-value term (next a) next b))))

(define (sum a b) (accumulate + 0 (lambda (a) a) 1 (lambda (a) (+ a 1)) 10))
(define (product a b) (accumulate * 1 (lambda (a) a) 1 (lambda (a) (+ a 1)) 10))
</pre>
</div></li>

<li><a id="orgheadline52"></a>å®ç°filtered-accumulate<br  /><div class="outline-text-5" id="text-1-5-2-4">
<pre class="example">
(define (filtered-accumulate filter combinder null-value term a next b)
  (cond ((&gt; a b) null-value)
  ((filter a) 
   (combinder (term a) 
        (filtered-accumulate filter combinder null-value term (next a) next b)))
  (else 
   (combinder null-value
   (filtered-accumulate filter combinder null-value term (next a) next b)))))
</pre>
</div></li></ol>
</div>

<div id="outline-container-orgheadline54" class="outline-4">
<h4 id="orgheadline54"><span class="section-number-4">1.5.3</span> ç”¨lambdaæ„é€ è¿‡ç¨‹</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
ä¸ºäº†çœå»å•ç‹¬å®šä¹‰ä¸€äº›ç®€å•å‡½æ•°çš„éº»çƒ¦,å¼•å…¥lambdaç‰¹æ®Šå½¢å¼æ¥å®Œæˆè¿™ç±»æè¿°,è€Œä¸å¿…ç»™æ¯ä¸ªè¿‡ç¨‹ç»‘å®šåå­—.
</p>
<pre class="example">
(lambda (x) (+ x 4))
</pre>
<p>
å®é™…ä¸Š, (define (&lt;name&gt; &lt;param &#x2026;&gt;) ()) æ˜¯lambdaçš„ä¸€ç§è¯­æ³•ç³–.
</p>
<pre class="example">
(define (plus4 n) (+ n 4))
</pre>
<p>
ç­‰ä»·äº:
</p>
<pre class="example">
(define plus4 (lambda (n) (+ n 4)))
</pre>
<p>
lambdaè¡¨è¾¾å¼å¯ä»¥ç”¨åš <b>ç»„åˆå¼çš„è¿ç®—ç¬¦</b>:
</p>
<pre class="example">
((lambda (x) (+ x 4)) 1)
</pre>
</div>
</div>

<div id="outline-container-orgheadline55" class="outline-4">
<h4 id="orgheadline55"><span class="section-number-4">1.5.4</span> ç”¨letåˆ›å»ºå±€éƒ¨å˜é‡</h4>
<div class="outline-text-4" id="text-1-5-4">
<p>
lambdaçš„å¦ä¸€ä¸ªä½œç”¨æ˜¯åˆ›å»ºå±€éƒ¨å˜é‡,ä¸ºæ­¤è¯­è¨€é‡Œæœ‰ä¸€ä¸ªè¯­æ³•ç³– <code>let</code>
</p>
<pre class="example">
(define (f x y)
 ((lambda (a b)
  (+ (* x (square a))
    (* y b)
    (* a b)))
  (+ 1 (x y))
  (- 1 y)))
</pre>
<p>
ç”¨letå½¢å¼å¯ä»¥ç®€åŒ–ä¸º
</p>
<pre class="example">
(define (f x y)
 (let ((a (+ 1 (x y)))
       (b (- 1 y)))
   (+ (* x (square a))
      (* y b)
      (* a b))))
</pre>
<p>
æ³¨æ„ä½¿ç”¨letçº¦æŸçš„å±€éƒ¨å˜é‡å¿…é¡»åœ¨letçš„bodyä¸­.
</p>
<ul class="org-ul">
<li>letä½¿äººèƒ½åœ¨å°½å¯èƒ½æ¥è¿‘å…¶ä½¿ç”¨çš„åœ°æ–¹å»ºç«‹å±€éƒ¨å˜é‡çº¦æŸ.</li>
<li>å˜é‡çš„å€¼æ˜¯åœ¨letä¹‹å¤–è®¡ç®—çš„. å¦‚ä¸‹é¢è¿‡ç¨‹</li>
</ul>
<pre class="example">
....
(let (x 3)
     (y x))
</pre>
<p>
å¦‚æœxåœ¨letä¹‹å‰çš„å€¼æ˜¯2,åœ¨letå†…x=3, è€Œy=2.
</p>

<p>
æœ‰æ—¶åœ¨è¿‡ç¨‹å†…éƒ¨defineä¹Ÿæœ‰ä¸letä¸€æ ·çš„æ•ˆæœ:
</p>
<pre class="example">
(define (f x y)
  (define a (...))
  (define b (...))
  (+ a b))
</pre>
</div>
</div>

<div id="outline-container-orgheadline57" class="outline-4">
<h4 id="orgheadline57"><span class="section-number-4">1.5.5</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-5-5">
</div><ol class="org-ol"><li><a id="orgheadline56"></a>æ‰§è¡Œ(f f)ä¼šå‘ç”Ÿä»€ä¹ˆ<br  /><div class="outline-text-5" id="text-1-5-5-1">
<p>
(f f)-&gt;(f 2)-&gt;(2 2). è€Œ2ä¸æ˜¯ä¸€ä¸ªå¯ä»¥åº”ç”¨çš„è¿‡ç¨‹, ä¼šæŠ¥é”™.
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline60" class="outline-4">
<h4 id="orgheadline60"><span class="section-number-4">1.5.6</span> è¿‡ç¨‹ä½œä¸ºä¸€èˆ¬æ€§çš„æ–¹æ³•</h4>
<div class="outline-text-4" id="text-1-5-6">
</div><ol class="org-ol"><li><a id="orgheadline58"></a>é€šè¿‡åŒºé—´æŠ˜åŠæ³•å¯»æ‰¾æ–¹ç¨‹çš„æ ¹<br  /><div class="outline-text-5" id="text-1-5-6-1">
<p>
ä»£ç ç•¥&#x2026;
</p>
</div></li>

<li><a id="orgheadline59"></a>æ‰¾å‡ºå‡½æ•°çš„ä¸åŠ¨ç‚¹<br  /><div class="outline-text-5" id="text-1-5-6-2">
<p>
æ•°xç§°ä¸ºå‡½æ•°fçš„ä¸åŠ¨ç‚¹,å¦‚æœxæ»¡è¶³æ–¹ç¨‹ \(f(x)=x\) . 
</p>
<pre class="example">
(define tolerance 0.00001)
(define (fixed-point f first-guess)
  (define (close-enough? v1 v2)
    (&lt; (abs (- v1 v2)) tolerance))
  (define (try guess)
    (let ((next (f guess)))
      (if (close-enough? guess next)
    next
    (try next)))) ;; è¿™é‡Œéœ€è¦ä¿è¯æ”¶æ•›
  (try first-guess))
</pre>
</div></li></ol>
</div>

<div id="outline-container-orgheadline66" class="outline-4">
<h4 id="orgheadline66"><span class="section-number-4">1.5.7</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-5-7">
</div><ol class="org-ol"><li><a id="orgheadline61"></a>ä½¿ç”¨fixed-pointæ‰¾å‡ºé»„é‡‘åˆ†å‰² \(phi\) çš„å€¼: x-&gt;1+1/x.<br  /><div class="outline-text-5" id="text-1-5-7-1">
<pre class="example">
(fixed-point (lambda (x) (+ 1 (/ 1 x)))  1.0)
</pre>
<p>
x=1.6180327868852458
</p>
</div></li>

<li><a id="orgheadline62"></a>ä¿®æ”¹fixed-point,ä½¿ä»–æ‰“å°å‡ºè®¡ç®—è¿‡ç¨‹.ç¡®å®šx<sup>x</sup>=1000çš„ä¸€ä¸ªæ ¹,å¹¶æ¯”è¾ƒé‡‡ç”¨å¹³å‡é˜»å°¼å’Œä¸ç”¨å¹³å‡é˜»å°¼çš„è®¡ç®—æ­¥éª¤.<br  /><div class="outline-text-5" id="text-1-5-7-2">
<p>
ä¸ç”¨å¹³å‡é˜»å°¼
</p>
<pre class="example">
(fixed-point-log  (lambda (x)  (/ (log 1000) (log x))) 2)
</pre>
<p>
33æ­¥
</p>

<p>
ä½¿ç”¨å¹³å‡é˜»å°¼:
</p>
<pre class="example">
(define (average n) (/ n 2))
(fixed-point-log  (lambda (x) (average (+ x (/ (log 1000) (log x))))) 2)
</pre>
<p>
8æ­¥
</p>
</div></li>

<li><a id="orgheadline63"></a>ä¸€ä¸ªæ— ç©·è¿åˆ†å¼æ˜¯ä¸€ä¸ªå¦‚ä¸‹å½¢å¼çš„è¡¨è¾¾å¼:<br  /><div class="outline-text-5" id="text-1-5-7-3">
<p>
\(\Large x=\frac{N_1}{D1 + \frac{N_2}{D2 + \frac{N_3}{D_3+...}}}\)
è¯æ˜å½“Diå’ŒNiéƒ½ç­‰äº1æ—¶,è¿™ä¸€è¿åˆ†å¼äº§ç”Ÿå‡º\(1/\phi\)
</p>
<pre class="example">
;; é€’å½’
(define (cont-frac n d k it)
  (cond ((= it k) 0)
  (else (/ (n it) (+ (d it) (cont-frac n d k (+ it 1)))))))

(define (gold k)
    (+ 1 (cont-frac (lambda (i) 1.0) (lambda (i) 1.0) k 0)))

(gold 11)

;; è¿­ä»£
(define (cont-frac-it n d k result)
  (cond ((= k -1) result)
  (else (cont-frac-it n d (- k 1) (/ (n k) (+ (d k) result))))))

(define (gold k)
    (+ 1 (cont-frac-it (lambda (i) 1.0) (lambda (i) 1.0) k 0)))

(gold 11)
</pre>
<p>
kå–6æ—¶ç»“æœå…·æœ‰4ä½ç²¾åº¦, ä½†ä¸å¤Ÿå‡†ç¡®.kè¶Šå¤§æ—¶,ç»“æœè¶Šé€¼è¿‘ \(1/\phi\), kå–12æ—¶,å°æ•°ç‚¹å4ä½çš„ç»“æœæ˜¯å‡†ç¡®çš„.
</p>
</div></li>

<li><a id="orgheadline64"></a>ä½¿ç”¨ä¸Šä¸€é¢˜çš„cont-fracè¿‡ç¨‹åŸºäºæ¬§æ‹‰å±•å¼€å¼æ±‚eçš„è¿‘ä¼¼å€¼.<br  /><div class="outline-text-5" id="text-1-5-7-4">
<pre class="example">
(define (ora i)
    (cond ((= 0 (remainder (- i 1) 3))
     (* 2 (/ (+ i 2) 3)))
    (else 1.0)))

(define (de-frac k)
  (cont-frac-it
  (lambda (i) 1.0)
  ora
  k
  0))

(define (e k)
  (+ 2 (de-frac k)))
</pre>
</div></li>

<li><a id="orgheadline65"></a>å®šä¹‰è¿‡ç¨‹(tan-cf x k),åŸºäºLambertå…¬å¼è®¡ç®—æ­£åˆ‡å‡½æ•°çš„è¿‘ä¼¼å€¼.<br  /><div class="outline-text-5" id="text-1-5-7-5">
<pre class="example">
(define (tan-cf x k)
  (define (N-tan i) 
    (if (= i 1)
  x
  (- (square x))))
  (define (D-tan i) (- (* 2 i) 1))
  (cont-frac N-tan D-tan k 1))

(tan-cf 1.0 10)
(tan 1)
</pre>
</div></li></ol>
</div>





<div id="outline-container-orgheadline69" class="outline-4">
<h4 id="orgheadline69"><span class="section-number-4">1.5.8</span> è¿‡ç¨‹ä½œä¸ºè¿”å›å€¼</h4>
<div class="outline-text-4" id="text-1-5-8">
<p>
æŠŠå‰é¢æ‰€è¯´çš„å¹³å‡é˜»å°¼æ¦‚å¿µå†æŠ½è±¡ä¸€ä¸‹..
</p>
<pre class="example">
(define (average-damp f)
  (lambda (x) (average x (f x))))

((average-damp square) 10)
</pre>
<p>
è¿™æ ·å‰é¢æ±‚å¹³æ–¹æ ¹çš„è¿‡ç¨‹å¯æ”¹å†™æˆ:
</p>
<pre class="example">
(define (squrt x)
  (fixed-point (average-damp (lambda (a) (/ x a))) 1.0))
</pre>
<p>
æ‰€ä»¥ç°åœ¨ä¸Šé¢è¿™ä¸¤è¡Œä»£ç ä¸­ç»“åˆäº†ä¸‰ç§æ€æƒ³: ä¸åŠ¨ç‚¹æœå¯»,å¹³å‡é˜»å°¼,å’Œå‡½æ•°y-&gt;x/y.
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline67"></a>ç‰›é¡¿æ³•<br  /><div class="outline-text-5" id="text-1-5-8-1">
<p>
é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªæ–¹æ³•æè¿°å¯¼æ•°
</p>

<p>
\(Dg(x)=\frac{g(x+dx)-g(x)}{dx}\)
è¿™æ—¶å°±èƒ½çœ‹åˆ°å°†è¿‡ç¨‹ä½œä¸ºè¿”å›å€¼çš„å¨åŠ›äº†:ç”Ÿæˆå¯¼æ•°å‡½æ•°.
</p>
<pre class="example">
(define dx 0.00001) ;; é¦–å…ˆå®šä¹‰ä¸€ä¸ªdelta
(define (drive g)
  (lambda (x) (/ (- (g (+ x dx)) (g x)) dx)))
;; test: $D(x^3)=3*x^2$
((drive (lambda (x) (* x x x))) 2)
</pre>

<p>
ç„¶åæŠŠç‰›é¡¿æ³•æè¿°ä¸ºä¸€ä¸ªæ±‚ä¸åŠ¨ç‚¹çš„è¿‡ç¨‹:
</p>
<pre class="example">
(define (newton-transform g)
  (lambda (x)
    (- x (/ (g x) ((driv g) x)))))
(define (newtons-method g guess)
  (fixed-point (newton-transform g ) guess))
(define (squr x)
  (newtons-method (lambda (y) (- (square y) x)) 1.0))
</pre>
</div></li>
<li><a id="orgheadline68"></a>æŠ½è±¡å’Œç¬¬ä¸€çº§è¿‡ç¨‹<br  /><div class="outline-text-5" id="text-1-5-8-2">
<p>
è®¡ç®—æœºç¨‹åºæ€»ä¼šå¯¹è®¡ç®—å…ƒç´ çš„å¯èƒ½ä½¿ç”¨æ–¹å¼åŠ ä¸ŠæŸäº›é™åˆ¶.å¸¦æœ‰æœ€å°‘é™åˆ¶çš„å…ƒç´ è¢«ç§°ä¸º <code>ç¬¬ä¸€çº§çŠ¶æ€</code>
ç¬¬ä¸€çº§å…ƒç´ çš„æŸäº›"ç‰¹æƒ"åŒ…æ‹¬:
</p>
<ul class="org-ul">
<li>å¯ä»¥ä½¿ç”¨å˜é‡å</li>
<li>å¯ä»¥æä¾›ç»™è¿‡ç¨‹ä½œä¸ºå‚æ•°</li>
<li>å¯ä»¥ç”±è¿‡ç¨‹ä½œä¸ºç»“æœè¿”å›</li>
<li>å¯ä»¥åŒ…å«åœ¨æ•°æ®ç»“æ„ä¸­</li>
</ul>
<p>
Listç»™äº† <b>è¿‡ç¨‹</b> å®Œå…¨ç¬¬ä¸€çº§çŠ¶æ€, è¿™æ˜¯éå¸¸ç‰›é€¼çš„(ä¸»è¦æ˜¯éš¾ä»¥å®ç°).
æˆ‘æ—¥å¸¸ç”¨çš„å‡ ç§è¯­è¨€æ²¡æœ‰è°èƒ½åšåˆ°è¿™äº›orz
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline77" class="outline-4">
<h4 id="orgheadline77"><span class="section-number-4">1.5.9</span> [ä¹ é¢˜]</h4>
<div class="outline-text-4" id="text-1-5-9">
</div><ol class="org-ol"><li><a id="orgheadline70"></a>è¯·å®šä¹‰ä¸€ä¸ªè¿‡ç¨‹cubic,å®ƒå’Œnewtons-methodä¸€èµ·ä½¿ç”¨åœ¨ä¸‹é¢çš„è¡¨è¾¾å¼é‡Œ,é€¼è¿‘ä¸‰æ¬¡æ–¹ç¨‹x<sup>3</sup>+aX<sup>2</sup>+cçš„é›¶ç‚¹<br  /><div class="outline-text-5" id="text-1-5-9-1">
<p>
(newtons-method (cubic a b c) 1)
</p>
<pre class="example">
(define (cubic a b c)
  (lambda (x) (+ (* x x x) (* a x x) (* b x) c)))
;; test
(newtons-method (cubic 3 1 1) 1)
</pre>
</div></li>

<li><a id="orgheadline71"></a>è¯·å®šä¹‰ä¸€ä¸ªè¿‡ç¨‹double,å®ƒä»¥ä¸€ä¸ªæœ‰ä¸€ä¸ªå‚æ•°çš„è¿‡ç¨‹ä½œä¸ºå‚æ•°,doubleè¿”å›ä¸€ä¸ªå‚æ•°.è¿™ä¸€è¿‡ç¨‹å°†åŸæ¥é‚£ä¸ªå‚æ•°è¿‡ç¨‹åº”ç”¨ä¸¤æ¬¡.<br  /><div class="outline-text-5" id="text-1-5-9-2">
<pre class="example">
(define (double f)
  (lambda (x) (f (f x))))
;; test
((double (lambda (x) (square x))) 2)
</pre>
<p>
è¡¨è¾¾å¼(((double (double double)) inc ) 5)è¿”å›21:
</p>
<pre class="example">
(((double (double double) inc) -&gt; (double (double (double (double inc)))) = 2^4 = 16
</pre>
</div></li>

<li><a id="orgheadline72"></a>å®šä¹‰composeå®ç°å¤åˆå‡½æ•°<br  /><div class="outline-text-5" id="text-1-5-9-3">
<pre class="example">
(define (compose f g)
  (lambda (x) (f (g x))))
((compose square inc) 6)
</pre>
</div></li>

<li><a id="orgheadline73"></a>æ„é€ fçš„næ¬¡é‡å¤åº”ç”¨è¿‡ç¨‹<br  /><div class="outline-text-5" id="text-1-5-9-4">
<pre class="example">
(define (repeated f k)
  (define (it g k n)
    (if (= n (- k 1)) 
  (lambda (x) (g x))
  (it (lambda (x) (f (g x))) k (+ n 1))))
  (it f k 0))

((repeated square 2) 5)
; Value: 625
</pre>
</div></li>

<li><a id="orgheadline74"></a>å®ç°å¹³æ»‘å‡½æ•°<br  /><div class="outline-text-5" id="text-1-5-9-5">
<pre class="example">
(define (smooth f)
  (lambda (x) 
    (/ (+ (f x) (f (- x dx)) (f (+ x dx))) 3)))

(define (smooth-k f k)
  ((repeated smooth k) f))
</pre>
</div></li>

<li><a id="orgheadline75"></a>è¯•éªŒæ±‚$x/y<sup>n-1</sup>$éœ€è¦å¤šå°‘æ¬¡å¹³å‡é˜»å°¼<br  /><div class="outline-text-5" id="text-1-5-9-6">
<pre class="example">
;;å‰é¢å®šä¹‰çš„æ±‚å¹‚è¿‡ç¨‹expt-iter
(define (expt-iter b n a)
  (cond ((= n 0) a)
  ((even? n) (expt-iter  (* b b)  (/ n 2)  a))
  (else (expt-iter  b (- n 1) (* b a)))))
;;å®šä¹‰è¿‡ç¨‹x-&gt;x/y^n
(define (root n x)
  (lambda (y) (/ x (expt-iter y n 1))))
;;åº”ç”¨kæ¬¡é˜»å°¼
(define (repeated-damp f k)
  ((repeated average-damp k) f))

(define (squrt-n n x damp-cnt)
  (fixed-point-log (repeated-damp (root n x) damp-cnt) 1))
</pre>

<p>
è¯•éªŒä¸‹æ¥å¤§çº¦è‡³å°‘éœ€è¦$log{n}$æ¬¡å¹³å‡é˜»å°¼.
</p>
</div></li>

<li><a id="orgheadline76"></a>å†™ä¸€ä¸ªè¿‡ç¨‹interative-improve, å®ƒä»¥ä¸¤ä¸ªè¿‡ç¨‹ä¸ºå‚æ•°. å…¶ä¸­ä¹‹ä¸€ç”¨äºåˆ¤å®šç»“æœæ˜¯å¦è¶³å¤Ÿå¥½,å¦å¤–ä¸€ä¸ªç”¨äºçŒœæµ‹æ›´å¥½çš„ç»“æœ.<br  /><div class="outline-text-5" id="text-1-5-9-7">
<pre class="example">
(define (iterative-improve good-enough? f)
  (lambda (x)
    (define (try guess)
      (let ((next (f guess)))
  (if (good-enough? guess next)
      next
      (try next))))
    (try x)))
;;å®šä¹‰good-enough?
(define (close-enough? v1 v2)
  (&lt; (abs (- v1 v2)) tolerance))

(define (fixed-point f guess)
  ((iterative-improve close-enough? f) guess))

(define (sqrt n guess)
    ((iterative-improve 
      close-enough? (lambda (x) (/ (+ x (/ n x)) 2))) guess))
</pre>


<p>
ä»¥ä¸Š.
</p>

<p>
(å‡ ä¹ä¸€ä¸ªæœˆè¿‡å»äº†/(ã„’oã„’)/~~)
</p>
</div></li></ol>
</div>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/03/09/sicp-ch1-æ„é€ è¿‡ç¨‹æŠ½è±¡/</guid>
    </item>
    <item>
      <title>SICP-CH2-æ„é€ æ•°æ®æŠ½è±¡</title>
      <link>http://tsubasawp.github.io/blog/2016/04/05/sicp-ch2-æ„é€ æ•°æ®æŠ½è±¡/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>SICP-CH2-æ„é€ æ•°æ®æŠ½è±¡</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline21">1. æ•°æ®æŠ½è±¡ç´¢å¼•</a>
<ul>
<li><a href="#orgheadline1">1.1. å®ä¾‹:æœ‰ç†æ•°çš„ç®—æœ¯è¿ç®—</a></li>
<li><a href="#orgheadline2">1.2. ä¹ é¢˜2.1</a></li>
<li><a href="#orgheadline3">1.3. æŠ½è±¡å±éšœ</a></li>
<li><a href="#orgheadline4">1.4. ä¹ é¢˜2.2</a></li>
<li><a href="#orgheadline5">1.5. ä¹ é¢˜2.3</a></li>
<li><a href="#orgheadline6">1.6. æ•°æ®æ„å‘³ç€ä»€ä¹ˆ</a></li>
<li><a href="#orgheadline7">1.7. ä¹ é¢˜2.4</a></li>
<li><a href="#orgheadline8">1.8. ä¹ é¢˜2.5</a></li>
<li><a href="#orgheadline9">1.9. ä¹ é¢˜2.6</a></li>
<li><a href="#orgheadline10">1.10. æ‰©å±•ç»ƒä¹ :åŒºé—´ç®—æœ¯</a></li>
<li><a href="#orgheadline11">1.11. ä¹ é¢˜2.7</a></li>
<li><a href="#orgheadline12">1.12. ä¹ é¢˜2.8</a></li>
<li><a href="#orgheadline13">1.13. ä¹ é¢˜2.9</a></li>
<li><a href="#orgheadline14">1.14. ä¹ é¢˜2.10</a></li>
<li><a href="#orgheadline15">1.15. ä¹ é¢˜2.11</a></li>
<li><a href="#orgheadline16">1.16. ä¹ é¢˜2.12</a></li>
<li><a href="#orgheadline17">1.17. ä¹ é¢˜2.13</a></li>
<li><a href="#orgheadline18">1.18. ä¹ é¢˜2.14</a></li>
<li><a href="#orgheadline19">1.19. ä¹ é¢˜2.15</a></li>
<li><a href="#orgheadline20">1.20. ä¹ é¢˜2.16</a></li>
</ul>
</li>
<li><a href="#orgheadline58">2. å±‚æ¬¡æ€§æ•°æ®å’Œé—­åŒ…æ€§è´¨</a>
<ul>
<li><a href="#orgheadline31">2.1. åºåˆ—çš„è¡¨ç¤º</a>
<ul>
<li><a href="#orgheadline22">2.1.1. å¯¹è¡¨çš„æ“ä½œ</a></li>
<li><a href="#orgheadline23">2.1.2. ä¹ é¢˜2.17</a></li>
<li><a href="#orgheadline24">2.1.3. ä¹ é¢˜2.18</a></li>
<li><a href="#orgheadline25">2.1.4. ä¹ é¢˜2.19</a></li>
<li><a href="#orgheadline26">2.1.5. ä¹ é¢˜2.20</a></li>
<li><a href="#orgheadline27">2.1.6. å¯¹è¡¨çš„æ˜ å°„</a></li>
<li><a href="#orgheadline28">2.1.7. ä¹ é¢˜2.21</a></li>
<li><a href="#orgheadline29">2.1.8. ä¹ é¢˜2.22</a></li>
<li><a href="#orgheadline30">2.1.9. ä¹ é¢˜2.23</a></li>
</ul>
</li>
<li><a href="#orgheadline42">2.2. å±‚æ¬¡ç»“æ„</a>
<ul>
<li><a href="#orgheadline32">2.2.1. ä¹ é¢˜2.24</a></li>
<li><a href="#orgheadline33">2.2.2. ä¹ é¢˜2.25</a></li>
<li><a href="#orgheadline34">2.2.3. ä¹ é¢˜2.26</a></li>
<li><a href="#orgheadline35">2.2.4. ä¹ é¢˜2.27</a></li>
<li><a href="#orgheadline36">2.2.5. ä¹ é¢˜2.28</a></li>
<li><a href="#orgheadline37">2.2.6. ä¹ é¢˜2.29</a></li>
<li><a href="#orgheadline38">2.2.7. å¯¹æ ‘çš„æ˜ å°„</a></li>
<li><a href="#orgheadline39">2.2.8. ä¹ é¢˜2.30</a></li>
<li><a href="#orgheadline40">2.2.9. ä¹ é¢˜2.31</a></li>
<li><a href="#orgheadline41">2.2.10. ä¹ é¢˜2.32</a></li>
</ul>
</li>
<li><a href="#orgheadline56">2.3. åºåˆ—ä½œä¸ºä¸€ç§çº¦å®šçš„ç•Œé¢</a>
<ul>
<li><a href="#orgheadline43">2.3.1. åºåˆ—æ“ä½œ</a></li>
<li><a href="#orgheadline44">2.3.2. ä¹ é¢˜2.33</a></li>
<li><a href="#orgheadline45">2.3.3. ä¹ é¢˜2.34</a></li>
<li><a href="#orgheadline46">2.3.4. ä¹ é¢˜2.35</a></li>
<li><a href="#orgheadline47">2.3.5. ä¹ é¢˜2.36</a></li>
<li><a href="#orgheadline48">2.3.6. ä¹ é¢˜2.37</a></li>
<li><a href="#orgheadline49">2.3.7. ä¹ é¢˜2.38</a></li>
<li><a href="#orgheadline50">2.3.8. ä¹ é¢˜2.39</a></li>
<li><a href="#orgheadline51">2.3.9. åµŒå¥—æ˜ å°„</a></li>
<li><a href="#orgheadline52">2.3.10. ä¹ é¢˜2.40</a></li>
<li><a href="#orgheadline53">2.3.11. ä¹ é¢˜2.41</a></li>
<li><a href="#orgheadline54">2.3.12. ä¹ é¢˜2.42</a></li>
<li><a href="#orgheadline55">2.3.13. ä¹ é¢˜2.43</a></li>
</ul>
</li>
<li><a href="#orgheadline57">2.4. å®ä¾‹:ä¸€ä¸ªå›¾å½¢è¯­è¨€</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline21" class="outline-2">
<h2 id="orgheadline21"><span class="section-number-2">1</span> æ•°æ®æŠ½è±¡ç´¢å¼•</h2>
<div class="outline-text-2" id="text-1">
<p>
<code>æ•°æ®æŠ½è±¡</code> æ˜¯ä¸€ç§ç§‘å­¦æ–¹æ³•,å®ƒä½¿æˆ‘ä»¬èƒ½å°†ä¸€ä¸ªå¤åˆæ•°æ®å¯¹è±¡çš„ä½¿ç”¨,ä¸è¯¥æ•°æ®å¯¹è±¡æ€æ ·ç”±æ›´åŸºæœ¬çš„æ•°æ®å¯¹è±¡æ„é€ èµ·æ¥çš„ç»†èŠ‚éš”ç¦»å¼€.
</p>
</div>

<div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> å®ä¾‹:æœ‰ç†æ•°çš„ç®—æœ¯è¿ç®—</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<code>è¡¨æ•°æ®ç»“æ„</code> ä»åºå¯¹æ„é€ èµ·æ¥çš„æ•°æ®å¯¹è±¡
</p>

<p>
å…³é”®å­—:cond, car, cdr
</p>

<p>
å®šä¹‰æœ‰ç†æ•°è¿‡ç¨‹:
</p>
<pre class="example">
;; å®šä¹‰æœ‰ç†æ•°å¹¶ç”¨gcdä¼˜åŒ–
(define (make-rat n d)
  (let ((g (gcd n d)))
    (cons (/ n g)  (/ d g))))
;; åˆ†å­
(define (number x) (car x))
;; åˆ†æ¯
(define (denom x) (cdr x))
;; print
(define (print-rat x)
  (newline)
  (display (number x))
  (display "/")
  (display (denom x)))
;; test val-&gt;1/2
(print-rat (make-rat 2 -4))
</pre>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> ä¹ é¢˜2.1</h3>
<div class="outline-text-3" id="text-1-2">
<pre class="example">
(define (make-rat n d)
  (let ((g (gcd (abs n) (abs d))))
    (cond ((&gt; (* n d) 0)
           (cons (/ (abs n) g)  (/ (abs d) g)))
          (else  (cons (- 0 (/ (abs n) g)) (/ (abs d) g))))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.3</span> æŠ½è±¡å±éšœ</h3>
<div class="outline-text-3" id="text-1-3">
<p>
æ•°æ®æŠ½è±¡çš„åŸºæœ¬æ€æƒ³æ˜¯:ä¸ºæ¯ä¸€ç±»æ•°æ®å¯¹è±¡æ ‡è¯†å‡ºä¸€ç»„æ“ä½œ,ä½¿å¾—å¯¹è¿™ç±»æ•°æ®å¯¹è±¡çš„æ“ä½œéƒ½å¯ä»¥åŸºäºå®ƒä»¬è¡¨è¿°,å¹¶ä¸”åªä½¿ç”¨å®ƒä»¬.
</p>
</div>
</div>
<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">1.4</span> ä¹ é¢˜2.2</h3>
<div class="outline-text-3" id="text-1-4">
<pre class="example">
(define (make-point x y) (cons x y))
(define (x-point x) (car x))
(define (y-point x) (cdr x))
(define (make-segment x y) (cons x y))
(define (start-point x) (car x))
(define (end-point x) (cdr x))
(define (print-point p)
  (newline)
  (display "(")
  (display (x-point p))
  (display ",")
  (display (y-point p))
  (display ")"))

(define (mid-point segment)
  (print-point (make-point
   (/ (+ (x-point (start-point segment)) (x-point (end-point segment))) 2)
   (/ (+ (y-point (start-point segment)) (y-point (end-point segment))) 2))))

(mid-point (make-segment (make-point 1.0 1.0) (make-point 4 5)))
;; value-&gt; (2.5,3.)
</pre>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">1.5</span> ä¹ é¢˜2.3</h3>
<div class="outline-text-3" id="text-1-5">
<pre class="example">
(define (double x) (* x x))
(define (make-rect p1 p2 p3)
  (cons (make-segment p1 p2) (make-segment p2 p3)))
(define (h-side rect) (car rect))
(define (v-side rect) (cdr rect))
(define (lenth seg)
  (let ((p1 (x-point seg))
        (p2 (y-point seg)))
  (sqrt
   (+
    (double (- (x-point p1) (x-point p2)))
    (double (- (y-point p1) (y-point p2)))))))
(define (rect-length rect)
  (* (+
      (lenth (h-side rect))
      (lenth (v-side rect)))
     2))
(define (rect-area rect)
  (*  (lenth (h-side rect))
      (lenth (v-side rect))))

;; test
(lenth (make-segment (make-point 1 1) (make-point 2 2))) 
;Value: 1.4142135623730951

(rect-length
 (make-rect (make-point 1 1) (make-point 2 2) (make-point 0 2))) 
;Value: 6.82842712474619

(rect-area
 (make-rect (make-point 1 1) (make-point 2 2) (make-point 0 2))) 
;Value: 2.8284271247461903
</pre>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">1.6</span> æ•°æ®æ„å‘³ç€ä»€ä¹ˆ</h3>
<div class="outline-text-3" id="text-1-6">
<p>
<code>æ•°æ®</code> æ˜¯ä¸€ç»„é€‚å½“çš„ <b>æ„é€ å‡½æ•°</b> å’Œ <b>é€‰æ‹©å‡½æ•°</b> ,ä»¥åŠä¸ºäº†ä½¿è¿™äº›è¿‡ç¨‹æˆä¸ºä¸€å¥—åˆæ³•çš„è¡¨ç¤º, å®ƒä»¬å¿…é¡»æ»¡è¶³çš„ä¸€ç»„*ç‰¹å®šæ¡ä»¶*
</p>

<p>
æ¡ä»¶å¯èƒ½ä¸å¤ªå¥½ç†è§£, ä¸¾ä¾‹æ¥è¯´, <b>åºå¯¹</b> è¿™ç§æ•°æ®çš„carå’Œcdræ“ä½œéœ€è¦æ»¡è¶³çš„æ¡ä»¶å°±æ˜¯:
ä»»ä½•å¯¹è±¡xå’Œy, å¦‚æœzæ˜¯(cons x y),é‚£ä¹ˆ(car z)å°±æ˜¯x, (cdr z)å°±æ˜¯y.
</p>

<p>
<code>æ•°æ®çš„è¿‡ç¨‹æ€§è¡¨ç¤º</code> lisp/schemeç”šè‡³å¯ä»¥ç”¨è¿‡ç¨‹æ¥è¡¨ç¤ºåºå¯¹:
</p>
<pre class="example">
(define (cons x y)
 (define (dispatch m)
   (cond ((= m 0) x)
         ((= m 1) y)
         (else (error "argument not 0 or 1")))
  dispatch))

(define (car z) (z 0))
(define (cdr z) (z 1))
</pre>

<p>
(cons x y)è¿”å›ä¸€ä¸ªè¿‡ç¨‹. å½“ç„¶schemeå’Œä¸€èˆ¬çš„lispå¹¶ä¸ä¼šè¿™æ ·å®ç°åºå¯¹,ä¸»è¦æ˜¯å‡ºäºæ€§èƒ½è€ƒè™‘.
</p>

<p>
åœ¨ç¬¬ä¸‰ç« å¯ä»¥çœ‹åˆ°,æ•°æ®çš„è¿‡ç¨‹æ€§è¡¨ç¤ºåœ¨è®¾è®¡ä¸­æ‰®æ¼”ç€ä¸€ç§é‡è¦çš„è§’è‰²,è¿™ç§é£æ ¼å«åš <code>æ¶ˆæ¯ä¼ é€’</code>
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">1.7</span> ä¹ é¢˜2.4</h3>
<div class="outline-text-3" id="text-1-7">
<p>
ä»£æ¢è¿‡ç¨‹:
</p>
<pre class="example">
(car (cons x y))
((cons x y) (lambda (p q) p))
;æŠŠ(lambda (p q))ä½œä¸ºmå¸¦å…¥(lambda (m) (m x y))
((lambda (p q) p) x y)
;åº”ç”¨x,y,å¾—åˆ°
value-&gt;x
</pre>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">1.8</span> ä¹ é¢˜2.5</h3>
<div class="outline-text-3" id="text-1-8">
<p>
2å’Œ3éƒ½æ˜¯è´¨æ•°,å¯ä»¥åˆ©ç”¨è´¨æ•°ç›¸ä¹˜çš„æ€§è´¨å‚¨å­˜aå’Œb.
</p>
<pre class="example">
(define (cons-expt x y)
  (* (expt 2 x) (expt 3 y)))

(define (car-expt x)
  (define (iter a n)
    (cond ((= 0 (remainder a 2)) (iter (/ a 2) (+ n 1)))
          (else n)))
  (iter x 0))

(define (cdr-expt x)
  (define (iter a n)
    (cond ((= 0 (remainder a 3)) (iter (/ a 3) (+ n 1)))
          (else n)))
  (iter x 0))

(car-expt (cons-expt 5 6)) ;value-&gt;5
(cdr-expt (cons-expt 5 6)) ;value-&gt;6
</pre>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">1.9</span> ä¹ é¢˜2.6</h3>
<div class="outline-text-3" id="text-1-9">
<p>
ä½¿ç”¨churchè®¡æ•°çš„è¡¨ç¤ºå½¢å¼å®šä¹‰oneå’Œtwo. (è®²çœŸæˆ‘å¯¹ç€è¿™é“é¢˜å‘å‘†å¥½ä¹…&#x2026;.
</p>

<pre class="example">
(define zero (lambda (f) (lambda (x) x)))
(define (add-1 n)
  (lambda (f) (lambda (x) (f (n f) x))))

; é¦–å…ˆå±•å¼€add-1
(add-1 zero)
(lambda (f) (lambda (x) (f ((zero f) x))))
(lambda (f) (lambda (x) (f ((lambda(x) x) x))))
(lambda (f) (lambda (x) (f x)))
(add-1 one)
(lambda (f) (lambda (x) (f ((one f) x))))
(lambda (f) (lambda (x) (f ((lambda (x) (f x)) x))))
(lambda (f) (lambda (x) (f (f x))))
; å®šä¹‰one
(define one (lambda (f) (lambda (x) (f x))))
; å®šä¹‰two
(define two (lambda (f) (lambda (x) (f (f x)))))
;æ ¹æ®è§‚å¯Ÿå¾—å‡ºè§„å¾‹è§„å¾‹:oneçš„å®šä¹‰ä¸­åº”ç”¨äº†ä¸€æ¬¡f, twoçš„å®šä¹‰ä¸­åº”ç”¨äº†2æ¬¡f, æ‰€ä»¥è¿™ç±»è¿‡ç¨‹å¯ä»¥ç†è§£ä¸ºç”¨'åº”ç”¨fçš„æ¬¡æ•°'æ¥è¡¨ç¤ºæ•°å­—.
</pre>
<p>
å®šä¹‰é€šç”¨çš„åŠ æ³•:
</p>
<pre class="example">
(define (add a b)
  (lambda(f) (lambda(x) ((a f) ((b f) x)))))
</pre>
<p>
è¿™ä¸ªå®šä¹‰çš„æ€è·¯æ˜¯æŠŠaå’Œbä¸­åº”ç”¨fçš„è¿‡ç¨‹å åŠ . ä¸‹é¢æµ‹è¯•ä¸€ä¸‹:
</p>
<pre class="example">
(add one two)
(lambda(f) (lambda(x) ((lambda(x) (f x)) ((lambda(x) (f (f x))) x))))
(lambda(f) (lambda(x) ((lambda(x) (f x)) (f (f x)))))
(lambda(f) (lambda(x) (f (f (f x)))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">1.10</span> æ‰©å±•ç»ƒä¹ :åŒºé—´ç®—æœ¯</h3>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3">1.11</span> ä¹ é¢˜2.7</h3>
<div class="outline-text-3" id="text-1-11">
<pre class="example">
(define (make-interval a b) (cons a b))
(define (upper-bound x) (car x))
(define (lower-bound x) (cdr x))
</pre>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">1.12</span> ä¹ é¢˜2.8</h3>
<div class="outline-text-3" id="text-1-12">
<pre class="example">
(define (sub-interval a b)
  (make-interval (- (upper-bound a) (upper-bound b))
                 (- (lower-bound a) (lower-bound b))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">1.13</span> ä¹ é¢˜2.9</h3>
<div class="outline-text-3" id="text-1-13">
<p>
å¯¹åŠ /å‡è¿ç®—è€Œè¨€:
\(w(a+b)=(u(a+b)-l(a+b))/2=(((u(a)+u(b))-(l(a)+l(b)))/2=(w(a)+w(b))\)
æ‰€ä»¥ä¸¤ä¸ªåŒºé—´çš„å’Œ/å·®çš„å®½åº¦å‡½æ•°å°±æ˜¯è¢«åŠ /å‡çš„åŒºé—´çš„å®½åº¦å‡½æ•°.
</p>

<p>
å¯¹ä¹˜æ³•è€Œè¨€:
</p>

<p>
æœ‰åŒºé—´A=[0,2],å®½åº¦ä¸º1;B=[0,4],å®½åº¦ä¸º2;
A*B=[0,8],å®½åº¦ä¸º4. æ‰€ä»¥\(w(A*B)\neq w(A)*w(B)\).
</p>

<p>
å¯¹é™¤æ³•è€Œè¨€:
A/B=[0,1/2],å®½åº¦ä¸º1/4. è€Œw(A)/w(B)=1/2; æ‰€ä»¥\(w(A/B)\neq w(A)/w(B)\).
</p>
</div>
</div>

<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">1.14</span> ä¹ é¢˜2.10</h3>
<div class="outline-text-3" id="text-1-14">
<pre class="example">
; é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ£€æŸ¥è¿‡ç¨‹
(define (valid-interval x)
  (if (&lt; (* (upper-bound x) (lower-bound x)) 0) false true))
; é‡æ–°å®šä¹‰é™¤æ³•
(define (div-interval x y)
  (if (and (valid-interval x) (vali-interval y))
      (mul-interval x
                    (make-interval (/ 1.0 (upper-bound y))
                                   (/ 1.0 (lower-bound y))))
      (display "error:invalid param")))
</pre>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15"><span class="section-number-3">1.15</span> ä¹ é¢˜2.11</h3>
<div class="outline-text-3" id="text-1-15">
<p>
æ ¹æ®åŒºé—´æ˜¯å¦è·¨è¿‡0|æ˜¯å¦å…¨ä¸ºæ­£|æ˜¯å¦å…¨ä¸ºè´Ÿåˆ†ä¸º9ç§æƒ…å†µ.
</p>
<ul class="org-ul">
<li>a &gt; 0, b &gt; 0</li>
<li>a &gt; 0, b &lt; 0</li>
<li>a &gt; 0, b cross 0</li>
<li>a cross 0, b &gt; 0</li>
<li>a cross 0, b &lt; 0</li>
<li>a cross 0, b cross 0</li>
<li>a &lt; 0, b &gt; 0</li>
<li>a &lt; 0, b &lt; 0</li>
<li>a &lt; 0, b cross 0</li>
</ul>

<p>
å®šä¹‰å¿«é€Ÿä¹˜æ³•(æœ‰ä¸ªé—®é¢˜..å½“aå’Œbéƒ½è·¨è¶Š0æ—¶,éœ€è¦4æ¬¡ä¹˜æ³•è¿ç®—)
</p>
<pre class="example">
(define (is-cross-zero x)
  (if (&lt; (* (upper-bound x) (lower-bound x)) 0) true false))
(define (is-positive x)
  (if (&gt;= (lower-bound x) 0) true false))
(define (is-negative x)
  (if (&lt; (upper-bound x) 0) true false))

(define (fast-mul-interval x y)
  (cond
   ((and (is-positive x) (is-positive y))
    (make-interval
     (* (lower-bound x) (lower-bound y))
     (* (upper-bound x) (upper-bound y))))
   ((and (is-positive x) (is-negative y))
    (make-interval
     (* (upper-bound x) (upper-bound y))
     (* (lower-bound x) (lower-bound y))))
   ((and (is-positive x) (is-cross-zero y))
    (make-interval
     (* (upper-bound x) (lower-bound y))
     (* (upper-bound x) (upper-bound y))))
   ((and (is-negative x) (is-positive y))
    (make-interval
     (* (lower-bound x) (upper-bound y))
     (* (upper-bound x) (lower-bound y))))
   ((and (is-negative x) (is-negative y))
    (make-interval
     (* (upper-bound x) (upper-bound y))
     (* (lower-bound x) (lower-bound y))))
   ((and (is-negative x) (is-cross-zero y))
    (make-interval
     (* (lower-bound x) (upper-bound y))
     (* (lower-bound x) (lower-bound y))))
   ((and (is-cross-zero x) (is-positive y))
    (make-interval
     (* (lower-bound x) (upper-bound y))
     (* (upper-bound x) (upper-bound y))))
   ((and (is-cross-zero x) (is-negative y))
   (make-interval
    (* (upper-bound x) (lower-bound y))
    (* (lower-bound x) (lower-bound y))))
  ((and (is-cross-zero x) (is-cross-zero y))
   (make-interval
    (min (* (lower-bound x) (upper-bound y)) (* (upper-bound x) (lower-bound y)))
    (max (* (upper-bound x) (upper-bound y)) (* (lower-bound x) (lower-bound y)) )))))
</pre>

<p>
ä¸Alyssaçš„æš´åŠ›ä¹˜æ³•è¿›è¡Œæ¯”è¾ƒæµ‹è¯•(åè¡€&#x2026;
</p>
<pre class="example">
(fast-mul-interval (make-interval 1 2) (make-interval 1 2))
(mul-interval (make-interval 1 2) (make-interval 1 2))
;; Value : (1 . 4)

(fast-mul-interval (make-interval 1 2) (make-interval -1 -2))
(mul-interval (make-interval 1 2) (make-interval -1 -2))
;; Value : (-4 .-1)

(fast-mul-interval (make-interval 1 2) (make-interval -1 2))
(mul-interval (make-interval 1 2) (make-interval -1 2))
;; Value : (-2, 4)

(fast-mul-interval (make-interval -2 -1) (make-interval 1 2))
(mul-interval (make-interval -2 -1) (make-interval 1 2))
;; Value : (-4, -1)

(fast-mul-interval (make-interval -2 -1) (make-interval -2 -1))
(mul-interval (make-interval -2 -1) (make-interval -2 -1))
;; Value : (1, 4)

(fast-mul-interval (make-interval -2 -1) (make-interval -1 2))
(mul-interval (make-interval -2 -1) (make-interval -1 2))
;; Value : (-4, 2)

(fast-mul-interval (make-interval -2 1) (make-interval 1 2))
(mul-interval (make-interval -2 1) (make-interval 1 2))
;; Value : (-4, 2)

(fast-mul-interval (make-interval -2 1) (make-interval -2 -1))
(mul-interval (make-interval -2 1) (make-interval -2 -1))
;; Value : (-2, 4)

(fast-mul-interval (make-interval -2 1) (make-interval -5 2))
(mul-interval (make-interval -2 1) (make-interval -5 2))
;; Value : (-5, 10)
</pre>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><span class="section-number-3">1.16</span> ä¹ é¢˜2.12</h3>
<div class="outline-text-3" id="text-1-16">
<pre class="example">
(define (make-center-percent center percent)
  (make-interval (- center (* center percent))
                 (+ center (* center percent))))
(define (percent range)
  (let ((width (/ (- (upper-bound range) (lower-bound range)) 2))
        (mid (/ (+ (upper-bound range) (lower-bound range)) 2)))
        (/ width mid)))
</pre>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">1.17</span> ä¹ é¢˜2.13</h3>
<div class="outline-text-3" id="text-1-17">
<p>
è®¡ç®—ç²¾åº¦çš„å…¬å¼æ˜¯ç®€å•ç›¸åŠ :
</p>
<pre class="example">
(define (percent-mul r1 r2)
  (+ (percent r1) (percent r2)))
</pre>
<p>
æµ‹è¯•ä¸€ä¸‹
</p>
<pre class="example">
(percent (mul-interval (make-interval 9.99 10.01) (make-interval 9.99 10.01)))
(percent-mul (make-interval 9.99 10.01) (make-interval 9.99 10.01))
</pre>


<p>
ç„¶ååˆ†æpart1,part2çš„é—®é¢˜:
</p>
<pre class="example">
(define (part1 r1 r2)
  (div-interval (mul-interval r1 r2)
                (add-interval r1 r2)))
(define (part2 r1 r2)
  (let ((one (make-interval 1 1)))
    (div-interval one
                  (add-interval (div-interval one r1)
                                (div-interval one r2)))))

(part1 (make-interval 1 2) (make-interval 1 2)) ;val-&gt; (.25,2)
(part2 (make-interval 1 2) (make-interval 1 2)) ;val-&gt; (.5 1)
</pre>
<p>
çŒœæµ‹æ˜¯è¿ç®—é¡ºåºä¸åŒå¯¼è‡´ç²¾åº¦å˜åŒ–ä¸åŒ
</p>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-3">
<h3 id="orgheadline18"><span class="section-number-3">1.18</span> ä¹ é¢˜2.14</h3>
<div class="outline-text-3" id="text-1-18">
<p>
é¦–å…ˆéªŒè¯ä¸Šé¢çš„çŒœæµ‹
</p>
<pre class="example">
(let ((r1 (make-interval 1.0 2))
       (r2 (make-interval 1.0 2))
      (one (make-interval 1.0 1.0)))
  (percent r1)  ; .33
  (percent (mul-interval r1 r2)) ; .6 æ”¾å¤§2å€
  (percent (div-interval r1 r2)) ; .6 æ”¾å¤§2å€
  (percent (add-interval r1 r2)) ; .33 ä¸å˜
  (percent (div-interval one r1)) ; .33 ä¸å˜
  (percent (part1 r1 r2)) ; .77 æ”¾å¤§2.28å€
  (percent (part2 r1 r2)) ; .33 
  )
</pre>

<p>
å¯è§,ç›´æ¥å¯¹ä¸¤ä¸ªåŒºé—´è¿›è¡Œä¹˜æ³•æˆ–é™¤æ³•æ“ä½œä¼šå°†ç²¾åº¦æ”¾å¤§.è€ŒåŠ æ³•ä»¥åŠè¢«oneé™¤ä¸ä¼šæ”¾å¤§ç²¾åº¦.
</p>

<p>
åœ¨part1çš„è¿ç®—è¿‡ç¨‹ä¸­,ä¹˜æ³•å°†ç²¾åº¦æ”¾å¤§2å€, ç”¨æ”¾å¤§çš„ä¹˜ç§¯é™¤ä»¥å’Œä¹‹åä»0.6æ”¾å¤§åˆ°0.77. 
è€Œåœ¨part2ä¸­,ç”±äºå…¨æ˜¯é™¤ä»¥1çš„æ“ä½œ.ç²¾åº¦æ²¡æœ‰å‘ç”Ÿå˜åŒ–.
</p>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-3">
<h3 id="orgheadline19"><span class="section-number-3">1.19</span> ä¹ é¢˜2.15</h3>
<div class="outline-text-3" id="text-1-19">
<p>
evaè¯´çš„å¯¹. part2ä¸­çš„è¿ç®—éƒ½æ²¡æœ‰é€ æˆç²¾åº¦åŒºé—´æ‰©å¤§,æ‰€ä»¥æ˜¯æ›´å¥½çš„ç¨‹åº.
</p>
</div>
</div>

<div id="outline-container-orgheadline20" class="outline-3">
<h3 id="orgheadline20"><span class="section-number-3">1.20</span> ä¹ é¢˜2.16</h3>
<div class="outline-text-3" id="text-1-20">
<p>
(ä½œè€…è¯´æ­¤é¢˜éå¸¸éš¾&#x2026;æ€•
</p>

<p>
æˆ‘å…ˆæƒ³åˆ°äº†é™¤æ³•è¿ç®—å¯èƒ½é•¿è¿™æ ·:
</p>
<pre class="example">
(define (better-div-interval r1 r2)
  (let ((one (make-interval 1 1)))
    (better-mul-interval r1  (div-interval one r2))))
</pre>
<p>
ä½†é¦–å…ˆè¦èƒ½å®šä¹‰å‡ºä¸€ä¸ªbetter-mul-interval
</p>

<p>
æˆ‘å®åœ¨ç¼–ä¸ä¸‹å»äº†! googleäº†ä¸€ä¸‹,è¿™é“é¢˜çœŸçš„å¾ˆéš¾,æ¶‰åŠåˆ°æ¯”è¾ƒè‰°æ·±çš„æ•°å­¦é—®é¢˜. è´´ä¸ªé“¾æ¥åœ¨è¿™é‡Œå§:
<a href="http://stackoverflow.com/questions/14130878/sicp-2-16-interval-arithmetic-scheme">http://stackoverflow.com/questions/14130878/sicp-2-16-interval-arithmetic-scheme</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline58" class="outline-2">
<h2 id="orgheadline58"><span class="section-number-2">2</span> å±‚æ¬¡æ€§æ•°æ®å’Œé—­åŒ…æ€§è´¨</h2>
<div class="outline-text-2" id="text-2">
<p>
<code>æ“ä½œçš„é—­åŒ…æ€§è´¨</code> é€šè¿‡æŸç§æ“ä½œç»„åˆèµ·æ¥çš„æ•°æ®å¯¹è±¡å¾—åˆ°çš„ç»“æœæœ¬èº«è¿˜å¯ä»¥é€šè¿‡åŒæ ·çš„æ“ä½œå†è¿›è¡Œç»„åˆ.
</p>
</div>

<div id="outline-container-orgheadline31" class="outline-3">
<h3 id="orgheadline31"><span class="section-number-3">2.1</span> åºåˆ—çš„è¡¨ç¤º</h3>
<div class="outline-text-3" id="text-2-1">
<p>
åºåˆ—å¯ä»¥é€šè¿‡åµŒå¥—consæ“ä½œæ„é€ èµ·æ¥
</p>
<pre class="example">
(cons 1
    (cons 2
        (cons 3
            (cons 4 ))))
</pre>

<p>
schemeä¸ºäº†æ–¹ä¾¿è¡¨çš„æ„é€ è€Œæä¾›äº†ä¸€ä¸ªåŸºæœ¬æ“ä½œlist.æ‰€ä»¥ä¸Šé¢åºåˆ—ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼äº§ç”Ÿ:
</p>
<pre class="example">
(list 1 2 3 4)
</pre>
<p>
å®ƒä»¬æ˜¯ç­‰ä»·çš„.
</p>
</div>

<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22"><span class="section-number-4">2.1.1</span> å¯¹è¡¨çš„æ“ä½œ</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
<code>car</code> å¯ä»¥è¢«çœ‹åšè·å–è¡¨ç¬¬ä¸€é¡¹å…ƒç´ çš„æ“ä½œ
<code>cdr</code> å¯ä»¥çœ‹åšè·å–è¡¨å‰©ä¸‹çš„å…ƒç´ çš„æ“ä½œ
<code>nil</code> ç”¨äºè¡¨ç¤ºåºå¯¹é“¾çš„ç»“æŸ
</p>

<p>
å¯ä»¥è¿™æ ·å®ç°ç´¢å¼•:
</p>
<pre class="example">
(define (list-ref item n)
  (if (= n 0)
      (car item)
      (list-ref (cdr item) (- n 1))))
</pre>

<p>
<code>null?</code> ç”¨äºæ£€æŸ¥æ˜¯å¦æ˜¯ç©ºè¡¨.
åˆ©ç”¨nullå®ç°length:
</p>
<pre class="example">
(define (length items)
  (if (null? items)
      0
      (+ 1 (length (cdr items)))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline23" class="outline-4">
<h4 id="orgheadline23"><span class="section-number-4">2.1.2</span> ä¹ é¢˜2.17</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
è·å–åºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ 
</p>
<pre class="example">
(define (last-pair items)
  (if (= 1 (length items))
      (list (car items))
      (last-pair (cdr items))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline24" class="outline-4">
<h4 id="orgheadline24"><span class="section-number-4">2.1.3</span> ä¹ é¢˜2.18</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
è¿”å›é€†åºåºåˆ—
</p>
<pre class="example">
(define (reverse items)
  (if (= 1 (length items))
      items
      (append (reverse (cdr items)) (list (car items)))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline25" class="outline-4">
<h4 id="orgheadline25"><span class="section-number-4">2.1.4</span> ä¹ é¢˜2.19</h4>
<div class="outline-text-4" id="text-2-1-4">
<p>
åˆ©ç”¨åºåˆ—ä¼˜åŒ–1.22çš„æ‰¾ç¡¬å¸ç¨‹åº,æŠŠå¸ç§å­˜å‚¨åœ¨åºåˆ—ä¸­
</p>
<pre class="example">
(define us-coins (list 50 25 10 5 1))
(define uk-coins (list 100 50 20 10 5 2 1 0.5))
(define (except-first-denomination coin-values) (cdr coin-values))
(define (first-denomination coin-values) (car coin-values))
(define (no-more? coin-values) (if (null? coin-values) true false))
(define (cc amount coin-values)
  (cond ((= amount 0 ) 1)
        ((or (&lt; amount 0) (no-more? coin-values)) 0)
        (else
         (+ (cc amount
                (except-first-denomination coin-values))
            (cc (- amount
                   (first-denomination coin-values))
                coin-values)))))
</pre>
<p>
å¸ç§çš„æ’åºä¸ä¼šå½±å“ç»“æœ.å› ä¸ºé’ˆå¯¹æ¯ç§ç¡¬å¸,éƒ½ä¼šä»æ€»é‡‘é¢amountå¼€å§‹é‡æ–°è®¡ç®—, æµ‹è¯•ç»“æœæ˜¯äº’ç›¸ç‹¬ç«‹çš„.
</p>
</div>
</div>

<div id="outline-container-orgheadline26" class="outline-4">
<h4 id="orgheadline26"><span class="section-number-4">2.1.5</span> ä¹ é¢˜2.20</h4>
<div class="outline-text-4" id="text-2-1-5">
<p>
è¿™é“é¢˜è¯´æ˜äº†schemeæ€æ ·å®šä¹‰å¸¦æœ‰ä»»æ„å¤šå‚æ•°çš„è¿‡ç¨‹
</p>

<p>
å…·ä½“æ–¹å¼æ˜¯ä½¿ç”¨ç‚¹å°¾:
</p>
<pre class="example">
(define (f x y . z) &lt;body&gt;)
</pre>
<p>
é‚£ä¹ˆå¦‚æœæ±‚å€¼(f 1 2 3 4 5),åˆ™x=1,y=2,ç„¶åz=(3,4,5),æ˜¯ä¸€ä¸ªlist. (åŸæ¥æ˜¯è¿™æ ·&#x2026;
</p>

<p>
è¯·ç”¨è¿™ç§è®°æ³•å†™å‡ºsame-parity:è¿”å›ä¸å…¶ç¬¬ä¸€ä¸ªå‚æ•°æœ‰åŒæ ·å¥‡å¶æ€§è´¨çš„è¡¨
</p>
<pre class="example">
;é¦–å…ˆå®šä¹‰ä¸€ä¸ªé€‰æ‹©å™¨,å®ƒæ¥å—ä¸€ä¸ªè¿‡ç¨‹å‚æ•°f,ç„¶åç”¨fæ¥è¿‡æ»¤å‡ºå­åºåˆ—
(define (filter items f)
  (cond
   ((null? items) (list))
   ((f (car items))
    (append (list (car items)) (filter (cdr items) f)))
   (else
    (append (list) (filter (cdr items) f)))))
</pre>
<p>
ç„¶åå®šä¹‰same-party.ä¸ºäº†ç®€åŒ–æˆ‘é¦–å…ˆåˆ©ç”¨appendæŠŠx,y,zæ•´åˆæˆä¸€ä¸ªåºåˆ—
</p>
<pre class="example">
(define (same-party x y . z)
  (let ((param-list
         (append (list x) (append (list y) z))))
    (if
     (odd? x)
     (filter param-list odd?)
     (filter param-list even?))))
</pre>
<p>
æµ‹è¯•
</p>
<pre class="example">
(same-party 2 1 2 3 4 5 6 7 8) ; value: (1 3 5 7)
(same-party 1 2 3 4 5 6 7 8)   ; value: (2 2 4 6 8)
</pre>
</div>
</div>

<div id="outline-container-orgheadline27" class="outline-4">
<h4 id="orgheadline27"><span class="section-number-4">2.1.6</span> å¯¹è¡¨çš„æ˜ å°„</h4>
<div class="outline-text-4" id="text-2-1-6">
<p>
<code>map</code> æ˜¯ä¸€ç§å…¬å…±æ¨¡å¼,è€Œä¸”å»ºç«‹èµ·äº†ä¸€ç§å¤„ç†è¡¨çš„é«˜å±‚æŠ½è±¡
</p>
<pre class="example">
(define (map proc items)
  (if (null? items)
      (list)
      (cons (proc (car items))
            (map proc (cdr items)))))
</pre>
</div>
</div>

<div id="outline-container-orgheadline28" class="outline-4">
<h4 id="orgheadline28"><span class="section-number-4">2.1.7</span> ä¹ é¢˜2.21</h4>
<div class="outline-text-4" id="text-2-1-7">
<pre class="example">
(define (square-list items)
  (if (null? items)
      '()
      (cons (square (car items)) (square-list (cdr items)))))

(define (square-list items)
  (map square items))
</pre>
</div>
</div>

<div id="outline-container-orgheadline29" class="outline-4">
<h4 id="orgheadline29"><span class="section-number-4">2.1.8</span> ä¹ é¢˜2.22</h4>
<div class="outline-text-4" id="text-2-1-8">
<p>
ç¬¬ä¸€ä¸ªè¿­ä»£é”™åœ¨consçš„é¡ºåº,æŠŠansweræ”¾åœ¨æœ€åä¼šå˜æˆå€’åº
</p>
<pre class="example">
(cons (...) answer)
</pre>
<p>
è€Œä¿®æ”¹åçš„ç¨‹åºæŠŠansweræ”¾åœ¨å‰é¢,è™½ç„¶çœ‹èµ·æ¥é¡ºåºå¯¹äº†,ä½†consçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åµŒå¥—çš„cons,æœ€åç”Ÿæˆçš„åºåˆ—ä¼šé•¿è¿™æ ·:
</p>
<pre class="example">
((((. .) .) .) .)
</pre>
</div>
</div>

<div id="outline-container-orgheadline30" class="outline-4">
<h4 id="orgheadline30"><span class="section-number-4">2.1.9</span> ä¹ é¢˜2.23</h4>
<div class="outline-text-4" id="text-2-1-9">
<p>
å®ç°ä¸€ä¸ªfor-each
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (for-each proc items)
  (if (null? items)
       ()
       (begin
         (proc (car items))
         (for-each proc (cdr items)))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline42" class="outline-3">
<h3 id="orgheadline42"><span class="section-number-3">2.2</span> å±‚æ¬¡ç»“æ„</h3>
<div class="outline-text-3" id="text-2-2">
<p>
å°†è¡¨ä½œä¸ºåºåˆ—çš„æ–¹å¼,å¯ä»¥è‡ªç„¶çš„æ¨å¹¿åˆ°è¡¨ç¤ºé‚£äº›å…ƒç´ æœ¬èº«ä¹Ÿæ˜¯åºåˆ—çš„åºåˆ—,ä¹Ÿå°±æ˜¯
<code>æ ‘</code>. 
</p>

<p>
<code>pair?</code> schemeæä¾›çš„åŸºæœ¬è¿‡ç¨‹, æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸ºåºå¯¹.
</p>
</div>

<div id="outline-container-orgheadline32" class="outline-4">
<h4 id="orgheadline32"><span class="section-number-4">2.2.1</span> ä¹ é¢˜2.24</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">

<pre class="src src-scheme">(list 1 (list 2 (list 3 4) 5))
;Value 89: (1 (2 (3 4) 5))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-c">     N
  /     \
1        N    
       / | \  
      2  N  5
        / \
       3   4
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline33" class="outline-4">
<h4 id="orgheadline33"><span class="section-number-4">2.2.2</span> ä¹ é¢˜2.25</h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">

<pre class="src src-scheme">(cdr (car (cdr (cdr mt1))))
(cdr (car (cdr (car (cdr (car (cdr (car (cdr (car (cdr mt2)))))))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline34" class="outline-4">
<h4 id="orgheadline34"><span class="section-number-4">2.2.3</span> ä¹ é¢˜2.26</h4>
<div class="outline-text-4" id="text-2-2-3">
<div class="org-src-container">

<pre class="src src-scheme">(append x y) ;Value 101: (1 2 3 4 5 6)
(cons x y)   ;Value 102: ((1 2 3) 4 5 6)
(list x y)   ;Value 103: ((1 2 3) (4 5 6))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline35" class="outline-4">
<h4 id="orgheadline35"><span class="section-number-4">2.2.4</span> ä¹ é¢˜2.27</h4>
<div class="outline-text-4" id="text-2-2-4">
<p>
å®ç°æ·±åº¦é€†åº.è¿™é“é¢˜ç›®çœŸæ˜¯æŠ˜è…¾æ­»å®å®äº†,ä¸€å¼€å§‹æœ‰ä¸ªå…³é”®ç‚¹æ²¡ææ˜ç™½,å¯¼è‡´çå†™äº†ä¸€é€š.
è¿™ä¸ªå…³é”®çš„åœ°æ–¹æ˜¯:å¦‚æœ(cdr list)æ˜¯ä¸€ä¸ªlist:
</p>
<pre class="example">
(list 1 (list 2 3))
</pre>
<p>
é‚£ä¹ˆå®ƒçš„é€†åºåˆ™æ˜¯
</p>
<pre class="example">
(append (cdr list) (car list))
</pre>
<p>
ä½†å¦‚æœ(car list)æ˜¯list,å°±ç¨å¾®æœ‰ç‚¹ç»•:
</p>
<pre class="example">
(list (list 1 2) 3)
</pre>
<p>
é‚£ä¹ˆå®ƒçš„é€†åºåˆ™æ˜¯
</p>
<pre class="example">
(append (cdr list) (list (car list)))
</pre>
<p>
åŸå› æ˜¯appendæˆ–è€…consä¼šæŠŠç¬¬äºŒä¸ªå‚æ•°å±•å¼€(å»æ‰ä¸€å±‚list), æ‰€ä»¥ä¸èƒ½ç›´æ¥ä½¿ç”¨(car x)å½“åšç¬¬äºŒä¸ªå‚æ•°.           
</p>

<p>
æ·±åº¦é€†åº:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (deep-revers tree)
  (cond
   ((null? tree) ())
   ((not (pair? tree)) (list tree))
   ((pair? (car tree))
      (append (deep-revers (cdr tree)) (list (deep-revers (car tree)))))
   (else
      (append (deep-revers (cdr tree)) (deep-revers (car tree))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36"><span class="section-number-4">2.2.5</span> ä¹ é¢˜2.28</h4>
<div class="outline-text-4" id="text-2-2-5">
<div class="org-src-container">

<pre class="src src-scheme">(define (fringe tree)
  (cond
   ((null? tree) ())
   ((not (pair? tree)) (list tree))
   (else
    (append (fringe (car tree))
            (fringe (cdr tree)))
        )))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline37" class="outline-4">
<h4 id="orgheadline37"><span class="section-number-4">2.2.6</span> ä¹ é¢˜2.29</h4>
<div class="outline-text-4" id="text-2-2-6">
<p>
-a) è·å–å·¦å³å­æ ‘,å³å­æ ‘ç¨ç¨æ³¨æ„:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (make-mobile left right)
  (list left right))
(define (make-branch length structure)
  (list length structure))
(define (left-branch mobile)
  (car mobile))
(define (right-branch mobile)
  (car (cdr mobile)))
</pre>
</div>

<ul class="org-ul">
<li>b) é€’å½’è®¡ç®—å­æ ‘é•¿åº¦(å·¦è¾¹å¶å­ä¹‹å’Œ)</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (branch-length branch)
  (cond
   ((null? branch) 0)
   ((not (pair? branch)) 0)
   (else
    (+ (car branch) (branch-length (right-branch branch))))))
</pre>
</div>

<p>
é€’å½’è®¡ç®—é‡é‡(å³å¶å­ä¹‹å’Œ)
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (branch-weight branch)
  (cond
   ((null? branch) 0)
   ((not (pair? branch)) branch)
   (else
    (branch-weight (right-branch branch)))))

(define (total-weight mobile)
  (+
   (branch-length (left-branch mobile))
   (branch-length (right-branch mobile))))
</pre>
</div>

<ul class="org-ul">
<li>c) è®¡ç®—æ˜¯å¦å¹³è¡¡,ç®€å•çš„ä¹˜æ³•.</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (is-balance mobile)
  (=
   (* (branch-weight (left-branch mobile)) (branch-length (left-branch mobile)))
   (* (branch-weight (left-branch mobile)) (branch-length (right-branch mobile)))))
</pre>
</div>

<ul class="org-ul">
<li>d) åªéœ€ä¿®æ”¹right-branchæ–¹æ³•</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (right-branch mobile)
  (cdr mobile))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline38" class="outline-4">
<h4 id="orgheadline38"><span class="section-number-4">2.2.7</span> å¯¹æ ‘çš„æ˜ å°„</h4>
<div class="outline-text-4" id="text-2-2-7">
<p>
æŠŠmapä¸é€’å½’ç»“åˆæ˜¯å¤„ç†æ ‘çš„ä¸€ç§å¼ºæœ‰åŠ›çš„æŠ½è±¡
</p>
</div>
</div>

<div id="outline-container-orgheadline39" class="outline-4">
<h4 id="orgheadline39"><span class="section-number-4">2.2.8</span> ä¹ é¢˜2.30</h4>
<div class="outline-text-4" id="text-2-2-8">
<p>
å®šä¹‰square-tree
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (map-tree tree f)
  (map (lambda (sub-tree)
         (if (pair? sub-tree)
             (map-tree sub-tree f)
             (f sub-tree)))
       tree))
(map-tree (list 1 2 (list 3 4)) square)
; value: (1 4 (9 16))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline40" class="outline-4">
<h4 id="orgheadline40"><span class="section-number-4">2.2.9</span> ä¹ é¢˜2.31</h4>
<div class="outline-text-4" id="text-2-2-9">
<p>
å°†2.30è¿›ä¸€æ­¥æŠ½è±¡. (è¿˜å¥½å®å®æœºæ™º,å·²ç»æŠ½è±¡å¥½äº†
</p>
<pre class="example">
(define (square-tree tree) (map-tree tree square))
</pre>
</div>
</div>

<div id="outline-container-orgheadline41" class="outline-4">
<h4 id="orgheadline41"><span class="section-number-4">2.2.10</span> ä¹ é¢˜2.32</h4>
<div class="outline-text-4" id="text-2-2-10">
<p>
è®¡ç®—å…¨æ’åˆ—(åˆå­¦åˆ°ä¸€ç§ç®—æ’åˆ—çš„æ–°å§¿åŠ¿
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (subsets s)
  (if (null? s)
      ()
      (let ((reset (subsets (cdr s))))
        (append reset
                (cons
                 (car s) 
                 (map (lambda (sub) (append (car s) sub)) reset))))))
</pre>
</div>
<p>
å€’æ•°ç¬¬3è¡Œç”¨consæ¯”è¾ƒå®‰å…¨. å¦‚æœ(map..)è®¡ç®—ç»“æœæ˜¯nil, åˆ™consä¼šæŠŠnilçœç•¥è€Œlistæˆ–appendä¼šæŠŠ()æ”¾è¿›ç»“æœä¸­.
ä½œè¿™é“é¢˜ä¸€å¼€å§‹appendç»“æœæ€»è·Ÿé¢„æƒ³çš„ä¸ä¸€æ ·,ç»æµ‹è¯•(append 1 2)çš„ç»“æœæ˜¯ä¸ªåºå¯¹(1 . 2)è€Œä¸æ˜¯list(1 2).
åæ¥ä¿®æ”¹äº†ä¹‹å‰çš„appendå®ç°æ‰æå®š:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (append list1 list2)
  (cond ((null? list1)
         list2)
        ((null? list2) ;; å¯¹list2=nilçš„æƒ…å†µè¿›è¡Œå¤„ç†
         list1)
        ((and (not (pair? list1)) (not (pair? list2)))
         (list list1 list2)) ;; ä¸¤ä¸ªéƒ½æ˜¯ç®€å•æ•°æ®æ—¶è¿”å›list,è€Œä¸æ˜¯åºå¯¹
        ((not (pair? list1))
         (cons list1 list2)) ;; list1æ˜¯ç®€å•æ•°æ®æ—¶ç›´æ¥cons,å¦åˆ™åé¢ä¼šå¯¹å®ƒcar/cdr
        (else
         (cons (car list1) (append (cdr list1) list2)))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline56" class="outline-3">
<h3 id="orgheadline56"><span class="section-number-3">2.3</span> åºåˆ—ä½œä¸ºä¸€ç§çº¦å®šçš„ç•Œé¢</h3>
<div class="outline-text-3" id="text-2-3">
<p>
è¿™é‡Œä»‹ç»ä¸æ•°æ®ç»“æ„æœ‰å…³çš„å¦ä¸€ç§å¼ºæœ‰åŠ›çš„è®¾è®¡åŸç† <b>ä½¿ç”¨çº¦å®šçš„ç•Œé¢</b>.
</p>

<p>
ä¸¾ä¸ªä¾‹å­,å®šä¹‰ä¸€ä¸ªè¿‡ç¨‹,æšä¸¾æ‰€æœ‰å¶å­,å¹¶è®¡ç®—å‡ºé‚£äº›å€¼ä¸ºå¥‡æ•°çš„å¶å­çš„å¹³æ–¹å’Œ.
è¿™ä¸ªè¿‡ç¨‹å¯ä»¥æŠ½è±¡æˆä¸€ä¸ªä¿¡å·æµ:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">enumerate:</td>
<td class="org-left">filter:</td>
<td class="org-left">map:</td>
<td class="org-left">accumulate:</td>
</tr>

<tr>
<td class="org-left">tree leaves</td>
<td class="org-left">odd?</td>
<td class="org-left">square</td>
<td class="org-left">+, 0</td>
</tr>
</tbody>
</table>
<p>
å¦‚æœæˆ‘ä»¬èƒ½è‰¯å¥½çš„ç»„ç»‡æˆç†Ÿ,ä½¿å¾— <code>ä¿¡å·æµç»“æ„</code> æ˜æ˜¾çš„è¡¨ç°åœ¨å†™å‡ºçš„è¿‡ç¨‹ä¸­,å°†ä¼šå¤§å¤§æé«˜ä»£ç çš„æ¸…æ™°æ€§.
</p>
</div>

<div id="outline-container-orgheadline43" class="outline-4">
<h4 id="orgheadline43"><span class="section-number-4">2.3.1</span> åºåˆ—æ“ä½œ</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
è¦æ¸…æ™°çš„ååº”ä¿¡å·æµç»“æ„, æœ€å…³é”®çš„ä¸€ç‚¹å°±æ˜¯å°†æ³¨æ„åŠ›é›†ä¸­åœ¨å¤„ç†è¿‡ç¨‹ä»ä¸€ä¸ªæ­¥éª¤æµå‘ä¸‹ä¸€ä¸ªæ­¥éª¤çš„"ä¿¡å·".
</p>

<ul class="org-ul">
<li><b>map</b> å¯ä»¥åˆ©ç”¨2.2.1èŠ‚çš„mapæ¥è¡¨ç°ä¿¡å·æµå›¾ä¸­çš„æ˜ å°„æ­¥éª¤.</li>
</ul>
<pre class="example">
(map square (list 1 2 3 4 5)
</pre>

<ul class="org-ul">
<li><b>filter</b></li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (filter predicate sequence)
  (cond ((null? sequence) ())
        ((predicate (car sequence))
         (cons (car sequence)
               (filter predicate (cdr sequence))))
        (else (filter predicate (cdr sequence)))))
</pre>
</div>

<ul class="org-ul">
<li><b>accumulate</b> å®šä¹‰è®¡ç®—æ­¥éª¤</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (accumulate op initial sequence)
  (if (null? sequence)
      initial
      (op (car sequence)
          (accumulate op initial (cdr sequence)))))
</pre>
</div>

<ul class="org-ul">
<li><b>enumerate</b> å®šä¹‰æ ‘çš„æšä¸¾</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (enumerate-tree tree)
  (cond ((null? tree) ())
        ((not (pair? tree)) (list tree))
        (else (append (enumerate-tree (car tree))
                      (enumerate-tree (cdr tree))))))
</pre>
</div>

<p>
åˆ©ç”¨è¿™äº›æ­¥éª¤æ¥å®šä¹‰å‰é¢çš„ä¾‹å­:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (sum-odd-squares tree)
  (accumulate +
              0
              (map square
                   (filter odd?
                           (enumerate-tree tree)))))
</pre>
</div>

<p>
è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªç”±è®¸å¤šç‹¬ç«‹ç¨‹åºç‰‡æ®µç»„åˆæ„æˆçš„è®¾è®¡.
</p>
</div>
</div>

<div id="outline-container-orgheadline44" class="outline-4">
<h4 id="orgheadline44"><span class="section-number-4">2.3.2</span> ä¹ é¢˜2.33</h4>
<div class="outline-text-4" id="text-2-3-2">
<div class="org-src-container">

<pre class="src src-scheme">(define (map p sequence)
  (accumulate (lambda (x y) (cons (p x) y)) () sequence))
(define (append seq1 seq2)
  (accumulate cons seq2 seq1))
(define (length sequence)
  (accumulate (lambda (x y) (+ y 1)) 0 sequence))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline45" class="outline-4">
<h4 id="orgheadline45"><span class="section-number-4">2.3.3</span> ä¹ é¢˜2.34</h4>
<div class="outline-text-4" id="text-2-3-3">
<div class="org-src-container">

<pre class="src src-scheme">(define (horner-eval x sequence)
  (accumulate (lambda (this-coeff higher-terms) (+ this-coeff (* x higher-terms)))
              0
              sequence))

(horner-eval 2 (list 1 3 0 5 0 1));Value: 79
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline46" class="outline-4">
<h4 id="orgheadline46"><span class="section-number-4">2.3.4</span> ä¹ é¢˜2.35</h4>
<div class="outline-text-4" id="text-2-3-4">
<div class="org-src-container">

<pre class="src src-scheme">(define (count-leaves t)
  (accumulate (lambda (x y) (+ x y))
              0
              (map (lambda (x) (length (enumerate-tree x))) t)))
(count-leaves (list 1 2 (list 2 3 4))) ; Value:5
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline47" class="outline-4">
<h4 id="orgheadline47"><span class="section-number-4">2.3.5</span> ä¹ é¢˜2.36</h4>
<div class="outline-text-4" id="text-2-3-5">
<div class="org-src-container">

<pre class="src src-scheme">(define (accumulate-n op init seqs)
  (if (null? (car seqs))
      ()
      (cons (accumulate op init (map car seqs))
            (accumulate-n op init (map cdr seqs)))))

(accumulate-n + 0 (list (list 1 2 3) (list 1 2 3)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline48" class="outline-4">
<h4 id="orgheadline48"><span class="section-number-4">2.3.6</span> ä¹ é¢˜2.37</h4>
<div class="outline-text-4" id="text-2-3-6">
<p>
å®ç°çŸ©é˜µç‚¹çš„å„ç§åŸºæœ¬è¿ç®—
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (dot-product v w)
  (accumulate + 0 (accumulate-n * 1 (list v w))))

(define (matrix-*-vector m v)
  (map
   (lambda (x) (dot-product x v))
   m))
(define (transpose m)
  (accumulate-n (lambda (x y) (cons x y)) () m))
(define (matrix-*-matrix m n)
  (let ((cols (transpose n)))
    (map (lambda (col) (matrix-*-vector m col)) cols)))
</pre>
</div>
<p>
æµ‹è¯•:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define mv (list 1 2 3))
(define mm (list (list 1 2 3) (list 4 5 6) (list 4 5 6)))
(dot-product mv mv);Value: 14
(matrix-*-vector mm mv);Value 269: (14 32 32)
(transpose mm);Value 266: ((1 4) (2 5) (3 6))
(matrix-*-matrix mm mm);Value 268: ((21 48 48) (27 63 63) (33 78 78))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline49" class="outline-4">
<h4 id="orgheadline49"><span class="section-number-4">2.3.7</span> ä¹ é¢˜2.38</h4>
<div class="outline-text-4" id="text-2-3-7">
<div class="org-src-container">

<pre class="src src-scheme">(fold-right / 1 (list 1 2 3)) ;;Value: 3/2
(fold-left / 1 (list 1 2 3))  ;;Value: 1/6
(fold-right list () (list 1 2 3));Value 270: (1 (2 (3 ())))
(fold-left list () (list 1 2 3));Value 271: (((() 1) 2) 3)
</pre>
</div>
<p>
ä¿è¯fold-rightå’Œfold-leftéƒ½ç›¸åŒçš„æ¡ä»¶æ˜¯,è¿ç®—æ»¡è¶³äº¤æ¢å¾‹.
</p>
</div>
</div>

<div id="outline-container-orgheadline50" class="outline-4">
<h4 id="orgheadline50"><span class="section-number-4">2.3.8</span> ä¹ é¢˜2.39</h4>
<div class="outline-text-4" id="text-2-3-8">
<div class="org-src-container">

<pre class="src src-scheme">(define (reverse sequence)
  (fold-right (lambda (x y) (append y (list x))) () sequence))
  (define (reverse sequence)
  (fold-left (lambda (x y) (cons y x)) ()  sequence))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline51" class="outline-4">
<h4 id="orgheadline51"><span class="section-number-4">2.3.9</span> åµŒå¥—æ˜ å°„</h4>
<div class="outline-text-4" id="text-2-3-9">
<p>
æˆ‘ä»¬å¯ä»¥æ‰©å……åºåˆ—æ³›å‹,å°†è®¸å¤šé€šå¸¸ç”¨åµŒå¥—å¾ªç¯è¡¨è¿°çš„è®¡ç®—åŒ…å«è¿›æ¥,  æ¯”å¦‚ç”¨appendç´¯ç§¯mapçš„è®¡ç®—ç»“æœ:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (flatmap proc seq)
  (accumulate append (list) (map proc seq)))
</pre>
</div>

<ul class="org-ul">
<li>ep1: æ‰¾å‡ºnä»¥ä¸‹æ‰€æœ‰å’Œä¸ºç´ æ•°çš„åºå¯¹:</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (make-pair-sum pair)
  (list (car pair) (cadr pair) (+ (car pair) (cadr pair))))
(define (prime-sum-pairs n)
  (map make-pair-sum
       (filter prime-sum?
               (flatmap
                (lambda (i)
                  (map (lambda (j) (list i j))
                       (enumerate-interval 1 (- i 1))))
                (enumerate-interval 1 n)
                ))))
</pre>
</div>

<ul class="org-ul">
<li>ep2: å…¨æ’åˆ—</li>
</ul>
<div class="org-src-container">

<pre class="src src-scheme">(define (permutations s)
  (if (null? s)
      (list (list))
      (flatmap (lambda (x)
                 (map (lambda (p) (cons x p))
                      (permutations (remove x s))))
               s)))
(define (remove item sequence)
  (filter (lambda (x) (not (= x item)))
          sequence))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline52" class="outline-4">
<h4 id="orgheadline52"><span class="section-number-4">2.3.10</span> ä¹ é¢˜2.40</h4>
<div class="outline-text-4" id="text-2-3-10">
<div class="org-src-container">

<pre class="src src-scheme">(define (unique-pairs low high)
  (flatmap (lambda (x) 
         (map (lambda (y) (list x y))
              (enumerate-interval (+ x 1) high)))
           (enumerate-interval low high)))
(unique-pairs 1 3);;=&gt; ((1 2) (1 3) (2 3))
(define (prime-sum-pair n)
  (filter prime-sum? (unique-pairs 1 n)))
(prime-sum-pair 3)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline53" class="outline-4">
<h4 id="orgheadline53"><span class="section-number-4">2.3.11</span> ä¹ é¢˜2.41</h4>
<div class="outline-text-4" id="text-2-3-11">
<div class="org-src-container">

<pre class="src src-scheme">(define (unique-triples low high)
  (flatmap (lambda (x)
             (map (lambda (i) (append x i)) (unique-pairs (+ x 1) high)))
           (enumerate-interval low high)))
(unique-triples 1 4)
(define (prime-sum-triple? list)
  (prime? (+ (car list) (cadr list) (cadr (cdr list)))))
(define (prime-sum-triples n)
  (filter prime-sum-triple? (unique-triples 1 n)))
(prime-sum-triples 4) ;;=&gt; ((1 2 4) (2 3 4))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline54" class="outline-4">
<h4 id="orgheadline54"><span class="section-number-4">2.3.12</span> ä¹ é¢˜2.42</h4>
<div class="outline-text-4" id="text-2-3-12">
<p>
ç»å…¸çš„8çš‡åé—®é¢˜,å›æº¯æ³•.
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (queens board-size)
  (define (queen-cols k)
    (if (= 0 k)
        (list empty-board)
        (filter
         (lambda (positions) (safe? k positions))
         (flatmap
          (lambda (rest-of-queens)
            (map (lambda (new-row)
                   (adjoin-position new-row k rest-of-queens))
                 (enumerate-interval 1 board-size)))
          (queen-cols (- k 1))))))
        (queen-cols board-size))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme">(define empty-board (list))
</pre>
</div>
<p>
ç©ºæ£‹ç›˜å°±æ˜¯nil
</p>
<div class="org-src-container">

<pre class="src src-scheme">(define (adjoin-position new-row k rest-of-queens)
  (cons new-row rest-of-queens))
</pre>
</div>
<p>
kå…¶å®æ²¡æœ‰ç”¨åˆ°,å¤§æ¦‚ç•™å‡ºè¿™ä¸ªå‚æ•°æ˜¯ä¸ºäº†ä¾¿äºæ›¿æ¢æˆå…¶å®ƒç®—æ³•.
</p>

<div class="org-src-container">

<pre class="src src-scheme">(define (safe? k positions)
  (define (safe-iter x rest distance)
    (cond ((null? rest) #t)
          ((= x (car rest)) #f)
          ((= distance (abs (- x (car rest)))) #f)
          (else (safe-iter x (cdr rest) (+ distance 1)))))
  (safe-iter (car positions) (cdr positions) 1))
(queens 4);;Value 458: ((3 1 4 2) (2 4 1 3))
</pre>
</div>
<p>
éå†rest, æ£€æŸ¥ç›¸åŒè¡Œä¸­æ˜¯å¦å­˜åœ¨çš‡å, ä»¥åŠå¯¹è§’çº¿æ˜¯å¦å­˜åœ¨çš‡å.
</p>
</div>
</div>

<div id="outline-container-orgheadline55" class="outline-4">
<h4 id="orgheadline55"><span class="section-number-4">2.3.13</span> ä¹ é¢˜2.43</h4>
<div class="outline-text-4" id="text-2-3-13">
<p>
2.42è§£æ³•åªéœ€è¦é€’å½’çš„è®¡ç®—ä¸€équeen-cols,è€ŒReasoneréœ€è¦é€’å½’Té,å¯¼è‡´æœ€åè§£é¢˜äº‹ä»¶å˜æˆäº†
 \(T*board-size\)
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline57" class="outline-3">
<h3 id="orgheadline57"><span class="section-number-3">2.4</span> å®ä¾‹:ä¸€ä¸ªå›¾å½¢è¯­è¨€</h3>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/04/05/sicp-ch2-æ„é€ æ•°æ®æŠ½è±¡/</guid>
    </item>
    <item>
      <title>GPU Points</title>
      <link>http://tsubasawp.github.io/blog/2016/02/02/gpu-overview</link>
      <description><![CDATA[ä¸€äº›å…³äºGPUçš„çŸ¥è¯†ç‚¹,å†…å®¹å¤§éƒ¨åˆ†æºè‡ªRTR.]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/02/02/gpu-overview</guid>
    </item>
    <item>
      <title>[é˜…è®°] è§£å¿§æ‚è´§é“º - æ¥è‡ªä¸Šå¤©çš„ç¥ˆç¥·</title>
      <link>http://tsubasawp.github.io/blog/2016/01/30/[é˜…è®°]-è§£å¿§æ‚è´§é“º---æ¥è‡ªä¸Šå¤©çš„ç¥ˆç¥·/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>[é˜…è®°] è§£å¿§æ‚è´§é“º - æ¥è‡ªä¸Šå¤©çš„ç¥ˆç¥·</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. å‰è¨€</a></li>
<li><a href="#orgheadline16">2. æ—¶é—´çº¿</a>
<ul>
<li><a href="#orgheadline2">2.1. - 1968</a></li>
<li><a href="#orgheadline3">2.2. - 1969</a></li>
<li><a href="#orgheadline4">2.3. - 1970</a></li>
<li><a href="#orgheadline5">2.4. - 1978</a></li>
<li><a href="#orgheadline9">2.5. - 1979</a></li>
<li><a href="#orgheadline14">2.6. - 1980</a></li>
<li><a href="#orgheadline15">2.7. - 2012</a></li>
</ul>
</li>
<li><a href="#orgheadline21">3. åæ€</a></li>
<li><a href="#orgheadline22">4. æœ€å</a></li>
</ul>
</div>
</div>
<p>
[å†…å«å¾®é‡å‰§é€]
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> å‰è¨€</h2>
<div class="outline-text-2" id="text-1">
<p>
è§£å¿§æ‚è´§é“ºæœ‰ç‚¹åƒå¾®å°è¯´é›†, ç”±å‡ ä¸ªæ²»æ„ˆç³»å°æ•…äº‹ä¸²è”è€Œæˆ, è·¨è¶Šæ—¶é—´å’Œç©ºé—´, è¢«å¤§å”ç”¨è„‘æ´è”ç³»åœ¨äº†ä¸€èµ·.
</p>

<p>
è¿™æ˜¯æˆ‘è¯»åˆ°çš„ä¸œé‡åœ­å¾çš„ç¬¬4éƒ¨ä½œå“, å¯èƒ½å› ä¸ºç¬¬ä¸€éƒ¨&lt;å«Œç–‘äººxçš„çŒ®èº«&gt;è®©äººæ„Ÿåˆ°å¤ªéœ‡(meng)æ’¼(bi), æ‰€ä»¥åæ¥çœ‹çš„å‡ æœ¬å¸¦æ¥çš„æƒŠå–œæ„Ÿæ²¡æœ‰é‚£ä¹ˆå¼ºçƒˆ. 
è¿™ä¸æ˜¯ä¸€éƒ¨æ¨ç†å°è¯´, ç„¶è€Œä¹¦ä¸­çš„è§’è§’è½è½éƒ½å¸ƒæ»¡å¯ç–‘çš„çº¿ç´¢, è®©äººä¸å¾—ä¸åœ¨æ„. å½“è„‘ä¸­å……æ»¡æ··ä¹±çš„çº¿ç´¢, æ¯«æ— å¤´ç»ªæ—¶, æˆ‘ä¸å¹¸çš„è¿æ¥äº†çœ‹èµ·æ¥æœ‰ç‚¹å“²å­¦æ„å‘³çš„ç»“å±€.
å½“æ—¶ååˆ†å¤±è½, éšåå°±å…³æ‰æ‰‹æœºç¡è§‰äº†. ä½†é‚£äº›å¥‡æ€ªçš„çº¿ç´¢ä¼¼ä¹ä¸ç”˜å¿ƒå°±è¿™æ ·è¢«é—å¿˜æ‰, æ€»æ˜¯åœ¨è„‘ä¸­ç›˜æ—‹, æ—©ä¸Šé†’æ¥åä¾æ—§æ»¡è„‘è¿™ä¸ªæ•…äº‹.
äºæ˜¯æˆ‘åœ¨å¿ƒé‡ŒæŒ‰ç…§å°è¯´é‡Œçš„æ—¶é—´çº¿ç²—ç•¥çš„æ¢³ç†, è¶Šæƒ³è¶Šä¹±, è¿™ä¸ªæ•…äº‹é‡Œä¼¼ä¹å……æ»¡äº†çŸ›ç›¾, åˆæ²¡æœ‰æ˜ç¡®çš„è°œé¢˜. åœ­å¾å¤§å”ä½ æ˜¯è¦é—¹å“ªæ ·å•Š!
</p>

<p>
æ€å‰æƒ³å,æ„Ÿè§‰é¦–å…ˆéœ€è¦è§£å†³çš„é—®é¢˜æœ‰2ä¸ª:
</p>
<ul class="org-ul">
<li>è¿™ä¸ªå¹³è¡Œç©ºé—´çš„è®¾å®šåˆ°åº•æ˜¯æ€æ ·çš„? ä¸ºä»€ä¹ˆåœ¨åŒä¸€å¤œä¸­, è¿‡å»ä¸ç°åœ¨çš„æ—¶é—´è·¨åº¦ä¸åŒ?</li>
<li>ä¸ºä»€ä¹ˆæµªçŸ¢å¯ä»¥é¢„çŸ¥è‡ªå·±çš„ç¥­æ—¥?</li>
</ul>

<p>
ç”±äºæ™ºå•†ä½, åªå¥½æ±‚åŠ©äºçº¸ç¬”. æˆ‘åˆä»å¤´ç¿»é˜…å°è¯´æ¢³ç†äº†ä¸€ä¸‹æ—¶é—´çº¿, å¸Œæœ›èƒ½å¾—åˆ°ä¸€äº›å¯ç¤º:
</p>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-2">
<h2 id="orgheadline16"><span class="section-number-2">2</span> æ—¶é—´çº¿</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">2.1</span> - 1968</h3>
<div class="outline-text-3" id="text-2-1">
<p>
è´µä¹‹æ¯äº²å»ä¸–
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">2.2</span> - 1969</h3>
<div class="outline-text-3" id="text-2-2">
<p>
çš†æœˆæ™“å­å»ä¸–
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">2.3</span> - 1970</h3>
<div class="outline-text-3" id="text-2-3">
<p>
å­¤ç‹¬çš„æµªçŸ¢å¼€å§‹è§£ç­”å­©å­ä»¬çš„ç–‘é—®,å¿ƒæƒ…å¼€å§‹å˜å¥½
</p>
<ul class="org-ul">
<li>å›ç­”äº†è¯¢é—®æ€æ ·è€ƒ100åˆ†çš„å­©å­, ç™¾åˆ†å°æ¯›å¤´</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">2.4</span> - 1978</h3>
<div class="outline-text-3" id="text-2-4">
<p>
è´µä¹‹å‘ç°æ‰‹è¡¨æ—¶é—´å¼‚å¸¸, æ‚è´§é“ºå†…æ—¶é—´æµé€å˜å¿«
</p>

<p>
æµªçŸ¢å›ç­”äº†ç»¿æ²³çš„å’¨è¯¢
</p>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">2.5</span> - 1979</h3>
<div class="outline-text-3" id="text-2-5">
</div><ol class="org-ol"><li><a id="orgheadline6"></a>1979.6<br  /><div class="outline-text-5" id="text-2-5-0-1">
<p>
æµªçŸ¢çœ‹åˆ°æŠ¥é“:ç»¿æ²³åœ¨å¼€è½¦æ˜¯å› è´«è¡€æ˜è¿·å¹¶å æ²³, æ­»å‰æ•‘äº†å‰¯é©¾ä¸Š1å²å·¦å³çš„å¥³å„¿
</p>

<p>
è´µä¹‹å¬è¯´çˆ¶äº²å…³åº—å›å®¶çœ‹æœ›æ—¶,é—¨é”ç€
</p>

<p>
æ‚è´§é“ºå…³é—­
</p>

<p>
æµªçŸ¢å¼€å§‹æ¢¦åˆ°è‡ªå·±çš„çµé­‚èƒ½çœ‹åˆ°å‡ åå¹´åæ‚è´§åº—ä¸­å‘ç”Ÿçš„äº‹
</p>
</div></li>

<li><a id="orgheadline7"></a>1979.9.13<br  /><div class="outline-text-5" id="text-2-5-0-2">
<p>
æµªçŸ¢å†™äº†é—ä¹¦, æ˜ç¡®çŸ¥é“è‡ªå·±ä¼šåœ¨9.13å·è¿™å¤©å»ä¸–
</p>

<p>
æµªçŸ¢æ¬å›æ‚è´§åº—è¿‡äº†ä¸€å¤œ, å¹¶æ”¶åˆ°äº†æ¥è‡ªæœªæ¥çš„æ¥ä¿¡
</p>
<ul class="org-ul">
<li>ç™¾åˆ†å°æ¯›å¤´</li>
<li>å·è¾¹ç»¿çš„å¥³å„¿, è§è¯å­¤å„¿é™¢ç«ç¾, åæˆä¸ºæ­Œæ‰‹å¥³çš„ç»æµäºº</li>
<li>ä¿ç½—çš„æ„Ÿè°¢ä¿¡</li>
<li>ä¸€å¼ ç™½çº¸</li>
</ul>
</div></li>

<li><a id="orgheadline8"></a>1979.11<br  /><div class="outline-text-5" id="text-2-5-0-3">
<p>
æœˆå…”æŠ•å‡ºäº†å’¨è¯¢ä¿¡, 2012å¹´çš„å°å·ä¸‰äººç»„æ”¶åˆ°å¹¶å›äº†ä¿¡
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">2.6</span> - 1980</h3>
<div class="outline-text-3" id="text-2-6">
</div><ol class="org-ol"><li><a id="orgheadline10"></a>1980.7<br  /><div class="outline-text-5" id="text-2-6-0-1">
<p>
é±¼åº—éŸ³ä¹äººå†™ä¿¡å’¨è¯¢, ä¸‰äººç»„å›å¤
</p>
</div></li>

<li><a id="orgheadline11"></a>1980.9.13<br  /><div class="outline-text-5" id="text-2-6-0-2">
<p>
æµªçŸ¢å»ä¸–
</p>
</div></li>

<li><a id="orgheadline12"></a>1980.10<br  /><div class="outline-text-5" id="text-2-6-0-3">
<p>
è¿·é€”çš„å°ç‹—(æ™´ç¾)å†™ä¿¡å’¨è¯¢, ä¸‰äººç»„å›å¤
</p>
</div></li>

<li><a id="orgheadline13"></a>1988.12.24<br  /><div class="outline-text-5" id="text-2-6-0-4">
<p>
ä¸¸å…‰å›­å‘ç”Ÿç«ç¾, é±¼åº—éŸ³ä¹äººä¸ºäº†æ•‘äººä¸§å‘½. 
</p>

<p>
è¿™åœºç«ç¾å½±å“åˆ°æœ¬ä¹¦ä¸­å‡ ä¹æ‰€æœ‰äººç‰©.
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15"><span class="section-number-3">2.7</span> - 2012</h3>
<div class="outline-text-3" id="text-2-7">
<p>
åœ¨çº¦å®šçš„9æœˆ13æ—¥, å°å·ä¸‰äººç»„åœ¨0ç‚¹å·¦å³æŠ¢åŠ«äº†æ™´ç¾, æŠ¢åˆ°äº†å¥¹è£…æœ‰æ„Ÿè°¢ä¿¡çš„æ‰‹åŒ…. 2:30åˆ†åˆ°è¾¾æ‚è´§åº—, åœ¨6:00ç¦»å¼€, æœŸé—´ä¸ºä¸‰ä¸ªäººè§£ç­”è¿‡çƒ¦æ¼. 
</p>

<p>
ä¸‰äººç»„åœ¨ç¦»å¼€ä¹‹å‰, æŠŠä¸€å¼ ç™½çº¸æŠ•å…¥äº†é—¨å£ä¿¡ç®±ä¸­, å¹¶å¾—åˆ°æ¥è‡ªè¿‡å»çš„æµªçŸ¢çš„å›å¤.
</p>

<p>
ä¸‰äººç»„åœ¨å·æ¥çš„æ‰‹åŒ…ä¸­ å‘ç°äº†æ™´ç¾å†™ç»™ä»–ä»¬çš„æ„Ÿè°¢ä¿¡
</p>
</div>
</div>
</div>


<div id="outline-container-orgheadline21" class="outline-2">
<h2 id="orgheadline21"><span class="section-number-2">3</span> åæ€</h2>
<div class="outline-text-2" id="text-3">
</div><ol class="org-ol"><li><a id="orgheadline17"></a>ç¬¬ä¸€ä¸ªé—®é¢˜: æ—¶é—´çº¿<br  /><div class="outline-text-5" id="text-3-0-0-1">
<p>
ä»”ç»†æ¢³ç†å, ä¸å¾—ä¸æ‰¿è®¤, æ‚è´§é“ºä¸­å­˜åœ¨ç€ä¸¤æ¡ä¸åŒçš„æ—¶é—´çº¿, è€Œè¿™ä¸¤æ¡çº¿çš„å…³ç³»çœ‹èµ·æ¥æœ‰ç‚¹ç‰µå¼º&#x2026;
</p>

<p>
ç¬¬ä¸€æ¡: 1979å¹´9æœˆ13æ—¥0ç‚¹-6ç‚¹, æµªçŸ¢çˆ·çˆ·å¯ä»¥æ”¶åˆ°æ¥è‡ª2012å¹´9æœˆ13æ—¥0ç‚¹-6ç‚¹é—´çš„æ¥ä¿¡, è¿™ä¹Ÿèƒ½è§£é‡Šä¸ºä½•ä¸‰äººç»„æœ€åå¯„å‡ºçš„ç™½çº¸å¯ä»¥è¢«æ”¶åˆ°.
</p>

<p>
ç¬¬äºŒæ¡: 2012å¹´9æœˆ13æ—¥0ç‚¹-6ç‚¹, ä¸‰äººç»„å¯ä»¥ä¸1979å¹´9æœˆ-1980å¹´10æœˆè¿™ä¸€å¹´å·¦å³çš„æ—¶é—´è”é€š.
</p>
</div></li>

<li><a id="orgheadline18"></a>ç¬¬äºŒä¸ªé—®é¢˜: ç¥­æ—¥<br  /><div class="outline-text-5" id="text-3-0-0-2">
<p>
åå¤çœ‹å°è¯´ä¸æ—¶é—´è¡¨, åªèƒ½æ‰¾åˆ°è¿™æ ·çš„è§£é‡Š: æµªçŸ¢åœ¨å¾—çŸ¥ç»¿å·æ­»å, å¹¶ç”Ÿç—…ä½é™¢çš„æœŸé—´, åå¤åšç€é¢„çŸ¥æ¢¦. ä»–åœ¨æ¢¦ä¸­å¾—çŸ¥33å¹´åæ‚è´§é“ºä¼šè¿é€šç°åœ¨ä¸è¿‡å», å¹¶ä»¥ä¸ºè‡ªå·±ä¼šåœ¨1979å¹´9æœˆ13å·è¿™å¤©å»ä¸–, æ‰€ä»¥ç•™äº†ä¿¡ç»™è´µä¹‹,å¹¶è¦æ±‚è¿™ä¸€å¤©æ™šä¸Šå»æ‚è´§åº—ä¸­æ”¶ä¿¡.
</p>

<p>
[è¿™ä¸ªè§£é‡Šæˆ‘å¹¶ä¸æ»¡æ„, ä¸ºä»€ä¹ˆæµªçŸ¢çˆ·çˆ·å¯å‡†ç¡®çš„åœ¨1å¹´å(1980)çš„è¿™ä¸€å¤©å»ä¸–? ä¸ºä»€ä¹ˆå…¬å‘Šä¸Šå†™33å‘¨å¹´ç¥­æ—¥, è€Œä¸æ˜¯å®é™…çš„22å‘¨å¹´?]
</p>
</div></li>

<li><a id="orgheadline19"></a>æ²¡æœ‰ç”¨åˆ°çš„çº¿ç´¢<br  /><div class="outline-text-5" id="text-3-0-0-3">
<ul class="org-ul">
<li>çº¢è±†åŒ…: åœ¨1978å¹´è´µä¹‹çš„å®¶ä¸­å‡ºç°è¿‡ä¸€æ¬¡,æµªçŸ¢æŠŠå®ƒæ”¾åœ¨äº†ä½›é¾›ä¸Š. 1979å¹´æµªçŸ¢ç—…ä¸­å‡ºç°è¿‡ä¸€æ¬¡,æµªçŸ¢æ²¡æœ‰åœ¨æ„.</li>

<li>è´µä¹‹çš„æ‰‹è¡¨: 1978å¹´å·¦å³è¿™ä¸ªæ‰‹è¡¨å¼€å§‹å‡ºç°å˜æ…¢çš„ç°è±¡, æœ¬ä»¥ä¸ºä»æ­¤æ—¶å¼€å§‹, è´µä¹‹çš„å®¶ä¸­(æ—¢æ‚è´§é“º)æ—¶é—´æµé€å¼€å§‹å˜å¾—å¼‚å¸¸. ä½†æœ€åè´µä¹‹çš„å­™å­æ¥æ‰‹è¿™å—è¡¨æ—¶, è¡¨ä¾æ—§æ¯å°æ—¶æ…¢5åˆ†é’Ÿ, æ‰€ä»¥è¿™ä¸ªçº¿ç´¢å¤§æ¦‚æ˜¯æ•…å¸ƒç–‘é˜µå§.</li>
</ul>
</div></li>

<li><a id="orgheadline20"></a>å…³äºæ™“å­<br  /><div class="outline-text-5" id="text-3-0-0-4">
<p>
æ™“å­ä¸´ç»ˆå‰è¯´, "æˆ‘ä¼šåœ¨å¤©ä¸Šä¸ºå¤§å®¶çš„å¹¸ç¦ç¥ˆç¥·".
</p>

<p>
è¿™é‡Œå‡ ä¹æ‰€æœ‰äººç‰©éƒ½ä¸å­¤å„¿é™¢äº§ç”Ÿè¿‡è”ç³», ä»–ä»¬æœ€åéƒ½è¿‡å¾—è¿˜ä¸é”™(é™¤äº†æ­Œæ‰‹), ä¸çŸ¥æ‰­æ›²æ—¶ç©ºçš„åŠ›é‡æ˜¯ä¸æ˜¯æ™“å­çš„æ°ä½œ.
</p>

<p>
äºæ˜¯æœ«ç« æ ‡é¢˜æ€»ç»“äº†è¿™æ•´æœ¬ä¹¦: æ¥è‡ªä¸Šå¤©çš„ç¥ˆç¥·
</p>
</div></li></ol>
</div>


<div id="outline-container-orgheadline22" class="outline-2">
<h2 id="orgheadline22"><span class="section-number-2">4</span> æœ€å</h2>
<div class="outline-text-2" id="text-4">
<p>
è¿™æœ¬å°è¯´çš„ä¸»è¦ç›®çš„æ˜¯è¯´æ•…äº‹, å¹¶ä¸æ˜¯æ¨ç†. å‰é¢ç¢ç¢å¿µäº†ä¸€å¤§å¨æ²¡ç”¨çš„æ¨å¯¼, ä¹Ÿè¯¥è¯´è¯´æ•…äº‹æœ¬èº«äº†. 
5ä¸ªå°æ•…äº‹å½¢æ€å„å¼‚, ä¸»äººå…¬ä»¬å„è‡ªèƒŒè´Ÿç€æ— å¥ˆçš„å‘½è¿, æœ€åéƒ½ç›´æ¥æˆ–é—´æ¥çš„é€šè¿‡æ‚è´§é“ºå¾—åˆ°å¯ç¤º, èµ°å‘äº†å„è‡ªçš„äººç”Ÿä¹‹è·¯. 
</p>

<p>
æˆ‘åœ¨å¾®ä¿¡é˜…è¯»è¯»åˆ°çš„è¿™æœ¬ä¹¦(æ²¡åŠæ³•æœ€è¿‘å®ƒå¤ªç«äº†, å¤©å¤©åœ¨çœ¼å‰æ™ƒ), è¿™ä¸ªappå¯ä»¥åœ¨ä¹¦ä¸­çœ‹åˆ°å…¶ä»–äººå¯¹å­—å¥çš„çŸ­è¯„. æ¯ä¸ªæ•…äº‹ä¸­éƒ½æœ‰äººçƒ­æƒ…çš„è¯„è®º, å¤§å®¶éƒ½èƒ½æ‰¾åˆ°å„è‡ªçš„å…±é¸£ç‚¹.  
æˆ‘è‡ªå·±åˆ™æ˜¯åœ¨æ­Œæ‰‹å¦¹å­åœ¨èˆå°ä¸Šå”±èµ·&lt;é‡ç”Ÿ&gt;æ—¶æ³ªè¹¦äº†, å®Œå…¨æ²‰æµ¸åœ¨äº†é±¼åº—æ­Œæ‰‹çš„æŒ£æ‰ä¸­, è¿™å°±æ˜¯å¤§éƒ¨åˆ†æœ‰æ¢¦æƒ³æ²¡å¤©èµ‹çš„æ™®é€šäººçš„å‘½è¿å§.
</p>

<p>
å¥½çš„æ–‡å­¦ä½œå“å¯ä»¥è®©å„ç§äººå¾—åˆ°å¯å‘, è¿™æœ¬å°è¯´åšåˆ°äº† ( è™½ç„¶æ›´å–œæ¬¢ä½œè€…çš„æ¨ç† :p
</p>



<p>
æœ€å, ä½†æ„¿è¿™äº›èƒ¡ä¹±çŒœæµ‹æ²¡æœ‰è¿‡åˆ†æ­ªæ›²åœ­å¾å¤§å”çš„æœ¬æ„ (ï¿£.ï¿£) 
</p>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/01/30/[é˜…è®°]-è§£å¿§æ‚è´§é“º---æ¥è‡ªä¸Šå¤©çš„ç¥ˆç¥·/</guid>
    </item>
    <item>
      <title>princples and practice using c++ ch19 reading note</title>
      <link>http://tsubasawp.github.io/blog/2016/02/25/princples-and-practice-using-c++-ch19-reading-note/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>princples and practice using c++ ch19 reading note</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. C++ 14 features</a></li>
<li><a href="#orgheadline2">2. Changing size</a></li>
<li><a href="#orgheadline10">3. Templates</a>
<ul>
<li><a href="#orgheadline3">3.1. Types as templates parameters</a></li>
<li><a href="#orgheadline4">3.2. Generic programming</a></li>
<li><a href="#orgheadline5">3.3. Concepts</a></li>
<li><a href="#orgheadline6">3.4. Containers and inheritance</a></li>
<li><a href="#orgheadline7">3.5. Integers as template parameters</a></li>
<li><a href="#orgheadline8">3.6. Template argument deduction</a></li>
<li><a href="#orgheadline9">3.7. Generalizing vector</a></li>
</ul>
</li>
<li><a href="#orgheadline11">4. Range checking and exceptions</a></li>
<li><a href="#orgheadline18">5. Resource and exceptions</a>
<ul>
<li><a href="#orgheadline12">5.1. Potential resource management problems</a></li>
<li><a href="#orgheadline13">5.2. Resource acquisition is initialization</a></li>
<li><a href="#orgheadline14">5.3. Guarantee</a></li>
<li><a href="#orgheadline15">5.4. unique<sub>ptr</sub></a></li>
<li><a href="#orgheadline16">5.5. Return by moving</a></li>
<li><a href="#orgheadline17">5.6. RAII for vector</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> C++ 14 features</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Mechanism for checking template interface.</li>
</ul>
</div>
</div>


<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2"><span class="section-number-2">2</span> Changing size</h2>
<div class="outline-text-2" id="text-2">
<p>
ä¸Šä¸€ç« çš„vectorä»…ä½¿ç”¨å›ºå®šçš„æ•°ç»„æ¥å®ç°, éš¾ä»¥æ”¯æŒ'push<sub>back</sub>()', 'resize()'ç­‰åŠŸèƒ½. æœ¬èŠ‚ä»‹ç»äº†å¦‚ä½•é€šè¿‡reserveæ“ä½œå®ç°å¯ä»¥åŠ¨æ€æ”¹å˜å¤§å°çš„vector.
</p>

<p>
ä¸Šä¸€ç« çš„vectoré•¿åº¦å‚¨å­˜åœ¨szä¸­, ç°åœ¨å¢åŠ ä¸€ä¸ªspaceå˜é‡, ç”¨äºå‚¨å­˜vectorçš„æ€»å¯ç”¨ç©ºé—´(å·²ç”¨ç©ºé—´+ç©ºé—²ç©ºé—´). 
å½“æœ‰æ–°æˆå‘˜æ”¾å…¥vectoræ—¶, å…ˆä»ç©ºé—²ç©ºé—´ä¸­æ‰¾ä½ç½®, å¦‚æœç©ºé—²ç©ºé—´å·²è¢«ç”¨å®Œ, å†ç”³è¯·ä¸€å—æ–°çš„ç©ºé—´. è¿™æ ·å¯ä»¥å‡å°‘é¢‘ç¹è¿›è¡Œå†…å­˜ç”³è¯·é€ æˆçš„æ€§èƒ½æŸå¤±.
</p>

<pre class="example">
template&lt;typename T&gt;
void Vector&lt;T&gt;::reserve(int newalloc)
{
  if (newalloc &lt; space) return;
  T *p = new T[newalloc];
  for (int i = 0; i &lt; sz; i++) p[i] = elem[i];
  delete[] elem;
  elem = p;
  space = newalloc;
}
</pre>

<pre class="example">
template&lt;typename T&gt;
void Vector&lt;T&gt;::resize(int newsize)
{
 if (newsize &lt; space) return;
 reserve(newsize);
 for (int i = sz; i &lt; newsize; i++) elem[i] = 0;
 sz = newsize;
}
</pre>

<pre class="example">
template&lt;typename T&gt;
void Vector&lt;T&gt;::push_back(T value)
{
 if ( space == 0 ) reserve(8);
 if ( space == sz) reserve(2*space);
 elem[sz] = value;
 sz ++;
}
</pre>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10"><span class="section-number-2">3</span> Templates</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">3.1</span> Types as templates parameters</h3>
<div class="outline-text-3" id="text-3-1">
<pre class="example">
template&lt;typename T&gt;
</pre>
<p>
or
</p>
<pre class="example">
template&lt;class T&gt; // include built-in type
</pre>

<p>
ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæˆ–linké˜¶æ®µè¿›è¡Œæ¨¡æ¿å±•å¼€
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">3.2</span> Generic programming</h3>
<div class="outline-text-3" id="text-3-2">
<p>
ä½¿ç”¨æ¨¡æ¿æ˜¯æ³›å‹ç¼–ç¨‹çš„åŸºç¡€.
</p>

<p>
ä¸€èˆ¬æ‰€è¯´çš„å¤šæ€åŒ…æ‹¬ä¸¤ç§ç±»å‹:
</p>
<ul class="org-ul">
<li>parametic polymorphism: ä¾èµ–äºæ¨¡æ¿å‚æ•°(æ³›å‹ç¼–ç¨‹)</li>
<li>hoc polymorphism: ä½¿ç”¨ç±»ç»§æ‰¿, è™šå‡½æ•°(é¢å‘å¯¹è±¡ç¼–ç¨‹)</li>
</ul>

<p>
éœ€è¦æ³¨æ„çš„å·®å¼‚:
</p>
<ul class="org-ul">
<li>å†³å®šè¢«è°ƒç”¨å‡½æ•°çš„æ—¶æœº: é¢å‘å¯¹è±¡ç¼–ç¨‹åœ¨è¿è¡Œæ—¶å†³å®š, è€Œæ³›å‹ç¼–ç¨‹åœ¨ç¼–è¯‘æ—¶å†³å®š.</li>
</ul>

<p>
ä¸¤è€…ç»“åˆä½¿ç”¨çš„ä¾‹å­:
</p>
<pre class="example">
void draw_all(Vector&lt;Shape*&gt;&amp; v)
{
   for ( int i = 0; i &lt; v.size(); i++ ) v[i]-&gt;draw();
}
</pre>
<p>
åœ¨æ³›å‹çš„vectorä¸­å‚¨å­˜shape, ç„¶åè°ƒç”¨å®ƒä»¬çš„è™šå‡½æ•°draw().
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">3.3</span> Concepts</h3>
<div class="outline-text-3" id="text-3-3">
<p>
æ¨¡æ¿è™½å¥½, ä¹Ÿæœ‰ç¼ºç‚¹. æ¨¡æ¿çš„å†…éƒ¨æ£€æŸ¥æ¯”è¾ƒè–„å¼±,è€Œä¸”å¯èƒ½åœ¨ç¼–è¯‘æ™šæœŸæ‰å‘ç°é—®é¢˜.
</p>

<p>
æˆ‘å†™äº†ä¸ªtest case:
</p>
<pre class="example">
template&lt;typename T&gt;
class test {
public:
 test(T&amp; v):val{v}{};
 T val;
 T operator+(T v) {  return this-&gt;val + v; }
};
</pre>

<p>
å¦‚æœç±»å‹Tæ”¯æŒ'+'æ“ä½œ, ä¸€åˆ‡ok. ä½†å¦‚æœTä¸æ”¯æŒ'+', ä¸”è°ƒç”¨äº†testçš„+æ–¹æ³•, ç¼–è¯‘å™¨ä¼šæŠ¥é”™:no mach for operator+.
</p>

<p>
c++14æä¾›äº†ä¸€å¥—æœºåˆ¶æ¥è§„å®šå¯¹ç±»å‹Tçš„è¦æ±‚, å«concepts
</p>

<p>
æœ€å¸¸ç”¨çš„,å¦‚æœè¦æ±‚Tå®ç°äº†æ‹·è´/ç§»åŠ¨/é»˜è®¤æ„é€ å‡½æ•°, åˆ™åœ¨templateåè¿½åŠ requires Element.
</p>

<pre class="example">
template&lt;typename T&gt; requires&lt;Element T&gt;
</pre>
<p>
or
</p>
<pre class="example">
template&lt;Element T&gt;
</pre>

<p>
Elementæ˜¯æ»¡è¶³ä¸€ç³»åˆ—æ¡ä»¶çš„é›†åˆ.
ç›¸åº”çš„è¿˜æœ‰è®¸å¤šå…¶å®ƒé›†åˆ:å¦‚æœè¦æ±‚Tå¯ä»¥åˆ†é…å’Œé‡Šæ”¾å†…å­˜, å¯ä»¥ä½¿ç”¨Allocator. å¦‚æœè¦æ±‚Tæ˜¯å®¹å™¨, å¯ä»¥ä½¿ç”¨Container, ç­‰ç­‰. æŸ¥é˜…19.3.3.
</p>

<p>
c++14ä¹‹å‰çš„ç‰ˆæœ¬ä¸æ”¯æŒconcepts, åªèƒ½é€šè¿‡ä¸€äº›çº¦å®šæ¥é™å®šäº†.
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">3.4</span> Containers and inheritance</h3>
<div class="outline-text-3" id="text-3-4">
<p>
ä¸¤ä¸ªæœ‰ç»§æ‰¿å…³ç³»çš„ç±»å‹æåˆ°æ¨¡æ¿ç±»ä¸­ä»¥åå°±æ²¡æœ‰ä»»ä½•å…³ç³»äº†, æ¨¡æ¿å±•å¼€åå®ƒä»¬æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªç±»å‹.
</p>

<p>
ä¸‹é¢æ˜¯é”™è¯¯ç¤ºèŒƒ:
</p>
<pre class="example">
vector&lt;Shape&gt; vs;
vector&lt;Circle&gt; vc;
vs = vc;                 // error
void f(vector&lt;Shape&gt; &amp;);
f(vc);                   // error
</pre>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">3.5</span> Integers as template parameters</h3>
<div class="outline-text-3" id="text-3-5">
<p>
é™¤äº†ç±»å‹å¤–, æ¨¡æ¿è¿˜å¯ä»¥ä¼ é€’å…¶å®ƒå‚æ•°, æœ€å¸¸ç”¨çš„æ˜¯int.
</p>

<pre class="example">
template&lt;typename T, int N&gt; 
</pre>

<p>
å…¶å®ƒç±»å‹å‚æ•°ä¸å¤ªå¸¸ç”¨, å¹¶ä¸”éœ€è¦å¼€å‘è€…éå¸¸ç†Ÿæ‚‰è¯­è¨€ç‰¹æ€§.
</p>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">3.6</span> Template argument deduction</h3>
<div class="outline-text-3" id="text-3-6">
<p>
å¯¹å‡½æ•°æ¨¡ç‰ˆå‚æ•°æ¥è¯´, å½“ç¼–è¯‘æœŸèƒ½å¤Ÿé€šè¿‡å‡½æ•°å‚æ•°ç¡®å®šæ¨¡æ¿å‚æ•°çš„å€¼, é€šå¸¸å¯ä»¥ä¸æ˜¾ç¤ºä¹¦å†™æ¨¡æ¿å‚æ•°. 
</p>

<pre class="example">
template&lt;typename T, int N&gt; fill(array&lt;T,N&gt;&amp; a, T&amp; v);
array&lt;double,10&gt; d;
fill(d,0);  // ç›¸å½“äº  fill&lt;double,10&gt;(d,0);
</pre>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">3.7</span> Generalizing vector</h3>
<div class="outline-text-3" id="text-3-7">
<p>
ç°åœ¨æˆ‘ä»¬çš„vectorç¦»å®ç”¨è¿˜å·®ä¸€äº›. æ¯”å¦‚ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜:
</p>
<ul class="org-ul">
<li>å¦‚æœVector&lt;X&gt;çš„Xæ²¡æœ‰é»˜è®¤å€¼å’‹åŠ?</li>
<li>æ€ä¹ˆä¿è¯å½“vectoré”€æ¯æ—¶, å®ƒåŒ…å«çš„æ‰€æœ‰å…ƒç´ ä¹Ÿèƒ½è¢«é”€æ¯?</li>
</ul>

<p>
å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜, å¯ä»¥è®©ç”¨æˆ·æä¾›é»˜è®¤å€¼:
</p>

<pre class="example">
template&lt;typename T&gt;void vector&lt;T&gt;::resize(int newsize, T def = T());
</pre>

<p>
å¦‚æœç”¨æˆ·ä¸æä¾›é»˜è®¤å€¼, åˆ™ä½¿ç”¨T().
</p>

<p>
å¯¹äºç¬¬äºŒä¸ªé—®é¢˜, è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨allocator:
</p>

<pre class="example">
template&lt;typename T&gt; class allocator {
public:
    T* allocate(int n); // åˆ†é…nä¸ªTçš„å†…å­˜
    void deallocate(T*, int n); // å›æ”¶nä¸ªTçš„ç©ºé—´
    void construct(T*, const T&amp;); // æ‹·è´ä¸€ä¸ªT
    void destory(T*); // å›æ”¶T
</pre>
</div>
</div>
</div>


<div id="outline-container-orgheadline11" class="outline-2">
<h2 id="orgheadline11"><span class="section-number-2">4</span> Range checking and exceptions</h2>
<div class="outline-text-2" id="text-4">
<p>
è¾¹ç•Œæ£€æŸ¥ä½¿ç¨‹åºæ›´å¥å£®, ä½†é™ä½æ•ˆç‡.
</p>

<p>
æ ‡å‡†å®¹å™¨ä¼šæä¾›å¸¦æœ‰è¾¹ç•Œæ£€æŸ¥çš„ç´¢å¼•æ–¹å¼ at(), ä¹Ÿä¼šæä¾›å¿«é€Ÿçš„, ä¸æ£€æŸ¥è¾¹ç•Œçš„ç´¢å¼• operator[]().
</p>
</div>
</div>


<div id="outline-container-orgheadline18" class="outline-2">
<h2 id="orgheadline18"><span class="section-number-2">5</span> Resource and exceptions</h2>
<div class="outline-text-2" id="text-5">
<p>
resourceéœ€è¦è¢«ç”³è¯·å’Œé‡Šæ”¾, å¸¸ç”¨çš„èµ„æºåŒ…æ‹¬: Memory, Locks, File handles, Thread handles, Sockets, Windows.
</p>
</div>

<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">5.1</span> Potential resource management problems</h3>
<div class="outline-text-3" id="text-5-1">
<p>
ä¸‹é¢ä»¥memoryä¸ºä¾‹è¿›è¡Œè¯´æ˜.
</p>

<p>
newå’Œdeleteåº”è¯¥æ˜¯æˆå¯¹å‡ºç°çš„, ç„¶è€Œå®ƒä»¬ä¹‹é—´ä¼šå‘ç”Ÿä»€ä¹ˆå¥‡æ€ªçš„äº‹æƒ…å°±ä¸çŸ¥é“äº†:
</p>

<pre class="example">
int p* = new p[10];
// p = q;              // p å¯èƒ½æŒ‡å‘äº†åˆ«å¤„
// return;             // ç¨‹åºå¯èƒ½å·²ç»è¿”å› 
// try{..} catch{..}   // å¯èƒ½æŠ›å‡ºå¼‚å¸¸
delete[] p;
</pre>

<p>
ä¸ºäº†ç¡®ä¿pèƒ½å¤Ÿè¢«é‡Šæ”¾, ä¸€ä¸ªç¨å¾®å¥½ä¸€ç‚¹çš„ç‰ˆæœ¬å¯èƒ½é•¿è¿™æ ·:
</p>

<pre class="example">
int p* = new p[10];
try { ... }
catch() { 
   delete[] p;
   return;
}
delete[] p;
</pre>

<p>
è™½ç„¶æœ‰ç‚¹æ“, ä½†è‡³å°‘è§£å†³äº†æ¸©é¥±. é‚£ä¹ˆé—®é¢˜æ¥äº†, å¦‚æœæˆ‘ä»¬æœ‰ä¸€å¤§æ³¢péœ€è¦è¢«deleteæ€ä¹ˆåŠ.
</p>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">5.2</span> Resource acquisition is initialization</h3>
<div class="outline-text-3" id="text-5-2">
<p>
æ¥ä¸ŠèŠ‚. å½“é¢ä¸´ä¸€å¤§æ³¢pæ—¶, å¥½åœ¨è¿˜æœ‰vector:
</p>

<pre class="example">
void f()
{
    vector&lt;int&gt; p(10);
    vector&lt;int&gt; q(10);
}
</pre>

<p>
è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨æ‹…å¿ƒdeleteçš„é—®é¢˜äº†:
</p>
<ul class="org-ul">
<li>vectoråˆå§‹åŒ–å‡½æ•°è´Ÿè´£new,ææ„å‡½æ•°ä¸­delete.</li>
<li>pä¸æ˜¯æŒ‡é’ˆ,ä¸å¿…æ‹…å¿ƒä¸­é€”è¢«æ”¹å˜.</li>
<li>ç¦»å¼€ä½œç”¨åŸŸæ—¶,æ‰€æœ‰fully-constructed object(ä»¥åŠsub-object)çš„ææ„å‡½æ•°è‡ªåŠ¨è¢«è°ƒç”¨.</li>
</ul>


<p>
å¼•ç”¨ä¸€ä¸‹ç™¾åº¦ç™¾ç§‘:
</p>

<p>
RAII ï¼ˆResource Acquisition Is Initializationï¼‰,ä¹Ÿç§°ä¸ºâ€œèµ„æºè·å–å°±æ˜¯åˆå§‹åŒ–â€ï¼Œæ˜¯C++è¯­è¨€çš„ä¸€ç§ç®¡ç†èµ„æºã€é¿å…æ³„æ¼çš„æƒ¯ç”¨æ³•ã€‚C++æ ‡å‡†ä¿è¯ä»»ä½•æƒ…å†µä¸‹ï¼Œå·²æ„é€ çš„å¯¹è±¡æœ€ç»ˆä¼šé”€æ¯ï¼Œå³å®ƒçš„ææ„å‡½æ•°æœ€ç»ˆä¼šè¢«è°ƒç”¨ã€‚ç®€å•çš„è¯´ï¼ŒRAII çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å…¶æ„é€ æ—¶è·å–èµ„æºï¼Œåœ¨å¯¹è±¡ç”Ÿå‘½æœŸæ§åˆ¶å¯¹èµ„æºçš„è®¿é—®ä½¿ä¹‹å§‹ç»ˆä¿æŒæœ‰æ•ˆï¼Œæœ€ååœ¨å¯¹è±¡ææ„çš„æ—¶å€™é‡Šæ”¾èµ„æºã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">5.3</span> Guarantee</h3>
<div class="outline-text-3" id="text-5-3">
<p>
ä¸€ä¸ªå¸¸è§çš„åœºæ™¯, æˆ‘ä»¬å¯èƒ½å¸Œæœ›åœ¨åœ¨ä½œç”¨åŸŸä¹‹å¤–ä½¿ç”¨p:
</p>

<pre class="example">
void make_vec() {
    vector&lt;int&gt; p = new vector&lt;int&gt;();
    // ...
    return p;
}
</pre>

<p>
åŒdeleteçš„é—®é¢˜ç±»ä¼¼, på¯èƒ½æ´»ä¸åˆ°è¢«return. ç±»ä¼¼çš„, è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨try-catchæ¥è§£å†³.
è¿™å°±æ˜¯æ‰€è°“çš„basic-guarantee.
</p>

<ul class="org-ul">
<li>basic-guarantee: ç¡®ä¿æ²¡æœ‰å†…å­˜æ³„éœ².</li>
<li>strong-guarantee: åœ¨basicçš„åŸºç¡€ä¸Š, è¿˜è¦ç¡®ä¿æ‰€æœ‰observable value(éæœ¬åœ°å˜é‡)çš„å€¼ä¸å˜, é™¤äº†æŠ›å‡ºå¼‚å¸¸å¤–. è¿™æ ·çš„å‡½æ•°æ˜¯å¯é‡å…¥çš„.</li>
<li>no-throw-guarantee: è¶³å¤Ÿå®‰å…¨,ä¸throw. æ‰€æœ‰c++å†…ç½®çš„å·¥å…·æä¾›no throw guarantee, åªè¦å¼€å‘è€…ä¸ä½¿ç”¨throw,new,dynamic<sub>castè¿™ä¸‰ç§æ“ä½œ</sub>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15"><span class="section-number-3">5.4</span> unique<sub>ptr</sub></h3>
<div class="outline-text-3" id="text-5-4">
<p>
try-catchè¿˜æ˜¯å¤ªä¸‘äº†. è¿™é‡Œä»‹ç»ä¸€ä¸ªæ›´ç‰›é€¼çš„RAIIå·¥å…·, &lt;memory&gt;çš„unique<sub>ptr</sub>.
</p>

<pre class="example">
vector&lt;int&gt; *make_vec() {
    unique_ptr&lt;vector&lt;int&gt;&gt; p {new vector&lt;int&gt;};
    // fill ..., may throw a exception.
    return p.release();
}
</pre>

<p>
unique<sub>ptr</sub> æ˜¯ä¸€ä¸ªæ‹¥æœ‰æŒ‡é’ˆçš„å®ä¾‹, å®ƒè¢«ææ„æ—¶(ç¦»å¼€make<sub>vecçš„ä½œç”¨åŸŸ</sub>), ä¼šè´Ÿè´£é”€æ¯æ‰€æ‹¥æœ‰çš„æŒ‡é’ˆ. p.release()æŠŠvectorä»pä¸­è§£ç»‘, è¿™æ ·ä»¥åpä¼šæŒ‡å‘ä¸€ä¸ªnullptr, è¢«é”€æ¯æ—¶ä¸ä¼šé‡Šæ”¾æ‰vector.
</p>

<p>
æœ€å¥½ä¸è¦åœ¨unique<sub>pträ¸­åµŒå¥—unique</sub><sub>ptr</sub>.
</p>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><span class="section-number-3">5.5</span> Return by moving</h3>
<div class="outline-text-3" id="text-5-5">
<p>
å¯¹å®¹å™¨æ¥è¯´,æœ‰ä¸€ç§æ›´åŠ ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨move constructorä¼ é€’å†…å®¹.
</p>
<pre class="example">
void make_vec() {
    vector&lt;int&gt; m;
    // ...
    return m; // the move constructor efficiently transfers ownership.
}
</pre>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">5.6</span> RAII for vector</h3>
<div class="outline-text-3" id="text-5-6">
<p>
å¦‚æœä½¿ç”¨äº†smart pointer - æ¯”å¦‚unique<sub>ptr</sub>, é—®é¢˜ä¾æ—§å­˜åœ¨..
</p>
<ul class="org-ul">
<li>æ€æ ·ä¿è¯æ‰€æœ‰çš„pointeréƒ½è¢«ä¿æŠ¤èµ·æ¥äº†?</li>
<li>å¦‚æœæœ‰äº›å®ä¾‹åœ¨é€€å‡ºä½œç”¨åŸŸæ—¶ä¸éœ€è¦è¢«é”€æ¯æ€ä¹ˆåŠ? (ä½ çƒ¦ä¸çƒ¦&#x2026;</li>
</ul>

<p>
å‚è€ƒå‰é¢ä½¿ç”¨allocatorçš„reserveå®ç°.
</p>

<p>
å…¶ä¸­, alloc.construct(&amp;p[i], elem[i])å¯èƒ½ä¼šæŠ›å¼‚å¸¸, è¿™æ ·åé¢çš„alloc.destory(&amp;elem[i])å°±æ‰§è¡Œä¸åˆ°äº†..ä¼¼æ›¾ç›¸è¯†çš„çŠ¶å†µ..
</p>

<p>
å¥½ä¸€ç‚¹çš„è§£å†³æ–¹æ¡ˆæ˜¯:æŠŠvectorçš„memory(åŒ…æ‹¬sz,elem,space)å½“åšresource:
</p>
<pre class="example">
struct vector_base {
    A alloc;
    T* elem;
    int sz;
    int space;

    vector_base(const A&amp; a, int n);
    ~vector_base();    
}
</pre>

<p>
vectorå¯ä»¥ç»§æ‰¿vector<sub>base</sub>
</p>
<pre class="example">
class vector: private vector_base&lt;T,A&gt;
</pre>

<p>
é‡æ–°å®ç°reserve():
</p>
<pre class="example">
void vector&lt;T,A&gt;::reserve(int newalloc) 
{
    if ( newalloc &lt;= this-&gt;space ) return;
    vector_base&lt;T,A&gt; b(this-&gt;alloc, newalloc);
    uninitialized_copy(b.elem, &amp;b.elem[this-&gt;sz], this-&gt;elem); // copy
    for ( int i = 0; i &lt; this-&gt;sz; i++ )
        this-&gt;alloc.destory(&amp;this-&gt;elem[i]);
    swap&lt;vector_base&lt;T,A&gt;&gt;(*this, p);
}
</pre>

<p>
uninitialized<sub>copyå¯ä»¥å¤„ç†æ‰æ‹·è´æ„é€ å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸</sub>. å¦‚æœä¸­é—´æŠ›äº†å¼‚å¸¸, åˆ™æ–°çš„pä¼šåœ¨ç¦»å¼€ä½œç”¨åŸŸæ—¶è¢«ææ„.
</p>

<p>
æœ‰ä¸€ç‚¹è¦æ³¨æ„, è¿™é‡Œ*thiså’Œpæ˜¯ä¸åŒç±»å‹, æ‰€ä»¥åœ¨è°ƒç”¨swapæ—¶éœ€è¦æ˜¾ç¤ºæŒ‡å®šä¸€ä¸‹ç±»å‹.
</p>



<ul class="org-ul">
<li>ä»¥ä¸Š</li>
</ul>
</div>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/02/25/princples-and-practice-using-c++-ch19-reading-note/</guid>
    </item>
    <item>
      <title>princples and practice using c++ ch20 reading note</title>
      <link>http://tsubasawp.github.io/blog/2016/03/01/princples-and-practice-using-c++-ch20-reading-note/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>princples and practice using c++ ch20 reading note</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. C++ 11 features:</a></li>
<li><a href="#orgheadline6">2. STL</a>
<ul>
<li><a href="#orgheadline2">2.1. Data interface</a></li>
<li><a href="#orgheadline3">2.2. Sequences and iterators</a></li>
<li><a href="#orgheadline4">2.3. Linked lists</a></li>
<li><a href="#orgheadline5">2.4. General algorithm</a></li>
</ul>
</li>
<li><a href="#orgheadline9">3. Generalizing vector yet again</a>
<ul>
<li><a href="#orgheadline7">3.1. Container traversal</a></li>
<li><a href="#orgheadline8">3.2. auto</a></li>
</ul>
</li>
<li><a href="#orgheadline10">4. An example: text editor</a></li>
</ul>
</div>
</div>
<p>
æœ¬ç« è®²æˆå¦‚ä½•æ¨¡ä»¿STLçš„æ€è·¯å†™å®¹å™¨å’Œç®—æ³•.
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> C++ 11 features:</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>using</li>
</ul>
<pre class="example">
using Iterator = T*; // ç±»ä¼¼typedef
</pre>

<ul class="org-ul">
<li>auto</li>
</ul>
<pre class="example">
auto it; // equal to Vector&lt;T&gt;::iterator it;
</pre>
</div>
</div>


<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6"><span class="section-number-2">2</span> STL</h2>
<div class="outline-text-2" id="text-2">
<p>
ç¼–ç¨‹ä¸­é€šå¸¸å’Œä¸¤æ ·ä¸œè¥¿æ‰“äº¤é“: æ•°æ®å’Œç®—æ³•. STLæä¾›äº†ä¸€å¥—å®¹å™¨, ä»¥åŠä¸€äº›é€šç”¨çš„ç®—æ³•.
</p>

<p>
å¼•ç”¨ä¸€ä¸‹ç™¾ç§‘:
</p>

<pre class="example">
STL = Standard Template Libraryï¼Œæ ‡å‡†æ¨¡æ¿åº“ï¼Œæƒ æ™®å®éªŒå®¤å¼€å‘çš„ä¸€ç³»åˆ—è½¯ä»¶çš„ç»Ÿç§°ã€‚å®ƒæ˜¯ç”±Alexander Stepanovã€Meng Leeå’ŒDavid R Musseråœ¨æƒ æ™®å®éªŒå®¤å·¥ä½œæ—¶æ‰€å¼€å‘å‡ºæ¥çš„ã€‚ä»æ ¹æœ¬ä¸Šè¯´ï¼ŒSTLæ˜¯ä¸€äº›â€œå®¹å™¨â€çš„é›†åˆï¼Œè¿™äº›â€œå®¹å™¨â€æœ‰list,vector,set,mapç­‰ï¼ŒSTLä¹Ÿæ˜¯ç®—æ³•å’Œå…¶ä»–ä¸€äº›ç»„ä»¶çš„é›†åˆã€‚è¿™é‡Œçš„â€œå®¹å™¨â€å’Œç®—æ³•çš„é›†åˆæŒ‡çš„æ˜¯ä¸–ç•Œä¸Šå¾ˆå¤šèªæ˜äººå¾ˆå¤šå¹´çš„æ°ä½œã€‚STLçš„ç›®çš„æ˜¯æ ‡å‡†åŒ–ç»„ä»¶ï¼Œè¿™æ ·å°±ä¸ç”¨é‡æ–°å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ç°æˆçš„ç»„ä»¶ã€‚STLç°åœ¨æ˜¯C++çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ä¸ç”¨é¢å¤–å®‰è£…ä»€ä¹ˆã€‚
</pre>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">2.1</span> Data interface</h3>
<div class="outline-text-3" id="text-2-1">
<p>
æ•°æ®ç»“æ„æœ€å¸¸ç”¨çš„ç‰¹æ€§åŒ…æ‹¬:
</p>
<ul class="org-ul">
<li>å®¹å™¨: vector, list, map &#x2026;</li>
<li>æ•°æ®ç»„ç»‡: å¿«é€ŸæŸ¥æ‰¾, æ‰“å°ç­‰.</li>
<li>è®¿é—®: by value, by index, by properties, &#x2026;</li>
<li>ä¿®æ”¹: å¢åˆ æ”¹</li>
<li>æ•°å­¦è¿ç®—: +, -, *, etc.</li>
</ul>

<p>
å¦å¤–,ç¨‹åºçŒ¿ä»¬å¸Œæœ›åœ¨ä½¿ç”¨è¿™äº›ç‰¹æ€§æ—¶ä¸éœ€è¦å…³å¿ƒç±»å‹è½¬æ¢çš„é—®é¢˜.
æˆ‘ä»¬åœ¨ä¸Šä¸€ç« ä¸­å®ç°çš„vector&lt;T&gt;å°±ä¸æ»¡è¶³è¿™ä¸ªéœ€æ±‚, vector&lt;int&gt;å’Œvector&lt;double&gt;æ˜¯ä¸åŒçš„ç±»å‹.
ä¸‹é¢å°±æ¥çœ‹çœ‹STLæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜.
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">2.2</span> Sequences and iterators</h3>
<div class="outline-text-3" id="text-2-2">
<p>
åºåˆ—æ˜¯STLçš„æ ¸å¿ƒæ€æƒ³. åºåˆ—æœ‰å¤´æœ‰å°¾, æˆ‘ä»¬å¯ä»¥ä»beginåˆ°endéå†å®ƒ.
</p>

<p>
beginå’Œendæ˜¯iterator(è¿­ä»£å™¨). è¿­ä»£å™¨æ˜¯ä¸€ä¸ªæŒ‡å‘åºåˆ—å…ƒç´ çš„å¯¹è±¡.
åºåˆ—æ˜¯"half-open"çš„,å› ä¸ºbeginæŒ‡å‘åºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ , è€ŒendæŒ‡å‘çš„å…ƒç´ ä¸å±äºåºåˆ—,å®ƒæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®.å¯ä»¥è¿™æ ·è¡¨ç¤º:[begin:end).
</p>

<p>
é‚£ä¹ˆiteratoræ˜¯ä»€ä¹ˆ, å®ƒçœ‹èµ·æ¥åƒæŒ‡é’ˆ, ä½†å…¶å®å®ƒæ˜¯ä¸ªæ›´æŠ½è±¡çš„æ¦‚å¿µ:
</p>
<ul class="org-ul">
<li>å®ƒæŒ‡å‘åºåˆ—ä¸­çš„å…ƒç´ </li>
<li>å®ƒå¯ä»¥ç”¨==æˆ–!=æ¯”è¾ƒ</li>
<li>å¯ä»¥ä½¿ç”¨*å–å€¼</li>
<li>å¯ä»¥ç”¨++è·å–ä¸‹ä¸€ä¸ªiterator.</li>
</ul>

<p>
è¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯æ›´åƒæŒ‡é’ˆäº†23333.
ä¸Šé¢è¯´äº†,è¿­ä»£å™¨æ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µ, æ‰€ä»¥æŒ‡å‘arrayçš„æŒ‡é’ˆçš„ç¡®å¯ä»¥è¢«ç§°ä¸ºè¿­ä»£å™¨. è€Œè®¸å¤šè¿­ä»£å™¨çš„åŠŸèƒ½æ¯”æŒ‡é’ˆè¦å¤š. æ¯”å¦‚å¯ä»¥æä¾›è¾¹ç•Œæ£€æŸ¥[begin:end).
</p>

<p>
è¿­ä»£å™¨è¿™ä¸ªæ¦‚å¿µå¯ä»¥å¸¦æ¥å·¨å¤§çš„çµæ´»æ€§, åé¢ä¼šè¯´æ˜.
</p>
</div>
</div>


<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">2.3</span> Linked lists</h3>
<div class="outline-text-3" id="text-2-3">
<p>
å¤§å®¶éƒ½ç†Ÿæ‚‰çš„é“¾è¡¨..
</p>

<p>
åœ¨STLä¸­, listè¢«å®ç°ä¸ºåŒå‘é“¾è¡¨. ä½¿ç”¨iteratoræ¥éå†,æ’å…¥å’Œåˆ é™¤. listä¸æ”¯æŒä¸‹æ ‡ç´¢å¼•,å› ä¸ºå¯¹é“¾è¡¨æ¥è¯´ä¸‹æ ‡ç´¢å¼•æ•ˆç‡å¤ªä½.
</p>

<p>
vectorçš„iteratorå¯ä»¥ç›´æ¥åˆ©ç”¨æŒ‡é’ˆå®ç°, è€Œlistçš„iteratoråˆ™å¤æ‚ä¸€äº›(æ³¨æ„å®ƒæ˜¯nested class):
</p>
<pre class="example">
template&lt;typename Elem&gt;
class list&lt;Elem&gt;::iterator {
    Link&lt;Elem *&gt;curr;
public:
   iterator(Link&lt;Elem&gt;* p): curr{p};
   iterator&amp; operator++() {curr = curr-&gt;succ; return *this;}
   iterator&amp; operator--() {curr = curr-&gt;prev; return *this;}
   Elem&amp; operator* () {return curr-&gt;val;} 
   
   bool operator==(const iterator&amp; b) const {return curr == b.curr};    
   bool operator!=(const iterator&amp; b) const {return curr != b.curr};    
</pre>
</div>
</div>


<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">2.4</span> General algorithm</h3>
<div class="outline-text-3" id="text-2-4">
<p>
åˆ©ç”¨iterator,æˆ‘ä»¬å¯ä»¥å†™å‡ºåŒæ—¶æ”¯æŒlistå’Œvectorç­‰å®¹å™¨çš„é€šç”¨ç®—æ³•:
</p>
<pre class="example">
template&lt;typename Iter&gt;
Iter high(Iter first, Iter last)
{
    Iter high = first;
    for ( Iter p = first; p != last; p++)
        if ( high &lt; p ) high = p;
    return p;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9"><span class="section-number-2">3</span> Generalizing vector yet again</h2>
<div class="outline-text-2" id="text-3">
<p>
æ˜¯æ—¶å€™æ”¹é€ ä¸€ä¸‹ä¸Šä¸€ç« çš„vectoräº†,æˆ‘ä»¬ä¸ºå®ƒåŠ å…¥iterator:
</p>
<pre class="example">
template&lt;typename T&gt;
class vector {
public:
    using size_type = unsigned long;
    using value_type = T;
    using iterator = T*;
    using const_iterator = const T*;
    //...
    iterator begin();
    iterator end();
    size_type size();
    // ... const version
}
</pre>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">3.1</span> Container traversal</h3>
<div class="outline-text-3" id="text-3-1">
<p>
å¯ä»¥åˆ©ç”¨ä¸€ä¸ªè¯­æ³•ç³–æ¥å®ç°é€šç”¨çš„éå†:
</p>
<pre class="example">
for ( T val : _list) cout &lt;&lt; val &lt;&lt; endl;
for ( T val : _vector) cout &lt;&lt; val &lt;&lt; endl;
</pre>

<p>
æ²¡é”™è¿™ä¸ªè¯­æ³•ç³–å°±æ˜¯åˆ©ç”¨iteratorå®ç°çš„.
</p>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">3.2</span> auto</h3>
<div class="outline-text-3" id="text-3-2">
<p>
å£°æ˜iteratorçœŸçš„å¾ˆçƒ¦æœ‰æœ¨æœ‰
</p>
<pre class="example">
Vector&lt;double&gt;::iterator it;
</pre>
<p>
c++11 ä¸ºæˆ‘ä»¬è´´å¿ƒçš„æä¾›äº†ä¸€ä¸ªè¯­æ³•ç³–,ç°åœ¨å¯ä»¥æ„‰å¿«çš„è¿™ä¹ˆå†™äº†:
</p>
<pre class="example">
auto it;
</pre>

<p>
åŸåˆ™ä¸Šåªè¦ç¼–è¯‘æœŸå¯ä»¥æ˜ç¡®ç±»å‹çš„å£°æ˜éƒ½å¯ä»¥ä½¿ç”¨auto. 
(å¯è¯»æ€§ä»€ä¹ˆçš„è‡ªå·±æƒè¡¡å§..)
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10"><span class="section-number-2">4</span> An example: text editor</h2>
<div class="outline-text-2" id="text-4">
<p>
å‘ƒ, è¿™éƒ¨åˆ†å°±ä¸åšç¬”è®°äº†, å‚è€ƒåŸä¹¦$20.6.
</p>


<p>
ä»¥ä¸Š
</p>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/03/01/princples-and-practice-using-c++-ch20-reading-note/</guid>
    </item>
    <item>
      <title>princples and practice using c++ ch21 reading note</title>
      <link>http://tsubasawp.github.io/blog/2016/03/06/princples-and-practice-using-c++-ch21-reading-note/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>princples and practice using c++ ch21 reading note</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline26">1. Algorithms and Maps</a>
<ul>
<li><a href="#orgheadline1">1.1. C++ 11 features</a></li>
<li><a href="#orgheadline2">1.2. Standard Library algorithms</a></li>
<li><a href="#orgheadline3">1.3. The simplest algorithm: find()</a></li>
<li><a href="#orgheadline4">1.4. The general search:find<sub>if</sub>()</a></li>
<li><a href="#orgheadline8">1.5. Function objects</a>
<ul>
<li><a href="#orgheadline5">1.5.1. An abstract view of function objects</a></li>
<li><a href="#orgheadline6">1.5.2. Predicates on class members</a></li>
<li><a href="#orgheadline7">1.5.3. Lambda expressions</a></li>
</ul>
</li>
<li><a href="#orgheadline13">1.6. Numerical algorithms</a>
<ul>
<li><a href="#orgheadline9">1.6.1. Accumulate</a></li>
<li><a href="#orgheadline10">1.6.2. Generalizing accumulate()</a></li>
<li><a href="#orgheadline11">1.6.3. Inner product</a></li>
<li><a href="#orgheadline12">1.6.4. Generalizing inner<sub>product</sub>()</a></li>
</ul>
</li>
<li><a href="#orgheadline16">1.7. Associative containers</a>
<ul>
<li><a href="#orgheadline14">1.7.1. map overview</a></li>
<li><a href="#orgheadline15">1.7.2. unordered<sub>map</sub></a></li>
</ul>
</li>
<li><a href="#orgheadline17">1.8. Set</a></li>
<li><a href="#orgheadline23">1.9. Copying</a>
<ul>
<li><a href="#orgheadline18">1.9.1. basic copy</a></li>
<li><a href="#orgheadline19">1.9.2. Stream iterator</a></li>
<li><a href="#orgheadline20">1.9.3. Unique<sub>copy</sub></a></li>
<li><a href="#orgheadline21">1.9.4. Using a set to keep order</a></li>
<li><a href="#orgheadline22">1.9.5. copy<sub>if</sub></a></li>
</ul>
</li>
<li><a href="#orgheadline24">1.10. Sorting and seraching</a></li>
<li><a href="#orgheadline25">1.11. Container algorithms</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline26" class="outline-2">
<h2 id="orgheadline26"><span class="section-number-2">1</span> Algorithms and Maps</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> C++ 11 features</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>lambda è¡¨è¾¾å¼ (){}</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> Standard Library algorithms</h3>
<div class="outline-text-3" id="text-1-2">
<p>
ä»‹ç»äº†ä¸€äº›é€šç”¨ç®—æ³•: find, sort, accumulate, inner<sub>produdtç­‰</sub>.
ä»‹ç»äº†å‡½æ•°å¯¹è±¡.
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.3</span> The simplest algorithm: find()</h3>
<div class="outline-text-3" id="text-1-3">
<p>
æœ€ç®€å•å¸¸ç”¨çš„ç®—æ³•è«è¿‡äºfind():
</p>
<pre class="example">
template&lt;typename In, typename T&gt;
In find(In first, In end, const T&amp; val)
{
    while(first!=end &amp;&amp; *first!=val) ++first;
    return first;
}
</pre>

<p>
å®ƒæ”¯æŒä»»æ„STLé£æ ¼çš„å®¹å™¨, ä»»æ„ç±»å‹.
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">1.4</span> The general search:find<sub>if</sub>()</h3>
<div class="outline-text-3" id="text-1-4">
<p>
find<sub>ifå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ–­è¨€</sub>(ä¸‹ä¸€èŠ‚è§£é‡Šè¿™ç©æ„), find<sub>ifæŸ¥æ‰¾æ»¡è¶³è¿™ä¸ªæ–­è¨€çš„ç¬¬ä¸€ä¸ªå€¼</sub>.
</p>
<pre class="example">
template&lt;typename In, typename T&gt;
In find_if(In first, In end, Pred pred)
{
    while(first!=end &amp;&amp; *!pred(*first)) ++first;
    return first;
}
</pre>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">1.5</span> Function objects</h3>
<div class="outline-text-3" id="text-1-5">
<p>
ä¸Šé¢è¯´çš„predæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡:ä¸€ä¸ªè·Ÿå‡½æ•°çš„è¡Œä¸ºç±»ä¼¼çš„å¯¹è±¡. å¯¹è±¡å¯ä»¥å‚¨å­˜æ•°æ®, æ¯”å¦‚å‚¨å­˜è¢«æ¯”è¾ƒçš„å€¼.
</p>
<pre class="example">
class Larger_than()
{
    int v;
public:
    Larger_than(int vv):v(vv){}
    bool operator()(int x) const {return x&gt;v;}
}
</pre>
</div>

<div id="outline-container-orgheadline5" class="outline-4">
<h4 id="orgheadline5"><span class="section-number-4">1.5.1</span> An abstract view of function objects</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
æŠŠæ¥¼ä¸ŠLarger<sub>thanå‡½æ•°çš„å¯¹è±¡åæ¢æˆä¸€ä¸ªæ¨¡æ£±ä¸¤å¯çš„åå­—</sub>(æ¯”å¦‚F), æŠŠintæ¢æˆæ¨¡æ¿, å°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒæŠ½è±¡çš„å‡½æ•°å¯¹è±¡äº†.
å› ä¸ºæºå¸¦äº†æ•°æ®, å‡½æ•°å¯¹è±¡æ˜¯"æœ‰çŠ¶æ€"çš„.
</p>

<p>
å‡½æ•°å¯¹è±¡æ˜¯STLå‚æ•°åŒ–çš„é‡è¦æ‰‹æ®µ.
</p>

<p>
æ€§èƒ½æ–¹é¢, ä½¿ç”¨å‡½æ•°å¯¹è±¡å½“åšå‚æ•°ä¼˜äºä½¿ç”¨å‡½æ•°. ä¸ºäº†è·å–æœ€ä½³æ€§èƒ½, å‡½æ•°å¯¹è±¡è¦ä»¥å¼•ç”¨çš„æ–¹å¼ä¸“é€’, è€Œä¸”operator()æœ€å¥½å®ç°åœ¨classå†…éƒ¨. è¿™æ ·å¯ä»¥ä¸ºç¼–è¯‘å™¨æä¾›è¶³å¤Ÿå¤šçš„ä¿¡æ¯è¿›è¡Œä¼˜åŒ–.
</p>

<p>
æ¯”å¦‚: ä¸Šé¢çš„Larger<sub>thanå¯ä»¥è¢«ç¼–è¯‘å™¨ä¼˜åŒ–æˆä¸€ä¸ªæœºå™¨æŒ‡ä»¤</sub>, è€Œä¸æ˜¯è¿›è¡Œå‡½æ•°è°ƒç”¨. è¿›è¡Œä¸€æ¬¡å‡½æ•°è°ƒç”¨çš„å¼€é”€å¤§æ¦‚æ˜¯è¿è¡Œæ¯”è¾ƒæŒ‡ä»¤çš„10-50å€. å¦å¤–ä¸ºå‡½æ•°è°ƒç”¨ç”Ÿæˆçš„ä»£ç ä¹Ÿä¼šæ¯”è¾ƒå¤š.
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-4">
<h4 id="orgheadline6"><span class="section-number-4">1.5.2</span> Predicates on class members</h4>
<div class="outline-text-4" id="text-1-5-2">
<p>
å¦‚æœè¦ä½¿ç”¨å‡½æ•°å¯¹è±¡æ¥æ¯”è¾ƒclass member, é‚£ä¹ˆç°æœ‰çš„æ­¦å™¨å°±ä¸å¤ªé¡ºæ‰‹äº†..æˆ‘ä»¬å¯èƒ½è¦å†™è®¸å¤šç±»ä¼¼ä»¥ä¸‹çš„ä»£ç :
</p>
<pre class="example">
struct cmp_by_name {
   bool operator()(const Record&amp; a, const Record&amp; b) { return a.name &lt; b.name; }
}
</pre>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-4">
<h4 id="orgheadline7"><span class="section-number-4">1.5.3</span> Lambda expressions</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
C++11 æä¾›å¯¹äº† lambdaè¡¨è¾¾å¼. 
</p>
<pre class="example">
auto p = find_if(v.begin(), v.end(), (double a){ return a &gt; 31;});
</pre>

<p>
å¯ä»¥ç†è§£ä¸º(double a){return a &gt; 31;}å®šä¹‰å‡½æ•°å¯¹è±¡çš„è¯­æ³•ç³–.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">1.6</span> Numerical algorithms</h3>
<div class="outline-text-3" id="text-1-6">
<p>
æ•°å€¼è¿ç®—ç®—æ³•åœ¨&lt;numeric&gt;ä¸­. (å¦‚æœä»¥åæœ‰æœºä¼šå†™å¼•æ“çš„è¯å¤§æ¦‚ä¼šç”¨åˆ°å§&#x2026;
</p>
</div>

<div id="outline-container-orgheadline9" class="outline-4">
<h4 id="orgheadline9"><span class="section-number-4">1.6.1</span> Accumulate</h4>
<div class="outline-text-4" id="text-1-6-1">
<p>
x = accumulate(b,e,i), è®¡ç®—[b,e)æ‰€æœ‰å…ƒç´ ä¸içš„å’Œ. è¿”å›å€¼xçš„ç±»å‹ä¼šè¢«ç”¨äºåˆå§‹åŒ–accumulate, æ‰€ä»¥å¿…é¡»æ˜ç¡®çš„æŠŠè®¡ç®—ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡. ( è¿˜çœŸä¸çŸ¥é“è¿™ä¸ª..
</p>
<pre class="example">
double s1 = 0;
s1 = accumulate(v.begin(),v.end(),s1); // ok
s2 = accumulate(v.begin(),v.end(),s2); // oops
float3 = 0;
accumulate(v.begin(),v.end(),s3);      // oops
</pre>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-4">
<h4 id="orgheadline10"><span class="section-number-4">1.6.2</span> Generalizing accumulate()</h4>
<div class="outline-text-4" id="text-1-6-2">
<p>
è¿ç®—ä¸é™äºåŠ æ³•. STLæä¾›äº†ä¸€ä¸ª4å‚æ•°ç‰ˆæœ¬çš„accumulate, å¯ä»¥è‡ªå®šä¹‰è¿ç®—:
</p>
<pre class="example">
template&lt;typename In, typename T, typename BinOp&gt;
// requires Input_iterator&lt;In&gt;() &amp;&amp; Number&lt;T&gt;() &amp;&amp; Binary_operator&lt;BinOp, Value_type&lt;In&gt;, T&gt;()
T accumulate(In first, In last, T init, BinOp op)
{
    while (first != last) {
        init = op(init, *first);
  ++first;
    }
}
</pre>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-4">
<h4 id="orgheadline11"><span class="section-number-4">1.6.3</span> Inner product</h4>
<div class="outline-text-4" id="text-1-6-3">
<p>
å†…ç§¯&#x2026;è®¡ç®—ä¸¤ä¸ªåºåˆ—ä¸­æ¯ä¸€å¯¹å…ƒç´ çš„å’Œ, æœ€åç›¸åŠ .
</p>
<pre class="example">
int sum = inner_product( v1.begin(), v1.end(), v2.begin, 0); // v2 maybe have more elements than v1, it's ok.
</pre>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-4">
<h4 id="orgheadline12"><span class="section-number-4">1.6.4</span> Generalizing inner<sub>product</sub>()</h4>
<div class="outline-text-4" id="text-1-6-4">
<p>
ä¸€ä¸ªæ¯”ä¸Šä¸ŠèŠ‚æ›´åŠ å†—é•¿çš„å£°æ˜:
</p>
<pre class="example">
T inner_product(In first, In last, In2 first2, T init, BinOp op, BinOp2 op2)
</pre>
<p>
(ç´¯çˆ±&#x2026;
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><span class="section-number-3">1.7</span> Associative containers</h3>
<div class="outline-text-3" id="text-1-7">
<p>
æœ€å¸¸ç”¨çš„å…³å®¹å™¨émapè«å±. ä¸mapç±»ä¼¼çš„ç»“æ„ä½“è¿˜æœ‰:associative array, hash table, red-black trees &#x2026; unordered<sub>mapæ˜¯ä¸ºå­—ç¬¦ä¸²keyä¼˜åŒ–è¿‡çš„map</sub>.
</p>

<p>
è¿™äº›å®¹å™¨åœ¨&lt;map&gt;,&lt;set&gt;,&lt;unordered<sub>map</sub>&gt;,&lt;unordered<sub>set</sub>&gt;ä¸­.
</p>
</div>

<div id="outline-container-orgheadline14" class="outline-4">
<h4 id="orgheadline14"><span class="section-number-4">1.7.1</span> map overview</h4>
<div class="outline-text-4" id="text-1-7-1">
<p>
STLé‡‡ç”¨äº†çº¢é»‘æ ‘å®ç°map &#x2013; å·¦å­æ ‘çš„keyå°äºçˆ¶èŠ‚ç‚¹, å³å­æ ‘å¤§äºçˆ¶èŠ‚ç‚¹.
</p>

<p>
mapçš„interface:
</p>
<pre class="example">
class map {
    using value_type = pair&lt;Key, Value&gt;;

    using iterator = sometype1; // å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæŒ‡å‘ tree node çš„æŒ‡é’ˆ
    using const_iterator = sometype2;

    iterator begin();
    iterator end();
    Value&amp; operator[](const Key&amp; k);
    iterator find(const Key&amp; k);
    void erase(iterator p);
    pair&lt;iterator, bool&gt; insert(const value_type&amp;); // æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹
}
</pre>
<p>
mapçš„iteratoræ˜¯ä¸€ä¸ªç±»ä¼¼äº[æŒ‡å‘æ ‘èŠ‚ç‚¹çš„æŒ‡é’ˆ]çš„ä¸œè¥¿.
</p>

<p>
insertæ–¹æ³•çš„è¿”å›å€¼è¦ç‰¹åˆ«æ³¨æ„ä¸€ä¸‹, å®ƒæ˜¯ä¸€ä¸ª&lt;è¿­ä»£å™¨, bool&gt;é”®å€¼å¯¹.å¦‚æœæ’å…¥æˆåŠŸäº†, boolæ˜¯true, å¹¶è¿”å›æŒ‡å‘æ–°å…ƒç´ çš„iterator. å¦‚æœæ’å…¥å¤±è´¥boolæ˜¯false. è¿™ä¸ªè¿”å›å€¼ç»å¸¸ä¼šè¢«å¿½ç•¥.
</p>

<p>
mapæ”¯æŒæŒ‰ç…§ç‰¹å®šæ–¹æ³•æ’åº:
</p>
<pre class="example">
map&lt;string, double, No_case&gt; m;
</pre>
<p>
No<sub>caseçš„é»˜è®¤å€¼æ˜¯less</sub>&lt;Key&gt;.
</p>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-4">
<h4 id="orgheadline15"><span class="section-number-4">1.7.2</span> unordered<sub>map</sub></h4>
<div class="outline-text-4" id="text-1-7-2">
<p>
åœ¨vectorä¸­æŸ¥æ‰¾çš„å¤æ‚åº¦æ˜¯O(N), åœ¨mapä¸­æŸ¥æ‰¾çš„å¤æ‚åº¦æ˜¯O(log<sub>2</sub>(N)), åœ¨unordered<sub>mapä¸­æ˜¯O</sub>(1).
</p>

<p>
STLçš„unordered<sub>mapæ˜¯ç”¨å“ˆå¸Œè¡¨å®ç°çš„</sub>: æŠŠkeyå“ˆå¸Œåˆ°ä¸€ä¸ªä¸å¤ªé•¿çš„vectorä¸­,ç”¨ä¸‹æ ‡ç´¢å¼•, æŸ¥æ‰¾å¤æ‚åº¦å¯ä»¥é™ä½åˆ°æ¥è¿‘O(1).
</p>

<p>
å…³äºvector, mapå’Œunordered<sub>mapçš„ä½¿ç”¨æç¤º</sub>:
</p>
<ul class="org-ul">
<li>vector: æ²¡ä»€ä¹ˆäº‹çš„è¯å°±ç”¨å®ƒå§</li>
<li>map: éœ€è¦æ ¹æ®keyæŸ¥è¯¢, ä¸”keyæ”¯æŒæ¯”è¾ƒé«˜æ•ˆçš„&lt;è¿ç®—.</li>
<li>unordered<sub>map</sub>: éœ€è¦é¢‘ç¹çš„æŸ¥æ‰¾, ä¸”ä¸éœ€è¦æœ‰åºçš„éå†.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">1.8</span> Set</h3>
<div class="outline-text-3" id="text-1-8">
<p>
setå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªåªæœ‰keyçš„map, å®ƒä¹Ÿæ˜¯æ£µçº¢é»‘æ ‘.
</p>
<ul class="org-ul">
<li>setæ²¡æœ‰value, å®ƒä¸æ”¯æŒoperator[].</li>
<li>setä¸éœ€è¦pair, ä½¿ç”¨èµ·æ¥ä¸éœ€è¦å†™it-&gt;secondè¿™ç§ä»£ç , æ¯”mapç®€æ´ä¸€äº›.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline23" class="outline-3">
<h3 id="orgheadline23"><span class="section-number-3">1.9</span> Copying</h3>
<div class="outline-text-3" id="text-1-9">
<p>
STLæä¾›äº†3ç§copyæ“ä½œ: copy, unique<sub>copy</sub>, copy<sub>if</sub>
</p>
</div>

<div id="outline-container-orgheadline18" class="outline-4">
<h4 id="orgheadline18"><span class="section-number-4">1.9.1</span> basic copy</h4>
<div class="outline-text-4" id="text-1-9-1">
<pre class="example">
template&lt;typename In, typename Out&gt;
Out copy(In first, In last, Out res)
{ 
    while ( first != last ) {
        *res = *first;
  ++res;
  ++first;
    }
    return res;
}
</pre>

<p>
æ³¨æ„, resçš„sizeéœ€è¦ç¨‹åºçŒ¿è‡ªå·±æ£€æŸ¥, STLä¸ºäº†æ€§èƒ½, ä¸€èˆ¬ä¸æä¾›è¾¹ç•Œæ£€æŸ¥.
</p>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-4">
<h4 id="orgheadline19"><span class="section-number-4">1.9.2</span> Stream iterator</h4>
<div class="outline-text-4" id="text-1-9-2">
<p>
å¯ä»¥åˆ©ç”¨copyæŠŠinput streamçš„å†…å®¹è½¬ç§»åˆ°output streamä¸­.
</p>

<pre class="example">
string from, to;
cin &gt;&gt; from &gt;&gt; to; // source and target file name
ifstream is {from};
ofstream os {to};

istream_iterator&lt;string&gt; ii {is};
istream_iterator&lt;string&gt; eof;
ostream_iterator&lt;string&gt; oo {os, "\n"};

vector&lt;string&gt; b{ii, eos};
sort(b.begin(), b .end());
copy(b.begin(), b.end(), oo);
</pre>

<p>
ä¼ å…¥ä¸€å¯¹iteratorç»™vectorä½œä¸ºåˆå§‹åŒ–å‚æ•°çš„æ„æ€æ˜¯"è¯»å–[a:b)". ä¸Šé¢vector bä¼šè¯»å–è¾“å…¥æ–‡ä»¶çš„å†…å®¹, ç›´åˆ°ç¢°åˆ°eofä¸ºæ­¢.
æ®è¯´å¦‚æœè¯•éªŒä¸€ä¸‹è¿™ä¸ªcase(å›å¤´å†è¯´å§..), ä¼šå‘ç°input bufferæ¯”æƒ³è±¡ä¸­çš„å°, å¾ˆå®¹æ˜“åˆ©ç”¨è¿™ä¸ªæä¸€äº›overflowä»€ä¹ˆçš„.
</p>
</div>
</div>

<div id="outline-container-orgheadline20" class="outline-4">
<h4 id="orgheadline20"><span class="section-number-4">1.9.3</span> Unique<sub>copy</sub></h4>
<div class="outline-text-4" id="text-1-9-3">
<p>
unique<sub>copyä¸ä¼šæ‹·è´é‡å¤çš„å…ƒç´ </sub>
</p>
</div>
</div>

<div id="outline-container-orgheadline21" class="outline-4">
<h4 id="orgheadline21"><span class="section-number-4">1.9.4</span> Using a set to keep order</h4>
<div class="outline-text-4" id="text-1-9-4">
<p>
ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢copyä¾‹å­çš„æœ€åä¸‰è¡Œ
</p>
<pre class="example">
set&lt;string&gt; b {istream_iterator&lt;string&gt;{is}, istream_iterator&lt;string&gt;{}};
copy(b.begin(), b.end(), ostream_iterator&lt;string&gt;{os, ""}};
</pre>

<p>
è¿™æ—¶åˆ©ç”¨äº†setçš„ç‰¹æ€§:è‡ªåŠ¨å»é‡, è‡ªåŠ¨æ’åº.
</p>
</div>
</div>

<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22"><span class="section-number-4">1.9.5</span> copy<sub>if</sub></h4>
<div class="outline-text-4" id="text-1-9-5">
<p>
è·Ÿå‰é¢çš„algorithmsæ–¹æ³•ç±»ä¼¼, STLä¹Ÿæä¾›äº†å¯ä»¥ä½¿ç”¨å‡½æ•°å¯¹è±¡çš„ç‰ˆæœ¬.
</p>
<pre class="example">
Out copy_if(In first, In last, Out res, Pred p);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline24" class="outline-3">
<h3 id="orgheadline24"><span class="section-number-3">1.10</span> Sorting and seraching</h3>
<div class="outline-text-3" id="text-1-10">
<p>
å¦‚æœéœ€è¦ä¿æŒæ•°æ®æœ‰åº, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ‰åºçš„å®¹å™¨mapå’Œset, ä¹Ÿå¯ä»¥ä½¿ç”¨sortæ–¹æ³•. sort()é»˜è®¤ä½¿ç”¨&lt;ä½œä¸ºæ’åºè§„åˆ™, ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰æ’åºå‡½æ•°.
</p>

<p>
å½“æ•°æ®æœ‰åºä»¥å, findå°±é«˜æ•ˆå¤šäº†, å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾, binary<sub>search</sub>() å’Œ equal<sub>range</sub>().
</p>
<pre class="example">
bool binary_search(Ran first, Ran last, const T&amp;val);
</pre>
<p>
binary<sub>searchä»…èƒ½å‘Šè¯‰æˆ‘ä»¬è¦æŸ¥æ‰¾çš„æ•°æ®æ˜¯å¦å­˜åœ¨</sub>. å¦‚æœéœ€è¦çŸ¥é“å…ƒç´ çš„ä½ç½®, å¯ä»¥ç”¨ lower<sub>bound</sub>(), upper<sub>bound</sub>() æˆ–è€… equal<sub>range</sub>().
</p>
</div>
</div>

<div id="outline-container-orgheadline25" class="outline-3">
<h3 id="orgheadline25"><span class="section-number-3">1.11</span> Container algorithms</h3>
<div class="outline-text-3" id="text-1-11">
<p>
ç»¼ä¸Šæ‰€è¿°, å®¹å™¨çš„ç®—æ³•å¤§æŠµæ˜¯æ¥å—ä¸€å¯¹iteratoråšå‚æ•°, ç„¶åè¿”å›ä¸€ä¸ªiterator. è¿™ä¸ªè®¾å®šå¾ˆå¥½çš„ä¿è¯äº†ç®—æ³•çš„é€šç”¨æ€§.
</p>

<p>
ä»¥ä¸Š.
</p>
</div>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/03/06/princples-and-practice-using-c++-ch21-reading-note/</guid>
    </item>
    <item>
      <title>princples and practice using c++ ch3 reading note</title>
      <link>http://tsubasawp.github.io/blog/2016/03/08/princples-and-practice-using-c++-ch3-reading-note/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>princples and practice using c++ ch3 reading note</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. c++ 11</a></li>
<li><a href="#orgheadline2">2. Names</a></li>
<li><a href="#orgheadline3">3. Types and objects</a></li>
<li><a href="#orgheadline6">4. Type safety</a>
<ul>
<li><a href="#orgheadline4">4.1. Safe conversions</a></li>
<li><a href="#orgheadline5">4.2. Unsafe conversions</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
3-9ç« æ¯”è¾ƒåŸºç¡€, ä»…å‡­å–œå¥½é€‰æ‹©ä¸€äº›å†…å®¹è®°å½•.
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> c++ 11</h2>
<div class="outline-text-2" id="text-1">
<p>
{}: åˆå§‹åŒ–è¿ç®—ç¬¦. å®ƒä¸å…è®¸ä¸å®‰å…¨ç±»å‹è½¬æ¢.
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2"><span class="section-number-2">2</span> Names</h2>
<div class="outline-text-2" id="text-2">
<p>
èµ·åçš„æ³¨æ„äº‹é¡¹:
</p>
<ul class="org-ul">
<li>å°½é‡ä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿å¼€å¤´çš„å˜é‡å</li>
<li>åå­—ä¸è¦å¤ªé•¿</li>
<li>ä¸è¦å…¨éƒ¨å¤§å†™, å…¨å¤§å†™å˜é‡æ˜¯ä¸ºå®å®šä¹‰ä¿ç•™çš„</li>
<li>èµ·åè¦æœ‰æ„ä¹‰</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3"><span class="section-number-2">3</span> Types and objects</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>type: ä¸€ç§é€»è¾‘ç»“æ„, å®ƒå®šä¹‰äº†ä¸€ç³»åˆ—å€¼å’Œæ“ä½œ.</li>
<li>object: ä¸€å—å†…å­˜, å­˜å‚¨ç€æŸä¸ªç±»å‹(type)çš„å€¼(value)</li>
<li>value: ä¸€äº›å†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°æ®, å¯ç”¨typeæ¥è§£æ</li>
<li>variable: ä¸€ä¸ªæœ‰åå­—çš„object</li>
<li>declaration: ä¸ºobjectå‘½å</li>
<li>definition: ä¸ºobjectåˆ†é…å†…å­˜</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6"><span class="section-number-2">4</span> Type safety</h2>
<div class="outline-text-2" id="text-4">
<p>
c++ä¸æ˜¯ç±»å‹å®‰å…¨çš„, æ‰€ä»¥è¦æ ¼å¤–å°å¿ƒ
</p>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">4.1</span> Safe conversions</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>bool to char/int/double</li>
<li>char to int/double</li>
<li>int to double</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">4.2</span> Unsafe conversions</h3>
<div class="outline-text-3" id="text-4-2">
<p>
å½“ç›®æ ‡ç±»å‹æ¯”åŸç±»å‹"å°"æ—¶, ç±»å‹è½¬æ¢æ˜¯ä¸å®‰å…¨çš„, ä¼šä¸¢å¤±ä¸€äº›ä¿¡æ¯. æ¯”å¦‚æŠŠdoubleè½¬ä¸ºint.
</p>

<p>
c++å…è®¸ä¸å®‰å…¨çš„ç±»å‹è½¬æ¢ &#x2014; å½“ç„¶ä½ å¯ä»¥é€‰æ‹©è®©ç¼–è¯‘å™¨ç»™å‡ºè­¦å‘Š.
</p>

<p>
ä¸ºå•¥c++å…è®¸è¿™ç§è¡Œä¸ºå‘¢? å†å²åŸå› , å› ä¸ºc++çš„ç¥–å…ˆcä¹Ÿè¿™ä¹ˆå¹², å¹¶ä¸”æœ‰äº›å¤è€çš„ä»£ç ä¾èµ–äºè¿™ç§è½¬æ¢.
</p>

<p>
c++11æä¾›äº†åˆå§‹åŒ–è¿ç®—ç¬¦{}, å®ƒé‡åˆ°unsafe conversionä¼šç›´æ¥æŠ¥é”™:
</p>
<pre class="example">
int x {2.7} // error: double -&gt; int may narrow.
</pre>
</div>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-05-03</pubDate>
      <guid>http://tsubasawp.github.io/blog/2016/03/08/princples-and-practice-using-c++-ch3-reading-note/</guid>
    </item>
  </channel>
</rss>